"use strict";(self.webpackChunkD2ArmorPicker=self.webpackChunkD2ArmorPicker||[]).push([[77],{1077:(Iy,or,an)=>{an.r(or),an.d(or,{FirstLoadListeners:()=>f.F,GenerateSecureID:()=>f.G,Highlight:()=>er,HighlightWarning:()=>dt,MetricCategory:()=>f.n,getPreviousSessionData:()=>f.f,getTracer:()=>f.x,setupBrowserTracing:()=>f.y});var f=an(9537),nc=Object.defineProperty,sc=Object.defineProperties,rc=Object.getOwnPropertyDescriptors,Ot=Object.getOwnPropertySymbols,lr=Object.prototype.hasOwnProperty,ar=Object.prototype.propertyIsEnumerable,dn=(e,t,i)=>t in e?nc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,R=(e,t)=>{for(var i in t||(t={}))lr.call(t,i)&&dn(e,i,t[i]);if(Ot)for(var i of Ot(t))ar.call(t,i)&&dn(e,i,t[i]);return e},se=(e,t)=>sc(e,rc(t)),ge=(e,t)=>{var i={};for(var n in e)lr.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&Ot)for(var n of Ot(e))t.indexOf(n)<0&&ar.call(e,n)&&(i[n]=e[n]);return i},Y=(e,t,i)=>dn(e,"symbol"!=typeof t?t+"":t,i),te=(e,t,i)=>new Promise((n,s)=>{var r=a=>{try{o(i.next(a))}catch(c){s(c)}},l=a=>{try{o(i.throw(a))}catch(c){s(c)}},o=a=>a.done?n(a.value):Promise.resolve(a.value).then(r,l);o((i=i.apply(e,t)).next())});function ac(e,t){for(var i=0;i<t.length;i++){const n=t[i];if("string"!=typeof n&&!Array.isArray(n))for(const s in n)if("default"!==s&&!(s in e)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const dc=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function uc(e){return hc[e.charCodeAt(0)]}const hc=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],pc=Object.freeze({});function bc(e,t){const i=e[t];return"object"==typeof i?i:"function"==typeof i?{enter:i,leave:void 0}:{enter:e.enter,leave:e.leave}}function dr(e){return function mc(e,t,i=f.Q){const n=new Map;for(const g of Object.values(f.K))n.set(g,bc(t,g));let s,d,u,r=Array.isArray(e),l=[e],o=-1,a=[],c=e;const m=[],p=[];do{o++;const g=o===l.length,W=g&&0!==a.length;if(g){if(d=0===p.length?void 0:m[m.length-1],c=u,u=p.pop(),W)if(r){c=c.slice();let G=0;for(const[C,T]of a){const Z=C-G;null===T?(c.splice(Z,1),G++):c[Z]=T}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[G,C]of a)c[G]=C}o=s.index,l=s.keys,a=s.edits,r=s.inArray,s=s.prev}else if(u){if(d=r?o:l[o],c=u[d],null==c)continue;m.push(d)}let X;if(!Array.isArray(c)){var y,h;(0,f.i)(c)||(0,f.d)(!1,`Invalid AST Node: ${(0,f.a)(c)}.`);const G=g?null===(y=n.get(c.kind))||void 0===y?void 0:y.leave:null===(h=n.get(c.kind))||void 0===h?void 0:h.enter;if(X=G?.call(t,c,d,u,m,p),X===pc)break;if(!1===X){if(!g){m.pop();continue}}else if(void 0!==X&&(a.push([d,X]),!g)){if(!(0,f.i)(X)){m.pop();continue}c=X}}var S;void 0===X&&W&&a.push([d,c]),g?m.pop():(s={inArray:r,index:o,keys:l,edits:a,prev:s},r=Array.isArray(c),l=r?c:null!==(S=i[c.kind])&&void 0!==S?S:[],o=-1,a=[],u&&p.push(u),u=c)}while(void 0!==s);return 0!==a.length?a[a.length-1][1]:e}(e,fc)}const fc={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>w(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=M("(",w(e.variableDefinitions,", "),")"),i=w([e.operation,w([e.name,t]),w(e.directives," ")]," ");return("query"===i?"":i+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:i,directives:n})=>e+": "+t+M(" = ",i)+M(" ",w(n," "))},SelectionSet:{leave:({selections:e})=>Ze(e)},Field:{leave({alias:e,name:t,arguments:i,directives:n,selectionSet:s}){const r=M("",e,": ")+t;let l=r+M("(",w(i,", "),")");return l.length>80&&(l=r+M("(\n",Pt(w(i,"\n")),"\n)")),w([l,w(n," "),s]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+M(" ",w(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:i})=>w(["...",M("on ",e),w(t," "),i]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:i,directives:n,selectionSet:s})=>`fragment ${e}${M("(",w(i,", "),")")} on ${t} ${M("",w(n," ")," ")}`+s},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?(0,f.p)(e):function cc(e){return`"${e.replace(dc,uc)}"`}(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+w(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+w(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+M("(",w(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:i})=>M("",e,"\n")+w(["schema",w(t," "),Ze(i)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:i})=>M("",e,"\n")+w(["scalar",t,w(i," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:i,directives:n,fields:s})=>M("",e,"\n")+w(["type",t,M("implements ",w(i," & ")),w(n," "),Ze(s)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:i,type:n,directives:s})=>M("",e,"\n")+t+(ur(i)?M("(\n",Pt(w(i,"\n")),"\n)"):M("(",w(i,", "),")"))+": "+n+M(" ",w(s," "))},InputValueDefinition:{leave:({description:e,name:t,type:i,defaultValue:n,directives:s})=>M("",e,"\n")+w([t+": "+i,M("= ",n),w(s," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:i,directives:n,fields:s})=>M("",e,"\n")+w(["interface",t,M("implements ",w(i," & ")),w(n," "),Ze(s)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:i,types:n})=>M("",e,"\n")+w(["union",t,w(i," "),M("= ",w(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:i,values:n})=>M("",e,"\n")+w(["enum",t,w(i," "),Ze(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:i})=>M("",e,"\n")+w([t,w(i," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:i,fields:n})=>M("",e,"\n")+w(["input",t,w(i," "),Ze(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:i,repeatable:n,locations:s})=>M("",e,"\n")+"directive @"+t+(ur(i)?M("(\n",Pt(w(i,"\n")),"\n)"):M("(",w(i,", "),")"))+(n?" repeatable":"")+" on "+w(s," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>w(["extend schema",w(e," "),Ze(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>w(["extend scalar",e,w(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:i,fields:n})=>w(["extend type",e,M("implements ",w(t," & ")),w(i," "),Ze(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:i,fields:n})=>w(["extend interface",e,M("implements ",w(t," & ")),w(i," "),Ze(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:i})=>w(["extend union",e,w(t," "),M("= ",w(i," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:i})=>w(["extend enum",e,w(t," "),Ze(i)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:i})=>w(["extend input",e,w(t," "),Ze(i)]," ")}};function w(e,t=""){var i;return null!==(i=e?.filter(n=>n).join(t))&&void 0!==i?i:""}function Ze(e){return M("{\n",Pt(w(e,"\n")),"\n}")}function M(e,t,i=""){return null!=t&&""!==t?e+t+i:""}function Pt(e){return M("  ",e.replace(/\n/g,"\n  "))}function ur(e){var t;return null!==(t=e?.some(i=>i.includes("\n")))&&void 0!==t&&t}const hr={key:"_sid"},Zc=e=>{const t=e?Object.assign({},hr,e):hr;let i=0;return{name:"rrweb/sequential-id@1",eventProcessor:n=>(Object.assign(n,{[t.key]:++i}),n),options:t}},un=JSON,pr=e=>{var t,i;let n;const s=e.definitions.filter(r=>"OperationDefinition"===r.kind);return 1===s.length&&(n=null==(i=null==(t=s[0])?void 0:t.name)?void 0:i.value),n},hn=e=>{if("string"==typeof e){let i;try{const n=(0,f.b)(e);i=pr(n)}catch{}return{query:e,operationName:i}}const t=pr(e);return{query:dr(e),operationName:t}};class Ee extends Error{constructor(t,i){super(`${Ee.extractMessage(t)}: ${JSON.stringify({response:t,request:i})}`),Object.setPrototypeOf(this,Ee.prototype),this.response=t,this.request=i,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Ee)}static extractMessage(t){var i,n,s;return null!=(s=null==(n=null==(i=t.errors)?void 0:i[0])?void 0:n.message)?s:`GraphQL Error (Code: ${t.status})`}}var pn={exports:{}};!function(e,t){var r,i=typeof self<"u"?self:f.c,n=function(){function r(){this.fetch=!1,this.DOMException=i.DOMException}return r.prototype=i,new r}();r=n,function(l){var o_searchParams="URLSearchParams"in r,o_iterable="Symbol"in r&&"iterator"in Symbol,o_blob="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),o_formData="FormData"in r,o_arrayBuffer="ArrayBuffer"in r;if(o_arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(b){return b&&c.indexOf(Object.prototype.toString.call(b))>-1};function u(b){if("string"!=typeof b&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function m(b){return"string"!=typeof b&&(b=String(b)),b}function p(b){var I={next:function(){var k=b.shift();return{done:void 0===k,value:k}}};return o_iterable&&(I[Symbol.iterator]=function(){return I}),I}function y(b){this.map={},b instanceof y?b.forEach(function(I,k){this.append(k,I)},this):Array.isArray(b)?b.forEach(function(I){this.append(I[0],I[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(I){this.append(I,b[I])},this)}function h(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function S(b){return new Promise(function(I,k){b.onload=function(){I(b.result)},b.onerror=function(){k(b.error)}})}function g(b){var I=new FileReader,k=S(I);return I.readAsArrayBuffer(b),k}function G(b){if(b.slice)return b.slice(0);var I=new Uint8Array(b.byteLength);return I.set(new Uint8Array(b)),I.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?"string"==typeof b?this._bodyText=b:o_blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:o_formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:o_searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():o_arrayBuffer&&o_blob&&function a(b){return b&&DataView.prototype.isPrototypeOf(b)}(b)?(this._bodyArrayBuffer=G(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||d(b))?this._bodyArrayBuffer=G(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||("string"==typeof b?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o_searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o_blob&&(this.blob=function(){var b=h(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var b=h(this);if(b)return b;if(this._bodyBlob)return function W(b){var I=new FileReader,k=S(I);return I.readAsText(b),k}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function X(b){for(var I=new Uint8Array(b),k=new Array(I.length),_=0;_<I.length;_++)k[_]=String.fromCharCode(I[_]);return k.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o_formData&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(b,I){b=u(b),I=m(I);var k=this.map[b];this.map[b]=k?k+", "+I:I},y.prototype.delete=function(b){delete this.map[u(b)]},y.prototype.get=function(b){return b=u(b),this.has(b)?this.map[b]:null},y.prototype.has=function(b){return this.map.hasOwnProperty(u(b))},y.prototype.set=function(b,I){this.map[u(b)]=m(I)},y.prototype.forEach=function(b,I){for(var k in this.map)this.map.hasOwnProperty(k)&&b.call(I,this.map[k],k,this)},y.prototype.keys=function(){var b=[];return this.forEach(function(I,k){b.push(k)}),p(b)},y.prototype.values=function(){var b=[];return this.forEach(function(I){b.push(I)}),p(b)},y.prototype.entries=function(){var b=[];return this.forEach(function(I,k){b.push([k,I])}),p(b)},o_iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(b,I){var k=(I=I||{}).body;if(b instanceof v){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,I.headers||(this.headers=new y(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!k&&null!=b._bodyInit&&(k=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new y(I.headers)),this.method=function Z(b){var I=b.toUpperCase();return T.indexOf(I)>-1?I:b}(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}function K(b){var I=new FormData;return b.trim().split("&").forEach(function(k){if(k){var _=k.split("="),F=_.shift().replace(/\+/g," "),x=_.join("=").replace(/\+/g," ");I.append(decodeURIComponent(F),decodeURIComponent(x))}}),I}function L(b){var I=new y;return b.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(_){var F=_.split(":"),x=F.shift().trim();if(x){var ue=F.join(":").trim();I.append(x,ue)}}),I}function E(b,I){I||(I={}),this.type="default",this.status=void 0===I.status?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new y(I.headers),this.url=I.url||"",this._initBody(b)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},C.call(v.prototype),C.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},E.error=function(){var b=new E(null,{status:0,statusText:""});return b.type="error",b};var oe=[301,302,303,307,308];E.redirect=function(b,I){if(-1===oe.indexOf(I))throw new RangeError("Invalid status code");return new E(null,{status:I,headers:{location:b}})},l.DOMException=r.DOMException;try{new l.DOMException}catch{l.DOMException=function(I,k){this.message=I,this.name=k;var _=Error(I);this.stack=_.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function J(b,I){return new Promise(function(k,_){var F=new v(b,I);if(F.signal&&F.signal.aborted)return _(new l.DOMException("Aborted","AbortError"));var x=new XMLHttpRequest;function ue(){x.abort()}x.onload=function(){var le={status:x.status,statusText:x.statusText,headers:L(x.getAllResponseHeaders()||"")};le.url="responseURL"in x?x.responseURL:le.headers.get("X-Request-URL"),k(new E("response"in x?x.response:x.responseText,le))},x.onerror=function(){_(new TypeError("Network request failed"))},x.ontimeout=function(){_(new TypeError("Network request failed"))},x.onabort=function(){_(new l.DOMException("Aborted","AbortError"))},x.open(F.method,F.url,!0),"include"===F.credentials?x.withCredentials=!0:"omit"===F.credentials&&(x.withCredentials=!1),"responseType"in x&&o_blob&&(x.responseType="blob"),F.headers.forEach(function(le,Ht){x.setRequestHeader(Ht,le)}),F.signal&&(F.signal.addEventListener("abort",ue),x.onreadystatechange=function(){4===x.readyState&&F.signal.removeEventListener("abort",ue)}),x.send(typeof F._bodyInit>"u"?null:F._bodyInit)})}J.polyfill=!0,r.fetch||(r.fetch=J,r.Headers=y,r.Request=v,r.Response=E),l.Headers=y,l.Request=v,l.Response=E,l.fetch=J,Object.defineProperty(l,"__esModule",{value:!0})}({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t}(pn,pn.exports);var Bt=pn.exports;const Et=(0,f.g)(Bt),Sc=ac({__proto__:null,default:Et},[Bt]),je=e=>{let t={};return e&&(typeof Headers<"u"&&e instanceof Headers||Sc&&Bt.Headers&&e instanceof Bt.Headers?t=(e=>{const t={};return e.forEach((i,n)=>{t[n]=i}),t})(e):Array.isArray(e)?e.forEach(([i,n])=>{i&&void 0!==n&&(t[i]=n)}):t=e),t},mr=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim();class Cc{constructor(t,i={}){this.url=t,this.requestConfig=i,this.rawRequest=(...n)=>te(this,null,function*(){const[s,r,l]=n,o=((e,t,i)=>e.query?e:{query:e,variables:t,requestHeaders:i,signal:void 0})(s,r,l),a=this.requestConfig,{headers:c,fetch:d=Et,method:u="POST",requestMiddleware:m,responseMiddleware:p}=a,y=ge(a,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:h}=this;void 0!==o.signal&&(y.signal=o.signal);const{operationName:S}=hn(o.query);return mn({url:h,query:o.query,variables:o.variables,headers:R(R({},je(bn(c))),je(o.requestHeaders)),operationName:S,fetch:d,method:u,fetchOptions:y,middleware:m}).then(g=>(p&&p(g),g)).catch(g=>{throw p&&p(g),g})})}request(t,...i){return te(this,null,function*(){const[n,s]=i,r=((e,t,i)=>e.document?e:{document:e,variables:t,requestHeaders:i,signal:void 0})(t,n,s),l=this.requestConfig,{headers:o,fetch:a=Et,method:c="POST",requestMiddleware:d,responseMiddleware:u}=l,m=ge(l,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:p}=this;void 0!==r.signal&&(m.signal=r.signal);const{query:y,operationName:h}=hn(r.document);return mn({url:p,query:y,variables:r.variables,headers:R(R({},je(bn(o))),je(r.requestHeaders)),operationName:h,fetch:a,method:c,fetchOptions:m,middleware:d}).then(S=>(u&&u(S),S.data)).catch(S=>{throw u&&u(S),S})})}batchRequests(t,i){var n;const s=((e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0})(t,i),r=this.requestConfig,{headers:l}=r,o=ge(r,["headers"]);void 0!==s.signal&&(o.signal=s.signal);const a=s.documents.map(({document:d})=>hn(d).query),c=s.documents.map(({variables:d})=>d);return mn({url:this.url,query:a,variables:c,headers:R(R({},je(bn(l))),je(s.requestHeaders)),operationName:void 0,fetch:null!=(n=this.requestConfig.fetch)?n:Et,method:this.requestConfig.method||"POST",fetchOptions:o,middleware:this.requestConfig.requestMiddleware}).then(d=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(d),d.data)).catch(d=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(d),d})}setHeaders(t){return this.requestConfig.headers=t,this}setHeader(t,i){const{headers:n}=this.requestConfig;return n?n[t]=i:this.requestConfig.headers={[t]:i},this}setEndpoint(t){return this.url=t,this}}const mn=e=>te(void 0,null,function*(){var t,i;const{query:n,variables:s,fetchOptions:r}=e,l=(e=>t=>te(void 0,null,function*(){var i;const{url:n,query:s,variables:r,operationName:l,fetch:o,fetchOptions:a,middleware:c}=t,d=R({},t.headers);let m,u="";"POST"===e?(m=vc(s,r,l,a.jsonSerializer),"string"==typeof m&&(d["Content-Type"]="application/json")):u=(e=>{if(!Array.isArray(e.query)){const n=e,s=[`query=${encodeURIComponent(mr(n.query))}`];return e.variables&&s.push(`variables=${encodeURIComponent(n.jsonSerializer.stringify(n.variables))}`),n.operationName&&s.push(`operationName=${encodeURIComponent(n.operationName)}`),s.join("&")}if(typeof e.variables<"u"&&!Array.isArray(e.variables))throw new Error("Cannot create query with given variable type, array expected");const t=e,i=e.query.reduce((n,s,r)=>(n.push({query:mr(s),variables:t.variables?t.jsonSerializer.stringify(t.variables[r]):void 0}),n),[]);return`query=${encodeURIComponent(t.jsonSerializer.stringify(i))}`})({query:s,variables:r,operationName:l,jsonSerializer:null!=(i=a.jsonSerializer)?i:un});const p=R({method:e,headers:d,body:m},a);let y=n,h=p;if(c){const S=yield Promise.resolve(c(se(R({},p),{url:n,operationName:l,variables:r}))),{url:g}=S;y=g,h=ge(S,["url"])}return u&&(y=`${y}?${u}`),yield o(y,h)}))((e=>e.toUpperCase())(null!=(t=e.method)?t:"post")),o=Array.isArray(e.query),a=yield l(e),c=yield kc(a,null!=(i=r.jsonSerializer)?i:un),d=Array.isArray(c)?!c.some(({data:m})=>!m):!!c.data,u=Array.isArray(c)||!c.errors||Array.isArray(c.errors)&&!c.errors.length||"all"===r.errorPolicy||"ignore"===r.errorPolicy;if(a.ok&&u&&d){const m=(Array.isArray(c),c),y=ge(m,["errors"]),h="ignore"===r.errorPolicy?y:c;return se(R({},o?{data:h}:h),{headers:a.headers,status:a.status})}throw new Ee(se(R({},"string"==typeof c?{error:c}:c),{status:a.status,headers:a.headers}),{query:n,variables:s})}),vc=(e,t,i,n)=>{const s=n??un;if(!Array.isArray(e))return s.stringify({query:e,variables:t,operationName:i});if(typeof t<"u"&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");const r=e.reduce((l,o,a)=>(l.push({query:o,variables:t?t[a]:void 0}),l),[]);return s.stringify(r)},kc=(e,t)=>te(void 0,null,function*(){let i;return e.headers.forEach((n,s)=>{"content-type"===s.toLowerCase()&&(i=n)}),i&&(i.toLowerCase().startsWith("application/json")||i.toLowerCase().startsWith("application/graphql+json")||i.toLowerCase().startsWith("application/graphql-response+json"))?t.parse(yield e.text()):e.text()}),bn=e=>"function"==typeof e?e():e;var br,xc=Object.defineProperty,V=(e,t,i)=>((e,t,i)=>t in e?xc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i),Yc=Object.defineProperty,yr=(e,t,i)=>((e,t,i)=>t in e?Yc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i),ie=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(ie||{});const fr={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},gr={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},jt={};function yn(e){if(jt[e])return jt[e];const t=globalThis[e],i=t.prototype,n=e in fr?fr[e]:void 0,s=!(!n||!n.every(o=>{var a,c;return!(null==(c=null==(a=Object.getOwnPropertyDescriptor(i,o))?void 0:a.get)||!c.toString().includes("[native code]"))})),r=e in gr?gr[e]:void 0,l=!(!r||!r.every(o=>{var a;return"function"==typeof i[o]&&(null==(a=i[o])?void 0:a.toString().includes("[native code]"))}));if(s&&l)return jt[e]=t.prototype,t.prototype;try{const o=document.createElement("iframe");document.body.appendChild(o);const a=o.contentWindow;if(!a)return t.prototype;const c=a[e].prototype;return document.body.removeChild(o),c?jt[e]=c:i}catch{return i}}const fn={};function Ye(e,t,i){var n;const s=`${e}.${String(i)}`;if(fn[s])return fn[s].call(t);const r=yn(e),l=null==(n=Object.getOwnPropertyDescriptor(r,i))?void 0:n.get;return l?(fn[s]=l,l.call(t)):t[i]}const gn={};function Zr(e,t,i){const n=`${e}.${String(i)}`;if(gn[n])return gn[n].bind(t);const s=yn(e)[i];return"function"!=typeof s?t[i]:(gn[n]=s,s.bind(t))}const ne={childNodes:function Tc(e){return Ye("Node",e,"childNodes")},parentNode:function Nc(e){return Ye("Node",e,"parentNode")},parentElement:function Uc(e){return Ye("Node",e,"parentElement")},textContent:function Fc(e){return Ye("Node",e,"textContent")},contains:function Kc(e,t){return Zr("Node",e,"contains")(t)},getRootNode:function Mc(e){return Zr("Node",e,"getRootNode")()},host:function Hc(e){return e&&"host"in e?Ye("ShadowRoot",e,"host"):null},styleSheets:function zc(e){return e.styleSheets},shadowRoot:function Oc(e){return e&&"shadowRoot"in e?Ye("Element",e,"shadowRoot"):null},querySelector:function Pc(e,t){return Ye("Element",e,"querySelector")(t)},querySelectorAll:function Bc(e,t){return Ye("Element",e,"querySelectorAll")(t)},mutationObserver:function Ec(){return yn("MutationObserver").constructor}};function Ir(e){return e.nodeType===e.ELEMENT_NODE}function ut(e){const t=e&&"host"in e&&"mode"in e&&ne.host(e)||null;return!(!t||!("shadowRoot"in t)||ne.shadowRoot(t)!==e)}function ht(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Dt(e){try{const t=e.rules||e.cssRules;return t?function jc(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}(Array.from(t,n=>Gr(n,e.href)).join("")):null}catch{return null}}function Gr(e,t){if(function Ac(e){return"styleSheet"in e}(e)){let i;try{i=Dt(e.styleSheet)||function Dc(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const i=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?i.push("layer"):e.layerName&&i.push(`layer(${e.layerName})`),e.supportsText&&i.push(`supports(${e.supportsText})`),e.media.length&&i.push(e.media.mediaText),i.join(" ")+";"}(e)}catch{i=e.cssText}return e.styleSheet.href?Qt(i,e.styleSheet.href):i}{let i=e.cssText;return function _c(e){return"selectorText"in e}(e)&&e.selectorText.includes(":")&&(i=function Qc(e){return e.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}(i)),t?Qt(i,t):i}}class Vr{constructor(){yr(this,"idNodeMap",new Map),yr(this,"nodeMetaMap",new WeakMap)}getId(t){var i;return t?(null==(i=this.getMeta(t))?void 0:i.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const i=this.getId(t);this.idNodeMap.delete(i),t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,i){this.idNodeMap.set(i.id,t),this.nodeMetaMap.set(t,i)}replace(t,i){const n=this.getNode(t);if(n){const s=this.nodeMetaMap.get(n);s&&this.nodeMetaMap.set(i,s)}this.idNodeMap.set(t,i)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Zn({element:e,maskInputOptions:t,tagName:i,type:n,value:s,overwriteRecord:r,maskInputFn:l}){let o=s||"";return Rr({maskInputOptions:t,tagName:i,type:n,overwriteRecord:r})&&(o=l?l(o,e):"*".repeat(o.length)),o}function De(e){return e.toLowerCase()}const Wr="__rrweb_original__";function In(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?De(t):null}function Xr(e,t){var i;let n;try{n=new URL(e,window.location.href)}catch{return null}const r=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!=(i=r?.[1])?i:null}const td=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,id=/^(?:[a-z+]+:)?\/\//i,nd=/^www\..*/i,sd=/^(data:)([^,]*),(.*)/i;function Qt(e,t){return(e||"").replace(td,(i,n,s,r,l,o)=>{const a=s||l||o,c=n||r||"";if(!a)return i;if(id.test(a)||nd.test(a))return`url(${c}${a}${c})`;if(sd.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function ed(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${c})`;const d=t.split("/"),u=a.split("/");d.pop();for(const m of u)"."!==m&&(".."===m?d.pop():d.push(m));return`url(${c}${d.join("/")}${c})`})}function Gn(e){return e=e.replace(/[^ -~]+/g,""),e?.split(" ").map(t=>Math.random().toString(20).substring(2,t.length)).join(" ")||""}function Vn(e){return"img"===e||"video"===e||"audio"===e||"source"===e}const hd=[new RegExp(/[a-zA-Z0-9.!#$%&'*+=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*/),new RegExp(/[0-9]{9,16}/),new RegExp(/[0-9]{3}-?[0-9]{2}-?[0-9]{4}/),new RegExp(/[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}/),new RegExp(/[0-9]{4}-?[0-9]{4}-?[0-9]{4}-?[0-9]{4}/),new RegExp(/[0-9]{1,5}.?[0-9]{0,3}\s[a-zA-Z]{2,30}\s[a-zA-Z]{2,15}/),new RegExp(/(?:[0-9]{1,3}.){3}[0-9]{1,3}/)];function Sr(e){return!!e&&hd.some(t=>t.test(e))}const Rr=({maskInputOptions:e,tagName:t,type:i,overwriteRecord:n})=>{const s=i&&i.toLowerCase();return!("true"===n||!e[t.toLowerCase()]&&(!s||!e[s]))};let pd=1;const md=new RegExp("[^a-z0-9-_:]"),pt=-2;function wr(){return pd++}let Qe,Cr;const yd=/^[^ \t\n\r\u000c]+/,fd=/^[, \t\n\r\u000c]+/,vr=new WeakMap;function At(e,t){return t&&""!==t.trim()?Wn(e,t):t}function Zd(e){return!("svg"!==e.tagName&&!e.ownerSVGElement)}function Wn(e,t){let i=vr.get(e);if(i||(i=e.createElement("a"),vr.set(e,i)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return i.setAttribute("href",t),i.href}function kr(e,t,i,n){return n&&("src"===i||"href"===i&&("use"!==t||"#"!==n[0])||"xlink:href"===i&&"#"!==n[0]||"background"===i&&("table"===t||"td"===t||"th"===t)?At(e,n):"srcset"===i?function gd(e,t){if(""===t.trim())return t;let i=0;function n(r){let l;const o=r.exec(t.substring(i));return o?(l=o[0],i+=l.length,l):""}const s=[];for(;n(fd),!(i>=t.length);){let r=n(yd);if(","===r.slice(-1))r=At(e,r.substring(0,r.length-1)),s.push(r);else{let l="";r=At(e,r);let o=!1;for(;;){const a=t.charAt(i);if(""===a){s.push((r+l).trim());break}if(o)")"===a&&(o=!1);else{if(","===a){i+=1,s.push((r+l).trim());break}"("===a&&(o=!0)}l+=a,i+=1}}}return s.join(", ")}(e,n):"style"===i?Qt(n,Wn(e)):"object"===t&&"data"===i?At(e,n):n)}function xr(e,t,i){return("video"===e||"audio"===e)&&"autoplay"===t}function Lr(e,t,i){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;)if(t.test(e.classList[n]))return!0;if(i)return e.matches(i)}catch{}return!1}function _t(e,t,i){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!i&&_t(ne.parentNode(e),t,i);for(let n=e.classList.length;n--;)if(t.test(e.classList[n]))return!0;return!!i&&_t(ne.parentNode(e),t,i)}function Yr(e,t,i,n){let s;if(Ir(e)){if(s=e,!ne.childNodes(s).length)return!1}else{if(null===ne.parentElement(e))return!1;s=ne.parentElement(e)}try{if("string"==typeof t){if(n){if(s.closest(`.${t}`))return!0}else if(s.classList.contains(t))return!0}else if(_t(s,t,n))return!0;if(i)if(n){if(s.closest(i))return!0}else if(s.matches(i))return!0}catch{}return!1}function A(e){return null==e?"":e.toLowerCase()}function Ae(e,t){const{doc:i,mirror:n,blockClass:s,blockSelector:r,maskTextClass:l,maskTextSelector:o,skipChild:a=!1,inlineStylesheet:c=!0,maskInputOptions:d={},maskTextFn:u,maskInputFn:m,slimDOMOptions:p,dataURLOptions:y={},inlineImages:h=!1,recordCanvas:S=!1,onSerialize:g,onIframeLoad:W,iframeLoadTimeout:X=5e3,onStylesheetLoad:G,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:T=(()=>!1),newlyAddedElement:Z=!1,privacySetting:v}=t;let{needsMask:K}=t,{preserveWhiteSpace:L=!0}=t;K||(K=Yr(e,l,o,void 0===K));const E=function Vd(e,t){const{doc:i,mirror:n,blockClass:s,blockSelector:r,needsMask:l,inlineStylesheet:o,maskInputOptions:a={},maskTextClass:c,maskTextFn:d,maskInputFn:u,dataURLOptions:m={},inlineImages:p,recordCanvas:y,keepIframeSrcFn:h,newlyAddedElement:S=!1,privacySetting:g}=t,W=function Wd(e,t){if(!t.hasNode(e))return;const i=t.getId(e);return 1===i?void 0:i}(i,n);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:ie.Document,childNodes:[],compatMode:e.compatMode}:{type:ie.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ie.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:W};case e.ELEMENT_NODE:return function Sd(e,t){const{doc:i,blockClass:n,blockSelector:s,inlineStylesheet:r,maskInputOptions:l={},maskInputFn:o,maskTextClass:a,dataURLOptions:c={},inlineImages:d,recordCanvas:u,keepIframeSrcFn:m,newlyAddedElement:p=!1,privacySetting:y,rootId:h}=t;let S=Lr(e,n,s);const g=Lr(e,a,null),W="strict"===y;let X=function bd(e){if(e instanceof HTMLFormElement)return"form";const t=De(e.tagName);return md.test(t)?"div":t}(e),G={};const C=e.attributes.length;for(let Z=0;Z<C;Z++){const v=e.attributes[Z];xr(X,v.name)||(G[v.name]=kr(i,X,De(v.name),v.value))}if("link"===X&&r){const Z=Array.from(i.styleSheets).find(K=>K.href===e.href);let v=null;Z&&(v=Dt(Z)),v&&(delete G.rel,delete G.href,G._cssText=v)}if("style"===X&&e.sheet&&!(e.innerText||ne.textContent(e)||"").trim().length){const Z=Dt(e.sheet);Z&&(G._cssText=Z)}if("input"===X||"textarea"===X||"select"===X){const Z=e.value,v=e.checked;"radio"!==G.type&&"checkbox"!==G.type&&"submit"!==G.type&&"button"!==G.type&&Z?G.value=Zn({element:e,type:In(e),tagName:X,value:Z,overwriteRecord:e.getAttribute("data-hl-record"),maskInputOptions:l,maskInputFn:o}):v&&(G.checked=v)}if("option"===X&&(e.selected&&!l.select?G.selected=!0:delete G.selected),"dialog"===X&&e.open&&(G.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),"canvas"===X&&u)if("2d"===e.__context)!function qc(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let s=0;s<e.height;s+=50){const r=t.getImageData;if(new Uint32Array((Wr in r?r[Wr]:r).call(t,n,s,Math.min(50,e.width-n),Math.min(50,e.height-s)).data.buffer).some(o=>0!==o))return!1}}(e);else if(!("__context"in e)){const Z=e.toDataURL(c.type,c.quality),v=i.createElement("canvas");v.width=e.width,v.height=e.height,Z!==v.toDataURL(c.type,c.quality)&&(G.rr_dataURL=Z)}if("img"===X&&d&&!S&&!g&&!W){Qe||(Qe=i.createElement("canvas"),Cr=Qe.getContext("2d"));const Z=e,v=Z.currentSrc||Z.getAttribute("src")||"<unknown-src>",K=Z.crossOrigin,L=()=>{Z.removeEventListener("load",L);try{Qe.width=Z.naturalWidth,Qe.height=Z.naturalHeight,Cr.drawImage(Z,0,0),G.rr_dataURL=Qe.toDataURL(c.type,c.quality)}catch(E){if("anonymous"!==Z.crossOrigin)return Z.crossOrigin="anonymous",void(Z.complete&&0!==Z.naturalWidth?L():Z.addEventListener("load",L));console.warn(`Cannot inline img src=${v}! Error: ${E}`)}"anonymous"===Z.crossOrigin&&(K?G.crossOrigin=K:Z.removeAttribute("crossorigin"))};Z.complete&&0!==Z.naturalWidth?L():Z.addEventListener("load",L)}if("audio"===X||"video"===X){const Z=G;Z.rr_mediaState=e.paused?"paused":"played",Z.rr_mediaCurrentTime=e.currentTime,Z.rr_mediaPlaybackRate=e.playbackRate,Z.rr_mediaMuted=e.muted,Z.rr_mediaLoop=e.loop,Z.rr_mediaVolume=e.volume}if(p||(e.scrollLeft&&(G.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(G.rr_scrollTop=e.scrollTop)),S||g||W&&Vn(X)){const{width:Z,height:v}=e.getBoundingClientRect();G={class:G.class,rr_width:`${Z}px`,rr_height:`${v}px`}}let T;W&&Vn(X)&&(S=!0),"iframe"===X&&!m(G.src)&&(e.contentDocument||(G.rr_src=G.src),delete G.src);try{customElements.get(X)&&(T=!0)}catch{}if(d&&"video"===X&&(""===e.src||-1!==e.src.indexOf("blob:"))){const{width:v,height:K}=e.getBoundingClientRect();G={width:v,height:K,rr_width:`${v}px`,rr_height:`${K}px`,rr_inlined_video:!0,class:G.class,style:G.style},X="canvas";const L=i.createElement("canvas");L.width=e.width,L.height=e.height,G.rr_dataURL=L.toDataURL(c.type,c.quality)}return{type:ie.Element,tagName:X,attributes:G,childNodes:[],isSVG:Zd(e)||void 0,needBlock:S,needMask:g,rootId:h,isCustom:T}}(e,{doc:i,blockClass:s,blockSelector:r,inlineStylesheet:o,maskInputOptions:a,maskInputFn:u,maskTextClass:c,dataURLOptions:m,inlineImages:p,recordCanvas:y,keepIframeSrcFn:h,newlyAddedElement:S,privacySetting:g,rootId:W});case e.TEXT_NODE:return function Xd(e,t){var i,n;const{needsMask:s,maskTextFn:r,privacySetting:l,rootId:o}=t,a=ne.parentNode(e),c=a&&a.tagName;let d=ne.textContent(e);const u="STYLE"===c||void 0,m="SCRIPT"===c||void 0;if(u&&d){try{e.nextSibling||e.previousSibling||null!=(i=a.sheet)&&i.cssRules&&(d=Dt(a.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}d=Qt(d,Wn(t.doc))}m&&(d="SCRIPT_PLACEHOLDER"),!u&&!m&&d&&s&&(d=r?r(d,ne.parentElement(e)):d.replace(/[\S]/g,"*"));const p="strict"===l,y=null==(n=e.parentElement)?void 0:n.getAttribute("data-hl-record"),h="default"===l&&Sr(d);return(p||h)&&!y&&c&&!new Set(["HEAD","TITLE","STYLE","SCRIPT","HTML","BODY","NOSCRIPT"]).has(c)&&d&&(d=Gn(d)),{type:ie.Text,textContent:d||"",isStyle:u,rootId:o}}(e,{doc:i,needsMask:l,maskTextFn:d,privacySetting:g,rootId:W});case e.CDATA_SECTION_NODE:return{type:ie.CDATA,textContent:"",rootId:W};case e.COMMENT_NODE:return{type:ie.Comment,textContent:ne.textContent(e)||"",rootId:W};default:return!1}}(e,{doc:i,mirror:n,blockClass:s,blockSelector:r,needsMask:K,inlineStylesheet:c,maskInputOptions:d,maskTextClass:l,maskTextFn:u,maskInputFn:m,dataURLOptions:y,inlineImages:h,recordCanvas:S,keepIframeSrcFn:T,newlyAddedElement:Z,privacySetting:v});if(!E)return console.warn(e,"not serialized"),null;let oe;oe=n.hasNode(e)?n.getId(e):function Rd(e,t){return!!(t.comment&&e.type===ie.Comment||e.type===ie.Element&&(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===Xr(e.attributes.href))||t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(A(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===A(e.attributes.name)||"icon"===A(e.attributes.rel)||"apple-touch-icon"===A(e.attributes.rel)||"shortcut icon"===A(e.attributes.rel)))||"meta"===e.tagName&&(t.headMetaDescKeywords&&A(e.attributes.name).match(/^description|keywords$/)||t.headMetaSocial&&(A(e.attributes.property).match(/^(og|twitter|fb):/)||A(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===A(e.attributes.name))||t.headMetaRobots&&("robots"===A(e.attributes.name)||"googlebot"===A(e.attributes.name)||"bingbot"===A(e.attributes.name))||t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"]||t.headMetaAuthorship&&("author"===A(e.attributes.name)||"generator"===A(e.attributes.name)||"framework"===A(e.attributes.name)||"publisher"===A(e.attributes.name)||"progid"===A(e.attributes.name)||A(e.attributes.property).match(/^article:/)||A(e.attributes.property).match(/^product:/))||t.headMetaVerification&&("google-site-verification"===A(e.attributes.name)||"yandex-verification"===A(e.attributes.name)||"csrf-token"===A(e.attributes.name)||"p:domain_verify"===A(e.attributes.name)||"verify-v1"===A(e.attributes.name)||"verification"===A(e.attributes.name)||"shopify-checkout-api-token"===A(e.attributes.name)))))}(E,p)||!L&&E.type===ie.Text&&!E.isStyle&&!E.textContent.replace(/^\s+|\s+$/gm,"").length?pt:wr();const J=Object.assign(E,{id:oe});if(n.add(e,J),oe===pt)return null;g&&g(e);let b=!a,I=v,k="strict"===v;if(J.type===ie.Element){if(b=b&&!J.needBlock,k||(k=!!J.needBlock||!!J.needMask),I=k?"strict":I,k&&Vn(J.tagName)){const x=e.cloneNode();x.src="",n.add(x,J)}delete J.needBlock,delete J.needMask;const F=ne.shadowRoot(e);F&&ht(F)&&(J.isShadowHost=!0)}if((J.type===ie.Document||J.type===ie.Element)&&b){p.headWhitespace&&J.type===ie.Element&&"head"===J.tagName&&(L=!1);const F={doc:i,mirror:n,blockClass:s,blockSelector:r,needsMask:K,maskTextClass:l,maskTextSelector:o,skipChild:a,inlineStylesheet:c,maskInputOptions:d,maskTextFn:u,maskInputFn:m,slimDOMOptions:p,dataURLOptions:y,inlineImages:h,recordCanvas:S,preserveWhiteSpace:L,onSerialize:g,onIframeLoad:W,iframeLoadTimeout:X,onStylesheetLoad:G,stylesheetLoadTimeout:C,keepIframeSrcFn:T,privacySetting:I};if(J.type!==ie.Element||"textarea"!==J.tagName||void 0===J.attributes.value)for(const ue of Array.from(ne.childNodes(e))){const le=Ae(ue,F);le&&J.childNodes.push(le)}let x=null;if(Ir(e)&&(x=ne.shadowRoot(e)))for(const ue of Array.from(ne.childNodes(x))){const le=Ae(ue,F);le&&(ht(x)&&(le.isShadow=!0),J.childNodes.push(le))}}const _=ne.parentNode(e);return _&&ut(_)&&ht(_)&&(J.isShadow=!0),J.type===ie.Element&&"iframe"===J.tagName&&function Id(e,t,i){const n=e.contentWindow;if(!n)return;let r,s=!1;try{r=n.document.readyState}catch{return}if("complete"!==r){const o=setTimeout(()=>{s||(t(),s=!0)},i);return void e.addEventListener("load",()=>{clearTimeout(o),s=!0,t()})}const l="about:blank";if(n.location.href!==l||e.src===l||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{const F=e.contentDocument;if(F&&W){const x=Ae(F,{doc:F,mirror:n,blockClass:s,blockSelector:r,needsMask:K,maskTextClass:l,maskTextSelector:o,skipChild:!1,inlineStylesheet:c,maskInputOptions:d,maskTextFn:u,maskInputFn:m,slimDOMOptions:p,dataURLOptions:y,inlineImages:h,recordCanvas:S,preserveWhiteSpace:L,onSerialize:g,onIframeLoad:W,iframeLoadTimeout:X,onStylesheetLoad:G,stylesheetLoadTimeout:C,keepIframeSrcFn:T,privacySetting:v});x&&W(e,x)}},X),J.type===ie.Element&&"link"===J.tagName&&"string"==typeof J.attributes.rel&&("stylesheet"===J.attributes.rel||"preload"===J.attributes.rel&&"string"==typeof J.attributes.href&&"css"===Xr(J.attributes.href))&&function Gd(e,t,i){let s,n=!1;try{s=e.sheet}catch{return}if(s)return;const r=setTimeout(()=>{n||(t(),n=!0)},i);e.addEventListener("load",()=>{clearTimeout(r),n=!0,t()})}(e,()=>{if(G){const F=Ae(e,{doc:i,mirror:n,blockClass:s,blockSelector:r,needsMask:K,maskTextClass:l,maskTextSelector:o,skipChild:!1,inlineStylesheet:c,maskInputOptions:d,maskTextFn:u,maskInputFn:m,slimDOMOptions:p,dataURLOptions:y,inlineImages:h,recordCanvas:S,preserveWhiteSpace:L,onSerialize:g,onIframeLoad:W,iframeLoadTimeout:X,onStylesheetLoad:G,stylesheetLoadTimeout:C,keepIframeSrcFn:T,privacySetting:v});F&&G(e,F)}},C),J}function Cd(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),i}var Xn={exports:{}},N=String,Jr=function(){return{isColorSupported:!1,reset:N,bold:N,dim:N,italic:N,underline:N,inverse:N,hidden:N,strikethrough:N,black:N,red:N,green:N,yellow:N,blue:N,magenta:N,cyan:N,white:N,gray:N,bgBlack:N,bgRed:N,bgGreen:N,bgYellow:N,bgBlue:N,bgMagenta:N,bgCyan:N,bgWhite:N,blackBright:N,redBright:N,greenBright:N,yellowBright:N,blueBright:N,magentaBright:N,cyanBright:N,whiteBright:N,bgBlackBright:N,bgRedBright:N,bgGreenBright:N,bgYellowBright:N,bgBlueBright:N,bgMagentaBright:N,bgCyanBright:N,bgWhiteBright:N}};Xn.exports=Jr(),Xn.exports.createColors=Jr;var vd=Xn.exports;const Ie=Cd(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let Tr=vd,Nr=Ie,Sn=class _a extends Error{constructor(t,i,n,s,r,l){super(t),this.name="CssSyntaxError",this.reason=t,r&&(this.file=r),s&&(this.source=s),l&&(this.plugin=l),typeof i<"u"&&typeof n<"u"&&("number"==typeof i?(this.line=i,this.column=n):(this.line=i.line,this.column=i.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,_a)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(t){if(!this.source)return"";let i=this.source;null==t&&(t=Tr.isColorSupported);let n=d=>d,s=d=>d,r=d=>d;if(t){let{bold:d,gray:u,red:m}=Tr.createColors(!0);s=p=>d(m(p)),n=p=>u(p),Nr&&(r=p=>Nr(p))}let l=i.split(/\r?\n/),o=Math.max(this.line-3,0),a=Math.min(this.line+2,l.length),c=String(a).length;return l.slice(o,a).map((d,u)=>{let m=o+1+u,p=" "+(" "+m).slice(-c)+" | ";if(m===this.line){if(d.length>160){let h=20,S=Math.max(0,this.column-h),g=Math.max(this.column+h,this.endColumn+h),W=d.slice(S,g),X=n(p.replace(/\d/g," "))+d.slice(0,Math.min(this.column-1,h-1)).replace(/[^\t]/g," ");return s(">")+n(p)+r(W)+"\n "+X+s("^")}let y=n(p.replace(/\d/g," "))+d.slice(0,this.column-1).replace(/[^\t]/g," ");return s(">")+n(p)+r(d)+"\n "+y+s("^")}return" "+n(p)+r(d)}).join("\n")}toString(){let t=this.showSourceCode();return t&&(t="\n\n"+t+"\n"),this.name+": "+this.message+t}};var Rn=Sn;Sn.default=Sn;const Ur={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let wn=class{constructor(e){this.builder=e}atrule(e,t){let i="@"+e.name,n=e.params?this.rawValue(e,"params"):"";typeof e.raws.afterName<"u"?i+=e.raws.afterName:n&&(i+=" "),e.nodes?this.block(e,i+n):this.builder(i+n+((e.raws.between||"")+(t?";":"")),e)}beforeAfter(e,t){let i;i=this.raw(e,null,"decl"===e.type?"beforeDecl":"comment"===e.type?"beforeComment":"before"===t?"beforeRule":"beforeClose");let n=e.parent,s=0;for(;n&&"root"!==n.type;)s+=1,n=n.parent;if(i.includes("\n")){let r=this.raw(e,null,"indent");if(r.length)for(let l=0;l<s;l++)i+=r}return i}block(e,t){let n,i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let i=this.raw(e,"semicolon");for(let n=0;n<e.nodes.length;n++){let s=e.nodes[n],r=this.raw(s,"before");r&&this.builder(r),this.stringify(s,t!==n||i)}}comment(e){let t=this.raw(e,"left","commentLeft"),i=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+i+"*/",e)}decl(e,t){let i=this.raw(e,"between","colon"),n=e.prop+i+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(e,t,i){let n;if(i||(i=t),t&&(n=e.raws[t],typeof n<"u"))return n;let s=e.parent;if("before"===i&&(!s||"root"===s.type&&s.first===e||s&&"document"===s.type))return"";if(!s)return Ur[i];let r=e.root();if(r.rawCache||(r.rawCache={}),typeof r.rawCache[i]<"u")return r.rawCache[i];if("before"===i||"after"===i)return this.beforeAfter(e,i);{let l="raw"+function Ld(e){return e[0].toUpperCase()+e.slice(1)}(i);this[l]?n=this[l](r,e):r.walk(o=>{if(n=o.raws[t],typeof n<"u")return!1})}return typeof n>"u"&&(n=Ur[i]),r.rawCache[i]=n,n}rawBeforeClose(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length>0&&typeof i.raws.after<"u")return t=i.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let i;return e.walkComments(n=>{if(typeof n.raws.before<"u")return i=n.raws.before,i.includes("\n")&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(t,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeDecl(e,t){let i;return e.walkDecls(n=>{if(typeof n.raws.before<"u")return i=n.raws.before,i.includes("\n")&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(t,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeOpen(e){let t;return e.walk(i=>{if("decl"!==i.type&&(t=i.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(i=>{if(i.nodes&&(i.parent!==e||e.first!==i)&&typeof i.raws.before<"u")return t=i.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(i=>{if(typeof i.raws.between<"u")return t=i.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(i=>{if(i.nodes&&0===i.nodes.length&&(t=i.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(i=>{let n=i.parent;if(n&&n!==e&&n.parent&&n.parent===e&&typeof i.raws.before<"u"){let s=i.raws.before.split("\n");return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length&&"decl"===i.last.type&&(t=i.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let i=e[t],n=e.raws[t];return n&&n.value===i?n.raw:i}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var Fr=wn;wn.default=wn;let Yd=Fr;function Cn(e,t){new Yd(t).stringify(e)}var $t=Cn;Cn.default=Cn;var mt={};mt.isClean=Symbol("isClean"),mt.my=Symbol("my");let Jd=Rn,Td=Fr,Nd=$t,{isClean:bt,my:Ud}=mt;function vn(e,t){let i=new e.constructor;for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n)||"proxyCache"===n)continue;let s=e[n],r=typeof s;"parent"===n&&"object"===r?t&&(i[n]=t):"source"===n?i[n]=s:Array.isArray(s)?i[n]=s.map(l=>vn(l,i)):("object"===r&&null!==s&&(s=vn(s)),i[n]=s)}return i}let kn=class{constructor(e={}){this.raws={},this[bt]=!1,this[Ud]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let i of e[t])this.append("function"==typeof i.clone?i.clone():i)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=vn(this);for(let i in e)t[i]=e[i];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:i,start:n}=this.rangeBy(t);return this.source.input.error(e,{column:n.column,line:n.line},{column:i.column,line:i.line},t)}return new Jd(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,i)=>(e[t]===i||(e[t]=i,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty()),!0)}}markClean(){this[bt]=!0}markDirty(){if(this[bt]){this[bt]=!1;let e=this;for(;e=e.parent;)e[bt]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let i=this.source.start;if(e.index)i=this.positionInside(e.index,t);else if(e.word){let n=(t=this.toString()).indexOf(e.word);-1!==n&&(i=this.positionInside(n,t))}return i}positionInside(e,t){let i=t||this.toString(),n=this.source.start.column,s=this.source.start.line;for(let r=0;r<e;r++)"\n"===i[r]?(n=1,s+=1):n+=1;return{column:n,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.toString(),s=n.indexOf(e.word);-1!==s&&(t=this.positionInside(s,n),i=this.positionInside(s+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?i={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?i=this.positionInside(e.endIndex):e.index&&(i=this.positionInside(e.index+1));return(i.line<t.line||i.line===t.line&&i.column<=t.column)&&(i={column:t.column+1,line:t.line}),{end:i,start:t}}raw(e,t){return(new Td).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,i=!1;for(let n of e)n===this?i=!0:i?(this.parent.insertAfter(t,n),t=n):this.parent.insertBefore(t,n);i||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let i={},n=null==t;t=t||new Map;let s=0;for(let r in this){if(!Object.prototype.hasOwnProperty.call(this,r)||"parent"===r||"proxyCache"===r)continue;let l=this[r];if(Array.isArray(l))i[r]=l.map(o=>"object"==typeof o&&o.toJSON?o.toJSON(null,t):o);else if("object"==typeof l&&l.toJSON)i[r]=l.toJSON(null,t);else if("source"===r){let o=t.get(l.input);null==o&&(o=s,t.set(l.input,s),s++),i[r]={end:l.end,inputId:o,start:l.start}}else i[r]=l}return n&&(i.inputs=[...t.keys()].map(r=>r.toJSON())),i}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=Nd){e.stringify&&(e=e.stringify);let t="";return e(this,i=>{t+=i}),t}warn(e,t,i){let n={node:this};for(let s in i)n[s]=i[s];return e.warn(t,n)}get proxyOf(){return this}};var qt=kn;kn.default=kn;let Fd=qt,xn=class extends Fd{constructor(e){super(e),this.type="comment"}};var ei=xn;xn.default=xn;let Kd=qt,Ln=class extends Kd{constructor(e){e&&typeof e.value<"u"&&"string"!=typeof e.value&&(e=se(R({},e),{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};var ti=Ln;Ln.default=Ln;let Yn,Or,Pr,Jn,Kr=ei,Mr=ti,Md=qt,{isClean:Hr,my:zr}=mt;function Br(e){return e.map(t=>(t.nodes&&(t.nodes=Br(t.nodes)),delete t.source,t))}function Er(e){if(e[Hr]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)Er(t)}let ke=class $a extends Md{append(...t){for(let i of t){let n=this.normalize(i,this.last);for(let s of n)this.proxyOf.nodes.push(s)}return this.markDirty(),this}cleanRaws(t){if(super.cleanRaws(t),this.nodes)for(let i of this.nodes)i.cleanRaws(t)}each(t){if(!this.proxyOf.nodes)return;let n,s,i=this.getIterator();for(;this.indexes[i]<this.proxyOf.nodes.length&&(n=this.indexes[i],s=t(this.proxyOf.nodes[n],n),!1!==s);)this.indexes[i]+=1;return delete this.indexes[i],s}every(t){return this.nodes.every(t)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let t=this.lastEach;return this.indexes[t]=0,t}getProxyProcessor(){return{get:(t,i)=>"proxyOf"===i?t:t[i]?"each"===i||"string"==typeof i&&i.startsWith("walk")?(...n)=>t[i](...n.map(s=>"function"==typeof s?(r,l)=>s(r.toProxy(),l):s)):"every"===i||"some"===i?n=>t[i]((s,...r)=>n(s.toProxy(),...r)):"root"===i?()=>t.root().toProxy():"nodes"===i?t.nodes.map(n=>n.toProxy()):"first"===i||"last"===i?t[i].toProxy():t[i]:t[i],set:(t,i,n)=>(t[i]===n||(t[i]=n,("name"===i||"params"===i||"selector"===i)&&t.markDirty()),!0)}}index(t){return"number"==typeof t?t:(t.proxyOf&&(t=t.proxyOf),this.proxyOf.nodes.indexOf(t))}insertAfter(t,i){let r,n=this.index(t),s=this.normalize(i,this.proxyOf.nodes[n]).reverse();n=this.index(t);for(let l of s)this.proxyOf.nodes.splice(n+1,0,l);for(let l in this.indexes)r=this.indexes[l],n<r&&(this.indexes[l]=r+s.length);return this.markDirty(),this}insertBefore(t,i){let l,n=this.index(t),r=this.normalize(i,this.proxyOf.nodes[n],0===n&&"prepend").reverse();n=this.index(t);for(let o of r)this.proxyOf.nodes.splice(n,0,o);for(let o in this.indexes)l=this.indexes[o],n<=l&&(this.indexes[o]=l+r.length);return this.markDirty(),this}normalize(t,i){if("string"==typeof t)t=Br(Or(t).nodes);else if(typeof t>"u")t=[];else if(Array.isArray(t)){t=t.slice(0);for(let n of t)n.parent&&n.parent.removeChild(n,"ignore")}else if("root"===t.type&&"document"!==this.type){t=t.nodes.slice(0);for(let n of t)n.parent&&n.parent.removeChild(n,"ignore")}else if(t.type)t=[t];else if(t.prop){if(typeof t.value>"u")throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new Mr(t)]}else if(t.selector||t.selectors)t=[new Jn(t)];else if(t.name)t=[new Yn(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new Kr(t)]}return t.map(n=>(n[zr]||$a.rebuild(n),(n=n.proxyOf).parent&&n.parent.removeChild(n),n[Hr]&&Er(n),n.raws||(n.raws={}),typeof n.raws.before>"u"&&i&&typeof i.raws.before<"u"&&(n.raws.before=i.raws.before.replace(/\S/g,"")),n.parent=this.proxyOf,n))}prepend(...t){t=t.reverse();for(let i of t){let n=this.normalize(i,this.first,"prepend").reverse();for(let s of n)this.proxyOf.nodes.unshift(s);for(let s in this.indexes)this.indexes[s]=this.indexes[s]+n.length}return this.markDirty(),this}push(t){return t.parent=this,this.proxyOf.nodes.push(t),this}removeAll(){for(let t of this.proxyOf.nodes)t.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(t){let i;t=this.index(t),this.proxyOf.nodes[t].parent=void 0,this.proxyOf.nodes.splice(t,1);for(let n in this.indexes)i=this.indexes[n],i>=t&&(this.indexes[n]=i-1);return this.markDirty(),this}replaceValues(t,i,n){return n||(n=i,i={}),this.walkDecls(s=>{i.props&&!i.props.includes(s.prop)||i.fast&&!s.value.includes(i.fast)||(s.value=s.value.replace(t,n))}),this.markDirty(),this}some(t){return this.nodes.some(t)}walk(t){return this.each((i,n)=>{let s;try{s=t(i,n)}catch(r){throw i.addToError(r)}return!1!==s&&i.walk&&(s=i.walk(t)),s})}walkAtRules(t,i){return i?t instanceof RegExp?this.walk((n,s)=>{if("atrule"===n.type&&t.test(n.name))return i(n,s)}):this.walk((n,s)=>{if("atrule"===n.type&&n.name===t)return i(n,s)}):(i=t,this.walk((n,s)=>{if("atrule"===n.type)return i(n,s)}))}walkComments(t){return this.walk((i,n)=>{if("comment"===i.type)return t(i,n)})}walkDecls(t,i){return i?t instanceof RegExp?this.walk((n,s)=>{if("decl"===n.type&&t.test(n.prop))return i(n,s)}):this.walk((n,s)=>{if("decl"===n.type&&n.prop===t)return i(n,s)}):(i=t,this.walk((n,s)=>{if("decl"===n.type)return i(n,s)}))}walkRules(t,i){return i?t instanceof RegExp?this.walk((n,s)=>{if("rule"===n.type&&t.test(n.selector))return i(n,s)}):this.walk((n,s)=>{if("rule"===n.type&&n.selector===t)return i(n,s)}):(i=t,this.walk((n,s)=>{if("rule"===n.type)return i(n,s)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};ke.registerParse=e=>{Or=e},ke.registerRule=e=>{Jn=e},ke.registerAtRule=e=>{Yn=e},ke.registerRoot=e=>{Pr=e};var Me=ke;ke.default=ke,ke.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,Yn.prototype):"rule"===e.type?Object.setPrototypeOf(e,Jn.prototype):"decl"===e.type?Object.setPrototypeOf(e,Mr.prototype):"comment"===e.type?Object.setPrototypeOf(e,Kr.prototype):"root"===e.type&&Object.setPrototypeOf(e,Pr.prototype),e[zr]=!0,e.nodes&&e.nodes.forEach(t=>{ke.rebuild(t)})};let jr=Me,ii=class extends jr{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var Tn=ii;ii.default=ii,jr.registerAtRule(ii);let Dr,Qr,Hd=Me,yt=class extends Hd{constructor(e){super(R({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(e={}){return new Dr(new Qr,this,e).stringify()}};yt.registerLazyResult=e=>{Dr=e},yt.registerProcessor=e=>{Qr=e};var Nn=yt;yt.default=yt;var Od={nanoid:(e=21)=>{let t="",i=e;for(;i--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(i=t)=>{let n="",s=i;for(;s--;)n+=e[Math.random()*e.length|0];return n}};let{existsSync:Pd,readFileSync:Bd}=Ie,{dirname:Un,join:Ed}=Ie,{SourceMapConsumer:Ar,SourceMapGenerator:_r}=Ie,Fn=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=this.loadMap(t.from,t.map?t.map.prev:void 0);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Un(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new Ar(this.text)),this.consumerCache}decodeInline(e){let r=e.match(/^data:application\/json;charset=utf-?8,/)||e.match(/^data:application\/json,/);if(r)return decodeURIComponent(e.substr(r[0].length));let l=e.match(/^data:application\/json;charset=utf-?8;base64,/)||e.match(/^data:application\/json;base64,/);if(l)return function jd(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}(e.substr(l[0].length));let o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let i=e.lastIndexOf(t.pop()),n=e.indexOf("*/",i);i>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(i,n)))}loadFile(e){if(this.root=Un(e),Pd(e))return this.mapFile=e,Bd(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof Ar)return _r.fromSourceMap(t).toString();if(t instanceof _r)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let i=t(e);if(i){let n=this.loadFile(i);if(!n)throw new Error("Unable to load previous source map: "+i.toString());return n}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let i=this.annotation;return e&&(i=Ed(Un(e),i)),this.loadFile(i)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var $r=Fn;Fn.default=Fn;let{nanoid:Dd}=Od,{isAbsolute:Kn,resolve:Mn}=Ie,{SourceMapConsumer:Qd,SourceMapGenerator:Ad}=Ie,{fileURLToPath:qr,pathToFileURL:ni}=Ie,eo=Rn,_d=$r,Hn=Ie,zn=Symbol("fromOffsetCache"),$d=!(!Qd||!Ad),to=!(!Mn||!Kn),si=class{constructor(e,t={}){if(null===e||typeof e>"u"||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(this.file=!to||/^\w+:\/\//.test(t.from)||Kn(t.from)?t.from:Mn(t.from)),to&&$d){let i=new _d(this.css,t);if(i.text){this.map=i;let n=i.consumer().file;!this.file&&n&&(this.file=this.mapResolve(n))}}this.file||(this.id="<input css "+Dd(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,i,n={}){let s,r,l;if(t&&"object"==typeof t){let a=t,c=i;if("number"==typeof a.offset){let d=this.fromOffset(a.offset);t=d.line,i=d.col}else t=a.line,i=a.column;if("number"==typeof c.offset){let d=this.fromOffset(c.offset);r=d.line,s=d.col}else r=c.line,s=c.column}else if(!i){let a=this.fromOffset(t);t=a.line,i=a.col}let o=this.origin(t,i,r,s);return l=o?new eo(e,void 0===o.endLine?o.line:{column:o.column,line:o.line},void 0===o.endLine?o.column:{column:o.endColumn,line:o.endLine},o.source,o.file,n.plugin):new eo(e,void 0===r?t:{column:i,line:t},void 0===r?i:{column:s,line:r},this.css,this.file,n.plugin),l.input={column:i,endColumn:s,endLine:r,line:t,source:this.css},this.file&&(ni&&(l.input.url=ni(this.file).toString()),l.input.file=this.file),l}fromOffset(e){let t,i;if(this[zn])i=this[zn];else{let s=this.css.split("\n");i=new Array(s.length);let r=0;for(let l=0,o=s.length;l<o;l++)i[l]=r,r+=s[l].length+1;this[zn]=i}t=i[i.length-1];let n=0;if(e>=t)n=i.length-1;else{let r,s=i.length-2;for(;n<s;)if(r=n+(s-n>>1),e<i[r])s=r-1;else{if(!(e>=i[r+1])){n=r;break}n=r+1}}return{col:e-i[n]+1,line:n+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Mn(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,i,n){if(!this.map)return!1;let l,o,s=this.map.consumer(),r=s.originalPositionFor({column:t,line:e});if(!r.source)return!1;"number"==typeof i&&(l=s.originalPositionFor({column:n,line:i})),o=Kn(r.source)?ni(r.source):new URL(r.source,this.map.consumer().sourceRoot||ni(this.map.mapFile));let a={column:r.column,endColumn:l&&l.column,endLine:l&&l.line,line:r.line,url:o.toString()};if("file:"===o.protocol){if(!qr)throw new Error("file: protocol is not available in this PostCSS build");a.file=qr(o)}let c=s.sourceContentFor(r.source);return c&&(a.source=c),a}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map=R({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var ri=si;si.default=si,Hn&&Hn.registerInput&&Hn.registerInput(si);let no,so,io=Me,_e=class extends io{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,i){let n=super.normalize(e);if(t)if("prepend"===i)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of n)s.raws.before=t.raws.before;return n}removeChild(e,t){let i=this.index(e);return!t&&0===i&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[i].raws.before),super.removeChild(e)}toResult(e={}){return new no(new so,this,e).stringify()}};_e.registerLazyResult=e=>{no=e},_e.registerProcessor=e=>{so=e};var ft=_e;_e.default=_e,io.registerRoot(_e);let gt={comma:e=>gt.split(e,[","],!0),space:e=>gt.split(e,[" ","\n","\t"]),split(e,t,i){let n=[],s="",r=!1,l=0,o=!1,a="",c=!1;for(let d of e)c?c=!1:"\\"===d?c=!0:o?d===a&&(o=!1):'"'===d||"'"===d?(o=!0,a=d):"("===d?l+=1:")"===d?l>0&&(l-=1):0===l&&t.includes(d)&&(r=!0),r?(""!==s&&n.push(s.trim()),s="",r=!1):s+=d;return(i||""!==s)&&n.push(s.trim()),n}};var ro=gt;gt.default=gt;let oo=Me,qd=ro,oi=class extends oo{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return qd.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,i=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(i)}};var On=oi;oi.default=oi,oo.registerRule(oi);let eu=Tn,tu=ei,iu=ti,nu=ri,su=$r,ru=ft,ou=On;function Zt(e,t){if(Array.isArray(e))return e.map(r=>Zt(r));let i=e,{inputs:n}=i,s=ge(i,["inputs"]);if(n){t=[];for(let r of n){let l=se(R({},r),{__proto__:nu.prototype});l.map&&(l.map=se(R({},l.map),{__proto__:su.prototype})),t.push(l)}}if(s.nodes&&(s.nodes=e.nodes.map(r=>Zt(r,t))),s.source){let r=s.source,{inputId:l}=r,o=ge(r,["inputId"]);s.source=o,null!=l&&(s.source.input=t[l])}if("root"===s.type)return new ru(s);if("decl"===s.type)return new iu(s);if("rule"===s.type)return new ou(s);if("comment"===s.type)return new tu(s);if("atrule"===s.type)return new eu(s);throw new Error("Unknown node type: "+e.type)}var lu=Zt;Zt.default=Zt;let{dirname:li,relative:lo,resolve:ao,sep:co}=Ie,{SourceMapConsumer:uo,SourceMapGenerator:ai}=Ie,{pathToFileURL:ho}=Ie,au=ri,cu=!(!uo||!ai),du=!!(li&&ao&&lo&&co);var po=class{constructor(e,t,i,n){this.stringify=e,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=n,this.originalCSS=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let n,t=this.toUrl(this.path(e.file)),i=e.root||li(e.file);!1===this.mapOpts.sourcesContent?(n=new uo(e.text),n.sourcesContent&&(n.sourcesContent=null)):n=e.consumer(),this.map.applySourceMap(n,t,this.toUrl(this.path(i)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),du&&cu&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=ai.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new ai({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new ai({file:this.outputFile(),ignoreInvalidMapping:!0});let s,r,e=1,t=1,i="<no source>",n={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(l,o,a)=>{if(this.css+=l,o&&"end"!==a&&(n.generated.line=e,n.generated.column=t-1,o.source&&o.source.start?(n.source=this.sourcePath(o),n.original.line=o.source.start.line,n.original.column=o.source.start.column-1,this.map.addMapping(n)):(n.source=i,n.original.line=1,n.original.column=0,this.map.addMapping(n))),r=l.match(/\n/g),r?(e+=r.length,s=l.lastIndexOf("\n"),t=l.length-s):t+=l.length,o&&"start"!==a){let c=o.parent||{raws:{}};("decl"!==o.type&&("atrule"!==o.type||o.nodes)||o!==c.last||c.raws.semicolon)&&(o.source&&o.source.end?(n.source=this.sourcePath(o),n.original.line=o.source.end.line,n.original.column=o.source.end.column-1,n.generated.line=e,n.generated.column=t-2,this.map.addMapping(n)):(n.source=i,n.original.line=1,n.original.column=0,n.generated.line=e,n.generated.column=t-1,this.map.addMapping(n)))}})}isAnnotation(){return!!this.isInline()||(typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:!this.previous().length||this.previous().some(e=>e.annotation))}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return!(typeof e<"u"&&!0!==e)&&(!this.previous().length||this.previous().some(t=>t.inline))}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(e=>e.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let i=this.opts.to?li(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(i=li(ao(i,this.mapOpts.annotation)));let n=lo(i,e);return this.memoizedPaths.set(e,n),n}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new au(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let i=t.source.input.from;if(i&&!e[i]){e[i]=!0;let n=this.usesFileUrls?this.toFileUrl(i):this.toUrl(this.path(i));this.map.setSourceContent(n,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(ho){let i=ho(e).toString();return this.memoizedFileURLs.set(e,i),i}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===co&&(e=e.replace(/\\/g,"/"));let i=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,i),i}};const mi=/[\t\n\f\r "#'()/;[\\\]{}]/g,bi=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Gu=/.[\r\n"'(/\\]/,yo=/[\da-f]/i;let Wu=Tn,Xu=ei,Su=ti,Ru=ft,fo=On;const go={empty:!0,space:!0};let ku=Me,xu=ri;function yi(e,t){let i=new xu(e,t),n=new class{constructor(e){this.input=e,this.root=new Ru,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new Wu;t.name=e[1].slice(1),""===t.name&&this.unnamedAtrule(t,e),this.init(t,e[2]);let i,n,s,r=!1,l=!1,o=[],a=[];for(;!this.tokenizer.endOfFile();){if(i=(e=this.tokenizer.nextToken())[0],"("===i||"["===i?a.push("("===i?")":"]"):"{"===i&&a.length>0?a.push("}"):i===a[a.length-1]&&a.pop(),0===a.length){if(";"===i){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}if("{"===i){l=!0;break}if("}"===i){if(o.length>0){for(s=o.length-1,n=o[s];n&&"space"===n[0];)n=o[--s];n&&(t.source.end=this.getPosition(n[3]||n[2]),t.source.end.offset++)}this.end(e);break}o.push(e)}else o.push(e);if(this.tokenizer.endOfFile()){r=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(o),o.length?(t.raws.afterName=this.spacesAndCommentsFromStart(o),this.raw(t,"params",o),r&&(t.source.end=this.getPosition((e=o[o.length-1])[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let n,i=0;for(let s=t-1;s>=0&&(n=e[s],"space"===n[0]||(i+=1,2!==i));s--);throw this.input.error("Missed semicolon","word"===n[0]?n[3]+1:n[2])}colon(e){let i,n,s,t=0;for(let[r,l]of e.entries()){if(n=l,s=n[0],"("===s&&(t+=1),")"===s&&(t-=1),0===t&&":"===s){if(i){if("word"===i[0]&&"progid"===i[1])continue;return r}this.doubleColon(n)}i=n}return!1}comment(e){let t=new Xu;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let i=e[1].slice(2,-2);if(/^\s*$/.test(i))t.text="",t.raws.left=i,t.raws.right="";else{let n=i.match(/^(\s*)([^]*\S)(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}}createTokenizer(){this.tokenizer=function(e,t={}){let s,r,l,o,a,c,d,u,m,p,i=e.css.valueOf(),n=t.ignoreErrors,y=i.length,h=0,S=[],g=[];function X(Z){throw e.error("Unclosed "+Z,h)}return{back:function T(Z){g.push(Z)},endOfFile:function G(){return 0===g.length&&h>=y},nextToken:function C(Z){if(g.length)return g.pop();if(h>=y)return;let v=!!Z&&Z.ignoreUnclosed;switch(s=i.charCodeAt(h),s){case 10:case 32:case 9:case 13:case 12:o=h;do{o+=1,s=i.charCodeAt(o)}while(32===s||10===s||9===s||13===s||12===s);c=["space",i.slice(h,o)],h=o-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let K=String.fromCharCode(s);c=[K,K,h];break}case 40:if(p=S.length?S.pop()[1]:"",m=i.charCodeAt(h+1),"url"===p&&39!==m&&34!==m&&32!==m&&10!==m&&9!==m&&12!==m&&13!==m){o=h;do{if(d=!1,o=i.indexOf(")",o+1),-1===o){if(n||v){o=h;break}X("bracket")}for(u=o;92===i.charCodeAt(u-1);)u-=1,d=!d}while(d);c=["brackets",i.slice(h,o+1),h,o],h=o}else o=i.indexOf(")",h+1),r=i.slice(h,o+1),-1===o||Gu.test(r)?c=["(","(",h]:(c=["brackets",r,h,o],h=o);break;case 39:case 34:a=39===s?"'":'"',o=h;do{if(d=!1,o=i.indexOf(a,o+1),-1===o){if(n||v){o=h+1;break}X("string")}for(u=o;92===i.charCodeAt(u-1);)u-=1,d=!d}while(d);c=["string",i.slice(h,o+1),h,o],h=o;break;case 64:mi.lastIndex=h+1,mi.test(i),o=0===mi.lastIndex?i.length-1:mi.lastIndex-2,c=["at-word",i.slice(h,o+1),h,o],h=o;break;case 92:for(o=h,l=!0;92===i.charCodeAt(o+1);)o+=1,l=!l;if(s=i.charCodeAt(o+1),l&&47!==s&&32!==s&&10!==s&&9!==s&&13!==s&&12!==s&&(o+=1,yo.test(i.charAt(o)))){for(;yo.test(i.charAt(o+1));)o+=1;32===i.charCodeAt(o+1)&&(o+=1)}c=["word",i.slice(h,o+1),h,o],h=o;break;default:47===s&&42===i.charCodeAt(h+1)?(o=i.indexOf("*/",h+2)+1,0===o&&(n||v?o=i.length:X("comment")),c=["comment",i.slice(h,o+1),h,o],h=o):(bi.lastIndex=h+1,bi.test(i),o=0===bi.lastIndex?i.length-1:bi.lastIndex-2,c=["word",i.slice(h,o+1),h,o],S.push(c),h=o)}return h++,c},position:function W(){return h}}}(this.input)}decl(e,t){let i=new Su;this.init(i,e[0][2]);let s,n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(n[3]||n[2]||function Cu(e){for(let t=e.length-1;t>=0;t--){let i=e[t],n=i[3]||i[2];if(n)return n}}(e)),i.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let o=e[0][0];if(":"===o||"space"===o||"comment"===o)break;i.prop+=e.shift()[1]}for(i.raws.between="";e.length;){if(s=e.shift(),":"===s[0]){i.raws.between+=s[1];break}"word"===s[0]&&/\w/.test(s[1])&&this.unknownWord([s]),i.raws.between+=s[1]}("_"===i.prop[0]||"*"===i.prop[0])&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let l,r=[];for(;e.length&&(l=e[0][0],"space"===l||"comment"===l);)r.push(e.shift());this.precheckMissedSemicolon(e);for(let o=e.length-1;o>=0;o--){if(s=e[o],"!important"===s[1].toLowerCase()){i.important=!0;let a=this.stringFrom(e,o);a=this.spacesFromEnd(e)+a," !important"!==a&&(i.raws.important=a);break}if("important"===s[1].toLowerCase()){let a=e.slice(0),c="";for(let d=o;d>0;d--){let u=a[d][0];if(c.trim().startsWith("!")&&"space"!==u)break;c=a.pop()[1]+c}c.trim().startsWith("!")&&(i.important=!0,i.raws.important=c,e=a)}if("space"!==s[0]&&"comment"!==s[0])break}e.some(o=>"space"!==o[0]&&"comment"!==o[0])&&(i.raws.between+=r.map(o=>o[1]).join(""),r=[]),this.raw(i,"value",r.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new fo;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,i=null,n=!1,s=null,r=[],l=e[1].startsWith("--"),o=[],a=e;for(;a;){if(i=a[0],o.push(a),"("===i||"["===i)s||(s=a),r.push("("===i?")":"]");else if(l&&n&&"{"===i)s||(s=a),r.push("}");else if(0===r.length){if(";"===i){if(n)return void this.decl(o,l);break}if("{"===i)return void this.rule(o);if("}"===i){this.tokenizer.back(o.pop()),t=!0;break}":"===i&&(n=!0)}else i===r[r.length-1]&&(r.pop(),0===r.length&&(s=null));a=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),r.length>0&&this.unclosedBracket(s),t&&n){if(!l)for(;o.length&&(a=o[o.length-1][0],"space"===a||"comment"===a);)this.tokenizer.back(o.pop());this.decl(o,l)}else this.unknownWord(o)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,i,n){let s,r,c,d,l=i.length,o="",a=!0;for(let u=0;u<l;u+=1)s=i[u],r=s[0],"space"!==r||u!==l-1||n?"comment"===r?(d=i[u-1]?i[u-1][0]:"empty",c=i[u+1]?i[u+1][0]:"empty",go[d]||go[c]||","===o.slice(-1)?a=!1:o+=s[1]):o+=s[1]:a=!1;if(!a){let u=i.reduce((m,p)=>m+p[1],"");e.raws[t]={raw:u,value:o}}e[t]=o}rule(e){e.pop();let t=new fo;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)i=e.pop()[1]+i;return i}spacesAndCommentsFromStart(e){let t,i="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)i+=e.shift()[1];return i}spacesFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)i=e.pop()[1]+i;return i}stringFrom(e,t){let i="";for(let n=t;n<e.length;n++)i+=e[n][1];return e.splice(t,e.length-t),i}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}(i);try{n.parse()}catch(s){throw s}return n.root}var Bn=yi;yi.default=yi,ku.registerParse(yi);let En=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let i=t.node.rangeBy(t);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in t)this[i]=t[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Zo=En;En.default=En;let Yu=Zo,jn=class{constructor(e,t,i){this.processor=e,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let i=new Yu(e,t);return this.messages.push(i),i}warnings(){return this.messages.filter(e=>"warning"===e.type)}get content(){return this.css}};var Dn=jn;jn.default=jn;let Ju=Me,Tu=Nn,Nu=po,Uu=Bn,Go=Dn,Fu=ft,Ku=$t,{isClean:Se,my:Mu}=mt;const Hu={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},zu={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Ou={Once:!0,postcssPlugin:!0,prepare:!0},$e=0;function Gt(e){return"object"==typeof e&&"function"==typeof e.then}function Vo(e){let t=!1,i=Hu[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[i,i+"-"+t,$e,i+"Exit",i+"Exit-"+t]:t?[i,i+"-"+t,i+"Exit",i+"Exit-"+t]:e.append?[i,$e,i+"Exit"]:[i,i+"Exit"]}function Wo(e){let t;return t="document"===e.type?["Document",$e,"DocumentExit"]:"root"===e.type?["Root",$e,"RootExit"]:Vo(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function Qn(e){return e[Se]=!1,e.nodes&&e.nodes.forEach(t=>Qn(t)),e}let An={},qe=class qa{constructor(t,i,n){let s;if(this.stringified=!1,this.processed=!1,"object"!=typeof i||null===i||"root"!==i.type&&"document"!==i.type)if(i instanceof qa||i instanceof Go)s=Qn(i.root),i.map&&(typeof n.map>"u"&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=i.map);else{let r=Uu;n.syntax&&(r=n.syntax.parse),n.parser&&(r=n.parser),r.parse&&(r=r.parse);try{s=r(i,n)}catch(l){this.processed=!0,this.error=l}s&&!s[Mu]&&Ju.rebuild(s)}else s=Qn(i);this.result=new Go(t,s,n),this.helpers=se(R({},An),{postcss:An,result:this.result}),this.plugins=this.processor.plugins.map(r=>"object"==typeof r&&r.prepare?R(R({},r),r.prepare(this.result)):r)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(t,i){let n=this.result.lastPlugin;try{i&&i.addToError(t),this.error=t,"CssSyntaxError"!==t.name||t.plugin||(t.plugin=n.postcssPlugin,t.setMessage())}catch(s){console&&console.error&&console.error(s)}return t}prepareVisitors(){this.listeners={};let t=(i,n,s)=>{this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push([i,s])};for(let i of this.plugins)if("object"==typeof i)for(let n in i){if(!zu[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${i.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Ou[n])if("object"==typeof i[n])for(let s in i[n])t(i,"*"===s?n:n+"-"+s.toLowerCase(),i[n][s]);else"function"==typeof i[n]&&t(i,n,i[n])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){return te(this,null,function*(){this.plugin=0;for(let t=0;t<this.plugins.length;t++){let n=this.runOnRoot(this.plugins[t]);if(Gt(n))try{yield n}catch(s){throw this.handleError(s)}}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[Se];){t[Se]=!0;let i=[Wo(t)];for(;i.length>0;){let n=this.visitTick(i);if(Gt(n))try{yield n}catch(s){throw this.handleError(s,i[i.length-1].node)}}}if(this.listeners.OnceExit)for(let[i,n]of this.listeners.OnceExit){this.result.lastPlugin=i;try{if("document"===t.type){let s=t.nodes.map(r=>n(r,this.helpers));yield Promise.all(s)}else yield n(t,this.helpers)}catch(s){throw this.handleError(s)}}}return this.processed=!0,this.stringify()})}runOnRoot(t){this.result.lastPlugin=t;try{if("object"==typeof t&&t.Once){if("document"===this.result.root.type){let i=this.result.root.nodes.map(n=>t.Once(n,this.helpers));return Gt(i[0])?Promise.all(i):i}return t.Once(this.result.root,this.helpers)}if("function"==typeof t)return t(this.result.root,this.result)}catch(i){throw this.handleError(i)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let t=this.result.opts,i=Ku;t.syntax&&(i=t.syntax.stringify),t.stringifier&&(i=t.stringifier),i.stringify&&(i=i.stringify);let n=new Nu(i,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let t of this.plugins)if(Gt(this.runOnRoot(t)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[Se];)t[Se]=!0,this.walkSync(t);if(this.listeners.OnceExit)if("document"===t.type)for(let i of t.nodes)this.visitSync(this.listeners.OnceExit,i);else this.visitSync(this.listeners.OnceExit,t)}return this.result}then(t,i){return this.async().then(t,i)}toString(){return this.css}visitSync(t,i){for(let[n,s]of t){let r;this.result.lastPlugin=n;try{r=s(i,this.helpers)}catch(l){throw this.handleError(l,i.proxyOf)}if("root"!==i.type&&"document"!==i.type&&!i.parent)return!0;if(Gt(r))throw this.getAsyncError()}}visitTick(t){let i=t[t.length-1],{node:n,visitors:s}=i;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void t.pop();if(s.length>0&&i.visitorIndex<s.length){let[l,o]=s[i.visitorIndex];i.visitorIndex+=1,i.visitorIndex===s.length&&(i.visitors=[],i.visitorIndex=0),this.result.lastPlugin=l;try{return o(n.toProxy(),this.helpers)}catch(a){throw this.handleError(a,n)}}if(0!==i.iterator){let o,l=i.iterator;for(;o=n.nodes[n.indexes[l]];)if(n.indexes[l]+=1,!o[Se])return o[Se]=!0,void t.push(Wo(o));i.iterator=0,delete n.indexes[l]}let r=i.events;for(;i.eventIndex<r.length;){let l=r[i.eventIndex];if(i.eventIndex+=1,l===$e)return void(n.nodes&&n.nodes.length&&(n[Se]=!0,i.iterator=n.getIterator()));if(this.listeners[l])return void(i.visitors=this.listeners[l])}t.pop()}walkSync(t){t[Se]=!0;let i=Vo(t);for(let n of i)if(n===$e)t.nodes&&t.each(s=>{s[Se]||this.walkSync(s)});else{let s=this.listeners[n];if(s&&this.visitSync(s,t.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};qe.registerPostcss=e=>{An=e};var Xo=qe;qe.default=qe,Fu.registerLazyResult(qe),Tu.registerLazyResult(qe);let Pu=po,Bu=Bn;const Eu=Dn;let ju=$t,_n=class{constructor(e,t,i){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=i,this._map=void 0;let n,s=ju;this.result=new Eu(this._processor,n,this._opts),this.result.css=t;let r=this;Object.defineProperty(this.result,"root",{get:()=>r.root});let l=new Pu(s,n,this._opts,t);if(l.isMap()){let[o,a]=l.generate();o&&(this.result.css=o),a&&(this.result.map=a)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=Bu;try{e=t(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var Du=_n;_n.default=_n;let Qu=Nn,Au=Xo,_u=Du,$u=ft,Vt=class{constructor(e=[]){this.version="8.4.47",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let i of e)if(!0===i.postcss?i=i():i.postcss&&(i=i.postcss),"object"==typeof i&&Array.isArray(i.plugins))t=t.concat(i.plugins);else if("object"==typeof i&&i.postcssPlugin)t.push(i);else if("function"==typeof i)t.push(i);else if("object"!=typeof i||!i.parse&&!i.stringify)throw new Error(i+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new Au(this,e,t):new _u(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var qu=Vt;Vt.default=Vt,$u.registerProcessor(Vt),Qu.registerProcessor(Vt);let So=Tn,Ro=ei,eh=Me,th=Rn,wo=ti,Co=Nn,ih=lu,nh=ri,sh=Xo,rh=ro,oh=qt,lh=Bn,$n=qu,ah=Dn,vo=ft,ko=On,ch=$t,dh=Zo;function j(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new $n(e)}j.plugin=function(e,t){let s,i=!1;function n(...r){console&&console.warn&&!i&&(i=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));let l=t(...r);return l.postcssPlugin=e,l.postcssVersion=(new $n).version,l}return Object.defineProperty(n,"postcss",{get:()=>(s||(s=n()),s)}),n.process=function(r,l,o){return j([n(o)]).process(r,l)},n},j.stringify=ch,j.parse=lh,j.fromJSON=ih,j.list=rh,j.comment=e=>new Ro(e),j.atRule=e=>new So(e),j.decl=e=>new wo(e),j.rule=e=>new ko(e),j.root=e=>new vo(e),j.document=e=>new Co(e),j.CssSyntaxError=th,j.Declaration=wo,j.Container=eh,j.Processor=$n,j.Document=Co,j.Comment=Ro,j.Warning=dh,j.AtRule=So,j.Result=ah,j.Input=nh,j.Rule=ko,j.Root=vo,j.Node=oh,sh.registerPostcss(j),j.default=j;var uh=Object.defineProperty,me=(e,t,i)=>((e,t,i)=>t in e?uh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i);function ph(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),i}var qn={exports:{}},U=String,xo=function(){return{isColorSupported:!1,reset:U,bold:U,dim:U,italic:U,underline:U,inverse:U,hidden:U,strikethrough:U,black:U,red:U,green:U,yellow:U,blue:U,magenta:U,cyan:U,white:U,gray:U,bgBlack:U,bgRed:U,bgGreen:U,bgYellow:U,bgBlue:U,bgMagenta:U,bgCyan:U,bgWhite:U,blackBright:U,redBright:U,greenBright:U,yellowBright:U,blueBright:U,magentaBright:U,cyanBright:U,whiteBright:U,bgBlackBright:U,bgRedBright:U,bgGreenBright:U,bgYellowBright:U,bgBlueBright:U,bgMagentaBright:U,bgCyanBright:U,bgWhiteBright:U}};qn.exports=xo(),qn.exports.createColors=xo;var mh=qn.exports;const Ge=ph(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let Lo=mh,Yo=Ge,es=class ec extends Error{constructor(t,i,n,s,r,l){super(t),this.name="CssSyntaxError",this.reason=t,r&&(this.file=r),s&&(this.source=s),l&&(this.plugin=l),typeof i<"u"&&typeof n<"u"&&("number"==typeof i?(this.line=i,this.column=n):(this.line=i.line,this.column=i.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,ec)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(t){if(!this.source)return"";let i=this.source;null==t&&(t=Lo.isColorSupported);let n=d=>d,s=d=>d,r=d=>d;if(t){let{bold:d,gray:u,red:m}=Lo.createColors(!0);s=p=>d(m(p)),n=p=>u(p),Yo&&(r=p=>Yo(p))}let l=i.split(/\r?\n/),o=Math.max(this.line-3,0),a=Math.min(this.line+2,l.length),c=String(a).length;return l.slice(o,a).map((d,u)=>{let m=o+1+u,p=" "+(" "+m).slice(-c)+" | ";if(m===this.line){if(d.length>160){let h=20,S=Math.max(0,this.column-h),g=Math.max(this.column+h,this.endColumn+h),W=d.slice(S,g),X=n(p.replace(/\d/g," "))+d.slice(0,Math.min(this.column-1,h-1)).replace(/[^\t]/g," ");return s(">")+n(p)+r(W)+"\n "+X+s("^")}let y=n(p.replace(/\d/g," "))+d.slice(0,this.column-1).replace(/[^\t]/g," ");return s(">")+n(p)+r(d)+"\n "+y+s("^")}return" "+n(p)+r(d)}).join("\n")}toString(){let t=this.showSourceCode();return t&&(t="\n\n"+t+"\n"),this.name+": "+this.message+t}};var ts=es;es.default=es;const Jo={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let is=class{constructor(e){this.builder=e}atrule(e,t){let i="@"+e.name,n=e.params?this.rawValue(e,"params"):"";typeof e.raws.afterName<"u"?i+=e.raws.afterName:n&&(i+=" "),e.nodes?this.block(e,i+n):this.builder(i+n+((e.raws.between||"")+(t?";":"")),e)}beforeAfter(e,t){let i;i=this.raw(e,null,"decl"===e.type?"beforeDecl":"comment"===e.type?"beforeComment":"before"===t?"beforeRule":"beforeClose");let n=e.parent,s=0;for(;n&&"root"!==n.type;)s+=1,n=n.parent;if(i.includes("\n")){let r=this.raw(e,null,"indent");if(r.length)for(let l=0;l<s;l++)i+=r}return i}block(e,t){let n,i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let i=this.raw(e,"semicolon");for(let n=0;n<e.nodes.length;n++){let s=e.nodes[n],r=this.raw(s,"before");r&&this.builder(r),this.stringify(s,t!==n||i)}}comment(e){let t=this.raw(e,"left","commentLeft"),i=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+i+"*/",e)}decl(e,t){let i=this.raw(e,"between","colon"),n=e.prop+i+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(e,t,i){let n;if(i||(i=t),t&&(n=e.raws[t],typeof n<"u"))return n;let s=e.parent;if("before"===i&&(!s||"root"===s.type&&s.first===e||s&&"document"===s.type))return"";if(!s)return Jo[i];let r=e.root();if(r.rawCache||(r.rawCache={}),typeof r.rawCache[i]<"u")return r.rawCache[i];if("before"===i||"after"===i)return this.beforeAfter(e,i);{let l="raw"+function fh(e){return e[0].toUpperCase()+e.slice(1)}(i);this[l]?n=this[l](r,e):r.walk(o=>{if(n=o.raws[t],typeof n<"u")return!1})}return typeof n>"u"&&(n=Jo[i]),r.rawCache[i]=n,n}rawBeforeClose(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length>0&&typeof i.raws.after<"u")return t=i.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let i;return e.walkComments(n=>{if(typeof n.raws.before<"u")return i=n.raws.before,i.includes("\n")&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(t,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeDecl(e,t){let i;return e.walkDecls(n=>{if(typeof n.raws.before<"u")return i=n.raws.before,i.includes("\n")&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(t,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeOpen(e){let t;return e.walk(i=>{if("decl"!==i.type&&(t=i.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(i=>{if(i.nodes&&(i.parent!==e||e.first!==i)&&typeof i.raws.before<"u")return t=i.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(i=>{if(typeof i.raws.between<"u")return t=i.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(i=>{if(i.nodes&&0===i.nodes.length&&(t=i.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(i=>{let n=i.parent;if(n&&n!==e&&n.parent&&n.parent===e&&typeof i.raws.before<"u"){let s=i.raws.before.split("\n");return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length&&"decl"===i.last.type&&(t=i.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let i=e[t],n=e.raws[t];return n&&n.value===i?n.raw:i}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var To=is;is.default=is;let gh=To;function ns(e,t){new gh(t).stringify(e)}var fi=ns;ns.default=ns;var Wt={};Wt.isClean=Symbol("isClean"),Wt.my=Symbol("my");let Zh=ts,Ih=To,Gh=fi,{isClean:Xt,my:Vh}=Wt;function ss(e,t){let i=new e.constructor;for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n)||"proxyCache"===n)continue;let s=e[n],r=typeof s;"parent"===n&&"object"===r?t&&(i[n]=t):"source"===n?i[n]=s:Array.isArray(s)?i[n]=s.map(l=>ss(l,i)):("object"===r&&null!==s&&(s=ss(s)),i[n]=s)}return i}let rs=class{constructor(e={}){this.raws={},this[Xt]=!1,this[Vh]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let i of e[t])this.append("function"==typeof i.clone?i.clone():i)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=ss(this);for(let i in e)t[i]=e[i];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:i,start:n}=this.rangeBy(t);return this.source.input.error(e,{column:n.column,line:n.line},{column:i.column,line:i.line},t)}return new Zh(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,i)=>(e[t]===i||(e[t]=i,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty()),!0)}}markClean(){this[Xt]=!0}markDirty(){if(this[Xt]){this[Xt]=!1;let e=this;for(;e=e.parent;)e[Xt]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let i=this.source.start;if(e.index)i=this.positionInside(e.index,t);else if(e.word){let n=(t=this.toString()).indexOf(e.word);-1!==n&&(i=this.positionInside(n,t))}return i}positionInside(e,t){let i=t||this.toString(),n=this.source.start.column,s=this.source.start.line;for(let r=0;r<e;r++)"\n"===i[r]?(n=1,s+=1):n+=1;return{column:n,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.toString(),s=n.indexOf(e.word);-1!==s&&(t=this.positionInside(s,n),i=this.positionInside(s+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?i={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?i=this.positionInside(e.endIndex):e.index&&(i=this.positionInside(e.index+1));return(i.line<t.line||i.line===t.line&&i.column<=t.column)&&(i={column:t.column+1,line:t.line}),{end:i,start:t}}raw(e,t){return(new Ih).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,i=!1;for(let n of e)n===this?i=!0:i?(this.parent.insertAfter(t,n),t=n):this.parent.insertBefore(t,n);i||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let i={},n=null==t;t=t||new Map;let s=0;for(let r in this){if(!Object.prototype.hasOwnProperty.call(this,r)||"parent"===r||"proxyCache"===r)continue;let l=this[r];if(Array.isArray(l))i[r]=l.map(o=>"object"==typeof o&&o.toJSON?o.toJSON(null,t):o);else if("object"==typeof l&&l.toJSON)i[r]=l.toJSON(null,t);else if("source"===r){let o=t.get(l.input);null==o&&(o=s,t.set(l.input,s),s++),i[r]={end:l.end,inputId:o,start:l.start}}else i[r]=l}return n&&(i.inputs=[...t.keys()].map(r=>r.toJSON())),i}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=Gh){e.stringify&&(e=e.stringify);let t="";return e(this,i=>{t+=i}),t}warn(e,t,i){let n={node:this};for(let s in i)n[s]=i[s];return e.warn(t,n)}get proxyOf(){return this}};var gi=rs;rs.default=rs;let Wh=gi,os=class extends Wh{constructor(e){super(e),this.type="comment"}};var Zi=os;os.default=os;let Xh=gi,ls=class extends Xh{constructor(e){e&&typeof e.value<"u"&&"string"!=typeof e.value&&(e=se(R({},e),{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};var Ii=ls;ls.default=ls;let as,Mo,Ho,cs,No=Zi,Uo=Ii,Sh=gi,{isClean:Fo,my:Ko}=Wt;function zo(e){return e.map(t=>(t.nodes&&(t.nodes=zo(t.nodes)),delete t.source,t))}function Oo(e){if(e[Fo]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)Oo(t)}let xe=class tc extends Sh{append(...t){for(let i of t){let n=this.normalize(i,this.last);for(let s of n)this.proxyOf.nodes.push(s)}return this.markDirty(),this}cleanRaws(t){if(super.cleanRaws(t),this.nodes)for(let i of this.nodes)i.cleanRaws(t)}each(t){if(!this.proxyOf.nodes)return;let n,s,i=this.getIterator();for(;this.indexes[i]<this.proxyOf.nodes.length&&(n=this.indexes[i],s=t(this.proxyOf.nodes[n],n),!1!==s);)this.indexes[i]+=1;return delete this.indexes[i],s}every(t){return this.nodes.every(t)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let t=this.lastEach;return this.indexes[t]=0,t}getProxyProcessor(){return{get:(t,i)=>"proxyOf"===i?t:t[i]?"each"===i||"string"==typeof i&&i.startsWith("walk")?(...n)=>t[i](...n.map(s=>"function"==typeof s?(r,l)=>s(r.toProxy(),l):s)):"every"===i||"some"===i?n=>t[i]((s,...r)=>n(s.toProxy(),...r)):"root"===i?()=>t.root().toProxy():"nodes"===i?t.nodes.map(n=>n.toProxy()):"first"===i||"last"===i?t[i].toProxy():t[i]:t[i],set:(t,i,n)=>(t[i]===n||(t[i]=n,("name"===i||"params"===i||"selector"===i)&&t.markDirty()),!0)}}index(t){return"number"==typeof t?t:(t.proxyOf&&(t=t.proxyOf),this.proxyOf.nodes.indexOf(t))}insertAfter(t,i){let r,n=this.index(t),s=this.normalize(i,this.proxyOf.nodes[n]).reverse();n=this.index(t);for(let l of s)this.proxyOf.nodes.splice(n+1,0,l);for(let l in this.indexes)r=this.indexes[l],n<r&&(this.indexes[l]=r+s.length);return this.markDirty(),this}insertBefore(t,i){let l,n=this.index(t),r=this.normalize(i,this.proxyOf.nodes[n],0===n&&"prepend").reverse();n=this.index(t);for(let o of r)this.proxyOf.nodes.splice(n,0,o);for(let o in this.indexes)l=this.indexes[o],n<=l&&(this.indexes[o]=l+r.length);return this.markDirty(),this}normalize(t,i){if("string"==typeof t)t=zo(Mo(t).nodes);else if(typeof t>"u")t=[];else if(Array.isArray(t)){t=t.slice(0);for(let n of t)n.parent&&n.parent.removeChild(n,"ignore")}else if("root"===t.type&&"document"!==this.type){t=t.nodes.slice(0);for(let n of t)n.parent&&n.parent.removeChild(n,"ignore")}else if(t.type)t=[t];else if(t.prop){if(typeof t.value>"u")throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new Uo(t)]}else if(t.selector||t.selectors)t=[new cs(t)];else if(t.name)t=[new as(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new No(t)]}return t.map(n=>(n[Ko]||tc.rebuild(n),(n=n.proxyOf).parent&&n.parent.removeChild(n),n[Fo]&&Oo(n),n.raws||(n.raws={}),typeof n.raws.before>"u"&&i&&typeof i.raws.before<"u"&&(n.raws.before=i.raws.before.replace(/\S/g,"")),n.parent=this.proxyOf,n))}prepend(...t){t=t.reverse();for(let i of t){let n=this.normalize(i,this.first,"prepend").reverse();for(let s of n)this.proxyOf.nodes.unshift(s);for(let s in this.indexes)this.indexes[s]=this.indexes[s]+n.length}return this.markDirty(),this}push(t){return t.parent=this,this.proxyOf.nodes.push(t),this}removeAll(){for(let t of this.proxyOf.nodes)t.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(t){let i;t=this.index(t),this.proxyOf.nodes[t].parent=void 0,this.proxyOf.nodes.splice(t,1);for(let n in this.indexes)i=this.indexes[n],i>=t&&(this.indexes[n]=i-1);return this.markDirty(),this}replaceValues(t,i,n){return n||(n=i,i={}),this.walkDecls(s=>{i.props&&!i.props.includes(s.prop)||i.fast&&!s.value.includes(i.fast)||(s.value=s.value.replace(t,n))}),this.markDirty(),this}some(t){return this.nodes.some(t)}walk(t){return this.each((i,n)=>{let s;try{s=t(i,n)}catch(r){throw i.addToError(r)}return!1!==s&&i.walk&&(s=i.walk(t)),s})}walkAtRules(t,i){return i?t instanceof RegExp?this.walk((n,s)=>{if("atrule"===n.type&&t.test(n.name))return i(n,s)}):this.walk((n,s)=>{if("atrule"===n.type&&n.name===t)return i(n,s)}):(i=t,this.walk((n,s)=>{if("atrule"===n.type)return i(n,s)}))}walkComments(t){return this.walk((i,n)=>{if("comment"===i.type)return t(i,n)})}walkDecls(t,i){return i?t instanceof RegExp?this.walk((n,s)=>{if("decl"===n.type&&t.test(n.prop))return i(n,s)}):this.walk((n,s)=>{if("decl"===n.type&&n.prop===t)return i(n,s)}):(i=t,this.walk((n,s)=>{if("decl"===n.type)return i(n,s)}))}walkRules(t,i){return i?t instanceof RegExp?this.walk((n,s)=>{if("rule"===n.type&&t.test(n.selector))return i(n,s)}):this.walk((n,s)=>{if("rule"===n.type&&n.selector===t)return i(n,s)}):(i=t,this.walk((n,s)=>{if("rule"===n.type)return i(n,s)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};xe.registerParse=e=>{Mo=e},xe.registerRule=e=>{cs=e},xe.registerAtRule=e=>{as=e},xe.registerRoot=e=>{Ho=e};var He=xe;xe.default=xe,xe.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,as.prototype):"rule"===e.type?Object.setPrototypeOf(e,cs.prototype):"decl"===e.type?Object.setPrototypeOf(e,Uo.prototype):"comment"===e.type?Object.setPrototypeOf(e,No.prototype):"root"===e.type&&Object.setPrototypeOf(e,Ho.prototype),e[Ko]=!0,e.nodes&&e.nodes.forEach(t=>{xe.rebuild(t)})};let Po=He,Gi=class extends Po{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var ds=Gi;Gi.default=Gi,Po.registerAtRule(Gi);let Bo,Eo,Rh=He,St=class extends Rh{constructor(e){super(R({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(e={}){return new Bo(new Eo,this,e).stringify()}};St.registerLazyResult=e=>{Bo=e},St.registerProcessor=e=>{Eo=e};var us=St;St.default=St;var Ch={nanoid:(e=21)=>{let t="",i=e;for(;i--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(i=t)=>{let n="",s=i;for(;s--;)n+=e[Math.random()*e.length|0];return n}};let{existsSync:vh,readFileSync:kh}=Ge,{dirname:hs,join:xh}=Ge,{SourceMapConsumer:jo,SourceMapGenerator:Do}=Ge,ps=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=this.loadMap(t.from,t.map?t.map.prev:void 0);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=hs(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new jo(this.text)),this.consumerCache}decodeInline(e){let r=e.match(/^data:application\/json;charset=utf-?8,/)||e.match(/^data:application\/json,/);if(r)return decodeURIComponent(e.substr(r[0].length));let l=e.match(/^data:application\/json;charset=utf-?8;base64,/)||e.match(/^data:application\/json;base64,/);if(l)return function Lh(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}(e.substr(l[0].length));let o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let i=e.lastIndexOf(t.pop()),n=e.indexOf("*/",i);i>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(i,n)))}loadFile(e){if(this.root=hs(e),vh(e))return this.mapFile=e,kh(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof jo)return Do.fromSourceMap(t).toString();if(t instanceof Do)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let i=t(e);if(i){let n=this.loadFile(i);if(!n)throw new Error("Unable to load previous source map: "+i.toString());return n}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let i=this.annotation;return e&&(i=xh(hs(e),i)),this.loadFile(i)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var Qo=ps;ps.default=ps;let{nanoid:Yh}=Ch,{isAbsolute:ms,resolve:bs}=Ge,{SourceMapConsumer:Jh,SourceMapGenerator:Th}=Ge,{fileURLToPath:Ao,pathToFileURL:Vi}=Ge,_o=ts,Nh=Qo,ys=Ge,fs=Symbol("fromOffsetCache"),Uh=!(!Jh||!Th),$o=!(!bs||!ms),Wi=class{constructor(e,t={}){if(null===e||typeof e>"u"||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(this.file=!$o||/^\w+:\/\//.test(t.from)||ms(t.from)?t.from:bs(t.from)),$o&&Uh){let i=new Nh(this.css,t);if(i.text){this.map=i;let n=i.consumer().file;!this.file&&n&&(this.file=this.mapResolve(n))}}this.file||(this.id="<input css "+Yh(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,i,n={}){let s,r,l;if(t&&"object"==typeof t){let a=t,c=i;if("number"==typeof a.offset){let d=this.fromOffset(a.offset);t=d.line,i=d.col}else t=a.line,i=a.column;if("number"==typeof c.offset){let d=this.fromOffset(c.offset);r=d.line,s=d.col}else r=c.line,s=c.column}else if(!i){let a=this.fromOffset(t);t=a.line,i=a.col}let o=this.origin(t,i,r,s);return l=o?new _o(e,void 0===o.endLine?o.line:{column:o.column,line:o.line},void 0===o.endLine?o.column:{column:o.endColumn,line:o.endLine},o.source,o.file,n.plugin):new _o(e,void 0===r?t:{column:i,line:t},void 0===r?i:{column:s,line:r},this.css,this.file,n.plugin),l.input={column:i,endColumn:s,endLine:r,line:t,source:this.css},this.file&&(Vi&&(l.input.url=Vi(this.file).toString()),l.input.file=this.file),l}fromOffset(e){let t,i;if(this[fs])i=this[fs];else{let s=this.css.split("\n");i=new Array(s.length);let r=0;for(let l=0,o=s.length;l<o;l++)i[l]=r,r+=s[l].length+1;this[fs]=i}t=i[i.length-1];let n=0;if(e>=t)n=i.length-1;else{let r,s=i.length-2;for(;n<s;)if(r=n+(s-n>>1),e<i[r])s=r-1;else{if(!(e>=i[r+1])){n=r;break}n=r+1}}return{col:e-i[n]+1,line:n+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:bs(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,i,n){if(!this.map)return!1;let l,o,s=this.map.consumer(),r=s.originalPositionFor({column:t,line:e});if(!r.source)return!1;"number"==typeof i&&(l=s.originalPositionFor({column:n,line:i})),o=ms(r.source)?Vi(r.source):new URL(r.source,this.map.consumer().sourceRoot||Vi(this.map.mapFile));let a={column:r.column,endColumn:l&&l.column,endLine:l&&l.line,line:r.line,url:o.toString()};if("file:"===o.protocol){if(!Ao)throw new Error("file: protocol is not available in this PostCSS build");a.file=Ao(o)}let c=s.sourceContentFor(r.source);return c&&(a.source=c),a}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map=R({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Xi=Wi;Wi.default=Wi,ys&&ys.registerInput&&ys.registerInput(Wi);let el,tl,qo=He,et=class extends qo{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,i){let n=super.normalize(e);if(t)if("prepend"===i)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of n)s.raws.before=t.raws.before;return n}removeChild(e,t){let i=this.index(e);return!t&&0===i&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[i].raws.before),super.removeChild(e)}toResult(e={}){return new el(new tl,this,e).stringify()}};et.registerLazyResult=e=>{el=e},et.registerProcessor=e=>{tl=e};var Rt=et;et.default=et,qo.registerRoot(et);let wt={comma:e=>wt.split(e,[","],!0),space:e=>wt.split(e,[" ","\n","\t"]),split(e,t,i){let n=[],s="",r=!1,l=0,o=!1,a="",c=!1;for(let d of e)c?c=!1:"\\"===d?c=!0:o?d===a&&(o=!1):'"'===d||"'"===d?(o=!0,a=d):"("===d?l+=1:")"===d?l>0&&(l-=1):0===l&&t.includes(d)&&(r=!0),r?(""!==s&&n.push(s.trim()),s="",r=!1):s+=d;return(i||""!==s)&&n.push(s.trim()),n}};var il=wt;wt.default=wt;let nl=He,Fh=il,Si=class extends nl{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Fh.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,i=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(i)}};var gs=Si;Si.default=Si,nl.registerRule(Si);let Kh=ds,Mh=Zi,Hh=Ii,zh=Xi,Oh=Qo,Ph=Rt,Bh=gs;function Ct(e,t){if(Array.isArray(e))return e.map(r=>Ct(r));let i=e,{inputs:n}=i,s=ge(i,["inputs"]);if(n){t=[];for(let r of n){let l=se(R({},r),{__proto__:zh.prototype});l.map&&(l.map=se(R({},l.map),{__proto__:Oh.prototype})),t.push(l)}}if(s.nodes&&(s.nodes=e.nodes.map(r=>Ct(r,t))),s.source){let r=s.source,{inputId:l}=r,o=ge(r,["inputId"]);s.source=o,null!=l&&(s.source.input=t[l])}if("root"===s.type)return new Ph(s);if("decl"===s.type)return new Hh(s);if("rule"===s.type)return new Bh(s);if("comment"===s.type)return new Mh(s);if("atrule"===s.type)return new Kh(s);throw new Error("Unknown node type: "+e.type)}var Eh=Ct;Ct.default=Ct;let{dirname:Ri,relative:sl,resolve:rl,sep:ol}=Ge,{SourceMapConsumer:ll,SourceMapGenerator:wi}=Ge,{pathToFileURL:al}=Ge,jh=Xi,Dh=!(!ll||!wi),Qh=!!(Ri&&rl&&sl&&ol);var cl=class{constructor(e,t,i,n){this.stringify=e,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=n,this.originalCSS=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let n,t=this.toUrl(this.path(e.file)),i=e.root||Ri(e.file);!1===this.mapOpts.sourcesContent?(n=new ll(e.text),n.sourcesContent&&(n.sourcesContent=null)):n=e.consumer(),this.map.applySourceMap(n,t,this.toUrl(this.path(i)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),Qh&&Dh&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=wi.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new wi({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new wi({file:this.outputFile(),ignoreInvalidMapping:!0});let s,r,e=1,t=1,i="<no source>",n={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(l,o,a)=>{if(this.css+=l,o&&"end"!==a&&(n.generated.line=e,n.generated.column=t-1,o.source&&o.source.start?(n.source=this.sourcePath(o),n.original.line=o.source.start.line,n.original.column=o.source.start.column-1,this.map.addMapping(n)):(n.source=i,n.original.line=1,n.original.column=0,this.map.addMapping(n))),r=l.match(/\n/g),r?(e+=r.length,s=l.lastIndexOf("\n"),t=l.length-s):t+=l.length,o&&"start"!==a){let c=o.parent||{raws:{}};("decl"!==o.type&&("atrule"!==o.type||o.nodes)||o!==c.last||c.raws.semicolon)&&(o.source&&o.source.end?(n.source=this.sourcePath(o),n.original.line=o.source.end.line,n.original.column=o.source.end.column-1,n.generated.line=e,n.generated.column=t-2,this.map.addMapping(n)):(n.source=i,n.original.line=1,n.original.column=0,n.generated.line=e,n.generated.column=t-1,this.map.addMapping(n)))}})}isAnnotation(){return!!this.isInline()||(typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:!this.previous().length||this.previous().some(e=>e.annotation))}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return!(typeof e<"u"&&!0!==e)&&(!this.previous().length||this.previous().some(t=>t.inline))}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(e=>e.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let i=this.opts.to?Ri(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(i=Ri(rl(i,this.mapOpts.annotation)));let n=sl(i,e);return this.memoizedPaths.set(e,n),n}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new jh(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let i=t.source.input.from;if(i&&!e[i]){e[i]=!0;let n=this.usesFileUrls?this.toFileUrl(i):this.toUrl(this.path(i));this.map.setSourceContent(n,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(al){let i=al(e).toString();return this.memoizedFileURLs.set(e,i),i}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===ol&&(e=e.replace(/\\/g,"/"));let i=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,i),i}};const Yi=/[\t\n\f\r "#'()/;[\\\]{}]/g,Ji=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,op=/.[\r\n"'(/\\]/,hl=/[\da-f]/i;let ap=ds,cp=Zi,dp=Ii,up=Rt,pl=gs;const ml={empty:!0,space:!0};let bp=He,yp=Xi;function Ti(e,t){let i=new yp(e,t),n=new class{constructor(e){this.input=e,this.root=new up,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new ap;t.name=e[1].slice(1),""===t.name&&this.unnamedAtrule(t,e),this.init(t,e[2]);let i,n,s,r=!1,l=!1,o=[],a=[];for(;!this.tokenizer.endOfFile();){if(i=(e=this.tokenizer.nextToken())[0],"("===i||"["===i?a.push("("===i?")":"]"):"{"===i&&a.length>0?a.push("}"):i===a[a.length-1]&&a.pop(),0===a.length){if(";"===i){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}if("{"===i){l=!0;break}if("}"===i){if(o.length>0){for(s=o.length-1,n=o[s];n&&"space"===n[0];)n=o[--s];n&&(t.source.end=this.getPosition(n[3]||n[2]),t.source.end.offset++)}this.end(e);break}o.push(e)}else o.push(e);if(this.tokenizer.endOfFile()){r=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(o),o.length?(t.raws.afterName=this.spacesAndCommentsFromStart(o),this.raw(t,"params",o),r&&(t.source.end=this.getPosition((e=o[o.length-1])[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let n,i=0;for(let s=t-1;s>=0&&(n=e[s],"space"===n[0]||(i+=1,2!==i));s--);throw this.input.error("Missed semicolon","word"===n[0]?n[3]+1:n[2])}colon(e){let i,n,s,t=0;for(let[r,l]of e.entries()){if(n=l,s=n[0],"("===s&&(t+=1),")"===s&&(t-=1),0===t&&":"===s){if(i){if("word"===i[0]&&"progid"===i[1])continue;return r}this.doubleColon(n)}i=n}return!1}comment(e){let t=new cp;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let i=e[1].slice(2,-2);if(/^\s*$/.test(i))t.text="",t.raws.left=i,t.raws.right="";else{let n=i.match(/^(\s*)([^]*\S)(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}}createTokenizer(){this.tokenizer=function(e,t={}){let s,r,l,o,a,c,d,u,m,p,i=e.css.valueOf(),n=t.ignoreErrors,y=i.length,h=0,S=[],g=[];function X(Z){throw e.error("Unclosed "+Z,h)}return{back:function T(Z){g.push(Z)},endOfFile:function G(){return 0===g.length&&h>=y},nextToken:function C(Z){if(g.length)return g.pop();if(h>=y)return;let v=!!Z&&Z.ignoreUnclosed;switch(s=i.charCodeAt(h),s){case 10:case 32:case 9:case 13:case 12:o=h;do{o+=1,s=i.charCodeAt(o)}while(32===s||10===s||9===s||13===s||12===s);c=["space",i.slice(h,o)],h=o-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let K=String.fromCharCode(s);c=[K,K,h];break}case 40:if(p=S.length?S.pop()[1]:"",m=i.charCodeAt(h+1),"url"===p&&39!==m&&34!==m&&32!==m&&10!==m&&9!==m&&12!==m&&13!==m){o=h;do{if(d=!1,o=i.indexOf(")",o+1),-1===o){if(n||v){o=h;break}X("bracket")}for(u=o;92===i.charCodeAt(u-1);)u-=1,d=!d}while(d);c=["brackets",i.slice(h,o+1),h,o],h=o}else o=i.indexOf(")",h+1),r=i.slice(h,o+1),-1===o||op.test(r)?c=["(","(",h]:(c=["brackets",r,h,o],h=o);break;case 39:case 34:a=39===s?"'":'"',o=h;do{if(d=!1,o=i.indexOf(a,o+1),-1===o){if(n||v){o=h+1;break}X("string")}for(u=o;92===i.charCodeAt(u-1);)u-=1,d=!d}while(d);c=["string",i.slice(h,o+1),h,o],h=o;break;case 64:Yi.lastIndex=h+1,Yi.test(i),o=0===Yi.lastIndex?i.length-1:Yi.lastIndex-2,c=["at-word",i.slice(h,o+1),h,o],h=o;break;case 92:for(o=h,l=!0;92===i.charCodeAt(o+1);)o+=1,l=!l;if(s=i.charCodeAt(o+1),l&&47!==s&&32!==s&&10!==s&&9!==s&&13!==s&&12!==s&&(o+=1,hl.test(i.charAt(o)))){for(;hl.test(i.charAt(o+1));)o+=1;32===i.charCodeAt(o+1)&&(o+=1)}c=["word",i.slice(h,o+1),h,o],h=o;break;default:47===s&&42===i.charCodeAt(h+1)?(o=i.indexOf("*/",h+2)+1,0===o&&(n||v?o=i.length:X("comment")),c=["comment",i.slice(h,o+1),h,o],h=o):(Ji.lastIndex=h+1,Ji.test(i),o=0===Ji.lastIndex?i.length-1:Ji.lastIndex-2,c=["word",i.slice(h,o+1),h,o],S.push(c),h=o)}return h++,c},position:function W(){return h}}}(this.input)}decl(e,t){let i=new dp;this.init(i,e[0][2]);let s,n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(n[3]||n[2]||function pp(e){for(let t=e.length-1;t>=0;t--){let i=e[t],n=i[3]||i[2];if(n)return n}}(e)),i.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let o=e[0][0];if(":"===o||"space"===o||"comment"===o)break;i.prop+=e.shift()[1]}for(i.raws.between="";e.length;){if(s=e.shift(),":"===s[0]){i.raws.between+=s[1];break}"word"===s[0]&&/\w/.test(s[1])&&this.unknownWord([s]),i.raws.between+=s[1]}("_"===i.prop[0]||"*"===i.prop[0])&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let l,r=[];for(;e.length&&(l=e[0][0],"space"===l||"comment"===l);)r.push(e.shift());this.precheckMissedSemicolon(e);for(let o=e.length-1;o>=0;o--){if(s=e[o],"!important"===s[1].toLowerCase()){i.important=!0;let a=this.stringFrom(e,o);a=this.spacesFromEnd(e)+a," !important"!==a&&(i.raws.important=a);break}if("important"===s[1].toLowerCase()){let a=e.slice(0),c="";for(let d=o;d>0;d--){let u=a[d][0];if(c.trim().startsWith("!")&&"space"!==u)break;c=a.pop()[1]+c}c.trim().startsWith("!")&&(i.important=!0,i.raws.important=c,e=a)}if("space"!==s[0]&&"comment"!==s[0])break}e.some(o=>"space"!==o[0]&&"comment"!==o[0])&&(i.raws.between+=r.map(o=>o[1]).join(""),r=[]),this.raw(i,"value",r.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new pl;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,i=null,n=!1,s=null,r=[],l=e[1].startsWith("--"),o=[],a=e;for(;a;){if(i=a[0],o.push(a),"("===i||"["===i)s||(s=a),r.push("("===i?")":"]");else if(l&&n&&"{"===i)s||(s=a),r.push("}");else if(0===r.length){if(";"===i){if(n)return void this.decl(o,l);break}if("{"===i)return void this.rule(o);if("}"===i){this.tokenizer.back(o.pop()),t=!0;break}":"===i&&(n=!0)}else i===r[r.length-1]&&(r.pop(),0===r.length&&(s=null));a=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),r.length>0&&this.unclosedBracket(s),t&&n){if(!l)for(;o.length&&(a=o[o.length-1][0],"space"===a||"comment"===a);)this.tokenizer.back(o.pop());this.decl(o,l)}else this.unknownWord(o)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,i,n){let s,r,c,d,l=i.length,o="",a=!0;for(let u=0;u<l;u+=1)s=i[u],r=s[0],"space"!==r||u!==l-1||n?"comment"===r?(d=i[u-1]?i[u-1][0]:"empty",c=i[u+1]?i[u+1][0]:"empty",ml[d]||ml[c]||","===o.slice(-1)?a=!1:o+=s[1]):o+=s[1]:a=!1;if(!a){let u=i.reduce((m,p)=>m+p[1],"");e.raws[t]={raw:u,value:o}}e[t]=o}rule(e){e.pop();let t=new pl;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)i=e.pop()[1]+i;return i}spacesAndCommentsFromStart(e){let t,i="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)i+=e.shift()[1];return i}spacesFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)i=e.pop()[1]+i;return i}stringFrom(e,t){let i="";for(let n=t;n<e.length;n++)i+=e[n][1];return e.splice(t,e.length-t),i}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}(i);try{n.parse()}catch(s){throw s}return n.root}var Is=Ti;Ti.default=Ti,bp.registerParse(Ti);let Gs=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let i=t.node.rangeBy(t);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in t)this[i]=t[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var bl=Gs;Gs.default=Gs;let gp=bl,Vs=class{constructor(e,t,i){this.processor=e,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let i=new gp(e,t);return this.messages.push(i),i}warnings(){return this.messages.filter(e=>"warning"===e.type)}get content(){return this.css}};var Ws=Vs;Vs.default=Vs;let Zp=He,Ip=us,Gp=cl,Vp=Is,fl=Ws,Wp=Rt,Xp=fi,{isClean:Re,my:Sp}=Wt;const Rp={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},wp={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Cp={Once:!0,postcssPlugin:!0,prepare:!0},tt=0;function kt(e){return"object"==typeof e&&"function"==typeof e.then}function gl(e){let t=!1,i=Rp[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[i,i+"-"+t,tt,i+"Exit",i+"Exit-"+t]:t?[i,i+"-"+t,i+"Exit",i+"Exit-"+t]:e.append?[i,tt,i+"Exit"]:[i,i+"Exit"]}function Zl(e){let t;return t="document"===e.type?["Document",tt,"DocumentExit"]:"root"===e.type?["Root",tt,"RootExit"]:gl(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function Xs(e){return e[Re]=!1,e.nodes&&e.nodes.forEach(t=>Xs(t)),e}let Ss={},it=class ic{constructor(t,i,n){let s;if(this.stringified=!1,this.processed=!1,"object"!=typeof i||null===i||"root"!==i.type&&"document"!==i.type)if(i instanceof ic||i instanceof fl)s=Xs(i.root),i.map&&(typeof n.map>"u"&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=i.map);else{let r=Vp;n.syntax&&(r=n.syntax.parse),n.parser&&(r=n.parser),r.parse&&(r=r.parse);try{s=r(i,n)}catch(l){this.processed=!0,this.error=l}s&&!s[Sp]&&Zp.rebuild(s)}else s=Xs(i);this.result=new fl(t,s,n),this.helpers=se(R({},Ss),{postcss:Ss,result:this.result}),this.plugins=this.processor.plugins.map(r=>"object"==typeof r&&r.prepare?R(R({},r),r.prepare(this.result)):r)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(t,i){let n=this.result.lastPlugin;try{i&&i.addToError(t),this.error=t,"CssSyntaxError"!==t.name||t.plugin||(t.plugin=n.postcssPlugin,t.setMessage())}catch(s){console&&console.error&&console.error(s)}return t}prepareVisitors(){this.listeners={};let t=(i,n,s)=>{this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push([i,s])};for(let i of this.plugins)if("object"==typeof i)for(let n in i){if(!wp[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${i.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Cp[n])if("object"==typeof i[n])for(let s in i[n])t(i,"*"===s?n:n+"-"+s.toLowerCase(),i[n][s]);else"function"==typeof i[n]&&t(i,n,i[n])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){return te(this,null,function*(){this.plugin=0;for(let t=0;t<this.plugins.length;t++){let n=this.runOnRoot(this.plugins[t]);if(kt(n))try{yield n}catch(s){throw this.handleError(s)}}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[Re];){t[Re]=!0;let i=[Zl(t)];for(;i.length>0;){let n=this.visitTick(i);if(kt(n))try{yield n}catch(s){throw this.handleError(s,i[i.length-1].node)}}}if(this.listeners.OnceExit)for(let[i,n]of this.listeners.OnceExit){this.result.lastPlugin=i;try{if("document"===t.type){let s=t.nodes.map(r=>n(r,this.helpers));yield Promise.all(s)}else yield n(t,this.helpers)}catch(s){throw this.handleError(s)}}}return this.processed=!0,this.stringify()})}runOnRoot(t){this.result.lastPlugin=t;try{if("object"==typeof t&&t.Once){if("document"===this.result.root.type){let i=this.result.root.nodes.map(n=>t.Once(n,this.helpers));return kt(i[0])?Promise.all(i):i}return t.Once(this.result.root,this.helpers)}if("function"==typeof t)return t(this.result.root,this.result)}catch(i){throw this.handleError(i)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let t=this.result.opts,i=Xp;t.syntax&&(i=t.syntax.stringify),t.stringifier&&(i=t.stringifier),i.stringify&&(i=i.stringify);let n=new Gp(i,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let t of this.plugins)if(kt(this.runOnRoot(t)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[Re];)t[Re]=!0,this.walkSync(t);if(this.listeners.OnceExit)if("document"===t.type)for(let i of t.nodes)this.visitSync(this.listeners.OnceExit,i);else this.visitSync(this.listeners.OnceExit,t)}return this.result}then(t,i){return this.async().then(t,i)}toString(){return this.css}visitSync(t,i){for(let[n,s]of t){let r;this.result.lastPlugin=n;try{r=s(i,this.helpers)}catch(l){throw this.handleError(l,i.proxyOf)}if("root"!==i.type&&"document"!==i.type&&!i.parent)return!0;if(kt(r))throw this.getAsyncError()}}visitTick(t){let i=t[t.length-1],{node:n,visitors:s}=i;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void t.pop();if(s.length>0&&i.visitorIndex<s.length){let[l,o]=s[i.visitorIndex];i.visitorIndex+=1,i.visitorIndex===s.length&&(i.visitors=[],i.visitorIndex=0),this.result.lastPlugin=l;try{return o(n.toProxy(),this.helpers)}catch(a){throw this.handleError(a,n)}}if(0!==i.iterator){let o,l=i.iterator;for(;o=n.nodes[n.indexes[l]];)if(n.indexes[l]+=1,!o[Re])return o[Re]=!0,void t.push(Zl(o));i.iterator=0,delete n.indexes[l]}let r=i.events;for(;i.eventIndex<r.length;){let l=r[i.eventIndex];if(i.eventIndex+=1,l===tt)return void(n.nodes&&n.nodes.length&&(n[Re]=!0,i.iterator=n.getIterator()));if(this.listeners[l])return void(i.visitors=this.listeners[l])}t.pop()}walkSync(t){t[Re]=!0;let i=gl(t);for(let n of i)if(n===tt)t.nodes&&t.each(s=>{s[Re]||this.walkSync(s)});else{let s=this.listeners[n];if(s&&this.visitSync(s,t.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};it.registerPostcss=e=>{Ss=e};var Il=it;it.default=it,Wp.registerLazyResult(it),Ip.registerLazyResult(it);let vp=cl,kp=Is;const xp=Ws;let Lp=fi,Rs=class{constructor(e,t,i){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=i,this._map=void 0;let n,s=Lp;this.result=new xp(this._processor,n,this._opts),this.result.css=t;let r=this;Object.defineProperty(this.result,"root",{get:()=>r.root});let l=new vp(s,n,this._opts,t);if(l.isMap()){let[o,a]=l.generate();o&&(this.result.css=o),a&&(this.result.map=a)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=kp;try{e=t(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var Yp=Rs;Rs.default=Rs;let Jp=us,Tp=Il,Np=Yp,Up=Rt,xt=class{constructor(e=[]){this.version="8.4.47",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let i of e)if(!0===i.postcss?i=i():i.postcss&&(i=i.postcss),"object"==typeof i&&Array.isArray(i.plugins))t=t.concat(i.plugins);else if("object"==typeof i&&i.postcssPlugin)t.push(i);else if("function"==typeof i)t.push(i);else if("object"!=typeof i||!i.parse&&!i.stringify)throw new Error(i+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new Tp(this,e,t):new Np(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var Fp=xt;xt.default=xt,Up.registerProcessor(xt),Jp.registerProcessor(xt);let Gl=ds,Vl=Zi,Kp=He,Mp=ts,Wl=Ii,Xl=us,Hp=Eh,zp=Xi,Op=Il,Pp=il,Bp=gi,Ep=Is,ws=Fp,jp=Ws,Sl=Rt,Rl=gs,Dp=fi,Qp=bl;function D(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new ws(e)}D.plugin=function(e,t){let s,i=!1;function n(...r){console&&console.warn&&!i&&(i=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));let l=t(...r);return l.postcssPlugin=e,l.postcssVersion=(new ws).version,l}return Object.defineProperty(n,"postcss",{get:()=>(s||(s=n()),s)}),n.process=function(r,l,o){return D([n(o)]).process(r,l)},n},D.stringify=Dp,D.parse=Ep,D.fromJSON=Hp,D.list=Pp,D.comment=e=>new Vl(e),D.atRule=e=>new Gl(e),D.decl=e=>new Wl(e),D.rule=e=>new Rl(e),D.root=e=>new Sl(e),D.document=e=>new Xl(e),D.CssSyntaxError=Mp,D.Declaration=Wl,D.Container=Kp,D.Processor=ws,D.Document=Xl,D.Comment=Vl,D.Warning=Qp,D.AtRule=Gl,D.Result=jp,D.Input=zp,D.Rule=Rl,D.Root=Sl,D.Node=Bp,Op.registerPostcss(D),D.default=D;class Cs{constructor(...t){me(this,"parentElement",null),me(this,"parentNode",null),me(this,"ownerDocument"),me(this,"firstChild",null),me(this,"lastChild",null),me(this,"previousSibling",null),me(this,"nextSibling",null),me(this,"ELEMENT_NODE",1),me(this,"TEXT_NODE",3),me(this,"nodeType"),me(this,"nodeName"),me(this,"RRNodeType")}get childNodes(){const t=[];let i=this.firstChild;for(;i;)t.push(i),i=i.nextSibling;return t}contains(t){if(!(t instanceof Cs))return!1;if(t.ownerDocument!==this.ownerDocument)return!1;if(t===this)return!0;for(;t.parentNode;){if(t.parentNode===this)return!0;t=t.parentNode}return!1}appendChild(t){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(t,i){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(t){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}const wl={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Cl={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Ni={};function vs(e){if(Ni[e])return Ni[e];const t=globalThis[e],i=t.prototype,n=e in wl?wl[e]:void 0,s=!(!n||!n.every(o=>{var a,c;return!(null==(c=null==(a=Object.getOwnPropertyDescriptor(i,o))?void 0:a.get)||!c.toString().includes("[native code]"))})),r=e in Cl?Cl[e]:void 0,l=!(!r||!r.every(o=>{var a;return"function"==typeof i[o]&&(null==(a=i[o])?void 0:a.toString().includes("[native code]"))}));if(s&&l)return Ni[e]=t.prototype,t.prototype;try{const o=document.createElement("iframe");document.body.appendChild(o);const a=o.contentWindow;if(!a)return t.prototype;const c=a[e].prototype;return document.body.removeChild(o),c?Ni[e]=c:i}catch{return i}}const ks={};function Je(e,t,i){var n;const s=`${e}.${String(i)}`;if(ks[s])return ks[s].call(t);const r=vs(e),l=null==(n=Object.getOwnPropertyDescriptor(r,i))?void 0:n.get;return l?(ks[s]=l,l.call(t)):t[i]}const xs={};function vl(e,t,i){const n=`${e}.${String(i)}`;if(xs[n])return xs[n].bind(t);const s=vs(e)[i];return"function"!=typeof s?t[i]:(xs[n]=s,s.bind(t))}function kl(){return vs("MutationObserver").constructor}const H={childNodes:function Ap(e){return Je("Node",e,"childNodes")},parentNode:function _p(e){return Je("Node",e,"parentNode")},parentElement:function $p(e){return Je("Node",e,"parentElement")},textContent:function qp(e){return Je("Node",e,"textContent")},contains:function em(e,t){return vl("Node",e,"contains")(t)},getRootNode:function tm(e){return vl("Node",e,"getRootNode")()},host:function im(e){return e&&"host"in e?Je("ShadowRoot",e,"host"):null},styleSheets:function nm(e){return e.styleSheets},shadowRoot:function sm(e){return e&&"shadowRoot"in e?Je("Element",e,"shadowRoot"):null},querySelector:function rm(e,t){return Je("Element",e,"querySelector")(t)},querySelectorAll:function om(e,t){return Je("Element",e,"querySelectorAll")(t)},mutationObserver:kl};function ae(e,t,i=document){const n={capture:!0};return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}const nt="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let xl={map:{},getId:()=>(console.error(nt),-1),getNode:()=>(console.error(nt),null),removeNodeFromMap(){console.error(nt)},has:()=>(console.error(nt),!1),reset(){console.error(nt)}};function Lt(e,t,i={}){let n=null,s=0;return function(...r){const l=Date.now();!s&&!1===i.leading&&(s=l);const o=t-(l-s),a=this;o<=0||o>t?(n&&(clearTimeout(n),n=null),s=l,e.apply(a,r)):!n&&!1!==i.trailing&&(n=setTimeout(()=>{s=!1===i.leading?0:Date.now(),n=null,e.apply(a,r)},o))}}function Ui(e,t,i,n,s=window){const r=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,n?i:{set(l){setTimeout(()=>{i.set.call(this,l)},0),r&&r.set&&r.set.call(this,l)}}),()=>Ui(e,t,r||{},!0)}function st(e,t,i){try{if(!(t in e))return()=>{};const n=e[t],s=i(n);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=s,()=>{e[t]=n}}catch{return()=>{}}}typeof window<"u"&&window.Proxy&&window.Reflect&&(xl=new Proxy(xl,{get:(e,t,i)=>("map"===t&&console.error(nt),Reflect.get(e,t,i))}));let Fi=Date.now;function Ll(e){var t,i,n,s;const r=e.document;return{left:r.scrollingElement?r.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:r.documentElement.scrollLeft||r?.body&&(null==(t=H.parentElement(r.body))?void 0:t.scrollLeft)||(null==(i=r?.body)?void 0:i.scrollLeft)||0,top:r.scrollingElement?r.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:r?.documentElement.scrollTop||r?.body&&(null==(n=H.parentElement(r.body))?void 0:n.scrollTop)||(null==(s=r?.body)?void 0:s.scrollTop)||0}}function Yl(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Jl(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Tl(e){return e?e.nodeType===e.ELEMENT_NODE?e:H.parentElement(e):null}/[1-9][0-9]{12}/.test(Date.now().toString())||(Fi=()=>(new Date).getTime());const lm=e=>{try{if(e instanceof HTMLElement)return"CANVAS"===e.tagName}catch{return!1}return!1};function re(e,t,i,n){if(!e)return!1;const s=Tl(e);if(!s)return!1;try{if("string"==typeof t){if(s.classList.contains(t)||n&&null!==s.closest("."+t))return!0}else if(_t(s,t,n))return!0}catch{}return!(!i||!(s.matches(i)||n&&null!==s.closest(i)))}function Ls(e,t,i){return!("TITLE"!==e.tagName||!i.headTitleMutations)||t.getId(e)===pt}function Nl(e,t){if(ut(e))return!1;const i=t.getId(e);if(!t.has(i))return!0;const n=H.parentNode(e);return(!n||n.nodeType!==e.DOCUMENT_NODE)&&(!n||Nl(n,t))}function Ys(e){return!!e.changedTouches}function Ul(e,t){return!("IFRAME"!==e.nodeName||!t.getMeta(e))}function Fl(e,t){return!("LINK"!==e.nodeName||e.nodeType!==e.ELEMENT_NODE||!e.getAttribute||"stylesheet"!==e.getAttribute("rel")||!t.getMeta(e))}function Js(e){return!!e&&(e instanceof Cs&&"shadowRoot"in e?!!e.shadowRoot:!!H.shadowRoot(e))}class dm{constructor(){V(this,"id",1),V(this,"styleIDMap",new WeakMap),V(this,"idStyleMap",new Map)}getId(t){var i;return null!=(i=this.styleIDMap.get(t))?i:-1}has(t){return this.styleIDMap.has(t)}add(t,i){if(this.has(t))return this.getId(t);let n;return n=void 0===i?this.id++:i,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Kl(e){var t;let i=null;return"getRootNode"in e&&(null==(t=H.getRootNode(e))?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&H.host(H.getRootNode(e))&&(i=H.host(H.getRootNode(e))),i}function Ml(e){const t=e.ownerDocument;return!!t&&(H.contains(t,e)||function hm(e){const t=e.ownerDocument;if(!t)return!1;const i=function um(e){let i,t=e;for(;i=Kl(t);)t=i;return t}(e);return H.contains(t,i)}(e))}var P=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(P||{}),z=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(z||{}),he=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(he||{}),Te=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Te||{}),rt=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(rt||{}),ot=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(ot||{});function Hl(e){return"__ln"in e}class pm{constructor(){V(this,"length",0),V(this,"head",null),V(this,"tail",null)}get(t){if(t>=this.length)throw new Error("Position outside of list range");let i=this.head;for(let n=0;n<t;n++)i=i?.next||null;return i}addNode(t){const i={value:t,previous:null,next:null};if(t.__ln=i,t.previousSibling&&Hl(t.previousSibling)){const n=t.previousSibling.__ln.next;i.next=n,i.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=i,n&&(n.previous=i)}else if(t.nextSibling&&Hl(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;i.previous=n,i.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=i,n&&(n.next=i)}else this.head&&(this.head.previous=i),i.next=this.head,this.head=i;null===i.next&&(this.tail=i),this.length++}removeNode(t){const i=t.__ln;this.head&&(i.previous?(i.previous.next=i.next,i.next?i.next.previous=i.previous:this.tail=i.previous):(this.head=i.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const zl=(e,t)=>`${e}@${t}`;class mm{constructor(){V(this,"frozen",!1),V(this,"locked",!1),V(this,"texts",[]),V(this,"attributes",[]),V(this,"attributeMap",new WeakMap),V(this,"removes",[]),V(this,"mapRemoves",[]),V(this,"movedMap",{}),V(this,"addedSet",new Set),V(this,"movedSet",new Set),V(this,"droppedSet",new Set),V(this,"removesSubTreeCache",new Set),V(this,"mutationCb"),V(this,"blockClass"),V(this,"blockSelector"),V(this,"maskTextClass"),V(this,"maskTextSelector"),V(this,"inlineStylesheet"),V(this,"maskInputOptions"),V(this,"maskTextFn"),V(this,"maskInputFn"),V(this,"keepIframeSrcFn"),V(this,"recordCanvas"),V(this,"inlineImages"),V(this,"privacySetting"),V(this,"slimDOMOptions"),V(this,"dataURLOptions"),V(this,"doc"),V(this,"mirror"),V(this,"iframeManager"),V(this,"stylesheetManager"),V(this,"shadowDomManager"),V(this,"canvasManager"),V(this,"processedNodeManager"),V(this,"unattachedDoc"),V(this,"processMutations",t=>{t.forEach(this.processMutation),this.emit()}),V(this,"emit",()=>{if(this.frozen||this.locked)return;const t=[],i=new Set,n=new pm,s=a=>{let c=a,d=pt;for(;d===pt;)c=c&&c.nextSibling,d=c&&this.mirror.getId(c);return d},r=a=>{const c=H.parentNode(a);if(!c||!Ml(a)||"TEXTAREA"===c.tagName)return;const d=ut(c)?this.mirror.getId(Kl(a)):this.mirror.getId(c),u=s(a);if(-1===d||-1===u)return n.addNode(a);const m=Ae(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,privacySetting:this.privacySetting,onSerialize:p=>{Ul(p,this.mirror)&&this.iframeManager.addIframe(p),Fl(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Js(a)&&this.shadowDomManager.addShadowRoot(H.shadowRoot(a),this.doc)},onIframeLoad:(p,y)=>{this.iframeManager.attachIframe(p,y),this.shadowDomManager.observeAttachShadow(p)},onStylesheetLoad:(p,y)=>{this.stylesheetManager.attachLinkElement(p,y)}});m&&(t.push({parentId:d,nextId:u,node:m}),i.add(m.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)Ol(this.removesSubTreeCache,a)&&!this.movedSet.has(H.parentNode(a))||r(a);for(const a of this.addedSet)!Pl(this.droppedSet,a)&&!Ol(this.removesSubTreeCache,a)||Pl(this.movedSet,a)?r(a):this.droppedSet.add(a);let l=null;for(;n.length;){let a=null;if(l){const c=this.mirror.getId(H.parentNode(l.value)),d=s(l.value);-1!==c&&-1!==d&&(a=l)}if(!a){let c=n.tail;for(;c;){const d=c;if(c=c.previous,d){const u=this.mirror.getId(H.parentNode(d.value));if(-1===s(d.value))continue;if(-1!==u){a=d;break}{const p=H.parentNode(d.value);if(p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const y=H.host(p);if(-1!==this.mirror.getId(y)){a=d;break}}}}}}if(!a){for(;n.head;)n.removeNode(n.head.value);break}l=a.previous,n.removeNode(a.value),r(a.value)}const o={texts:this.texts.map(a=>{var c,d;const u=a.node,m=H.parentNode(u);m&&"TEXTAREA"===m.tagName&&this.genTextAreaValueMutation(m);let p=a.value;const y="strict"===this.privacySetting,h="default"===this.privacySetting&&Sr(p),S=null==(d=null==(c=a.node)?void 0:c.parentElement)?void 0:d.getAttribute("data-hl-record");return(y||h)&&!S&&p&&(p=Gn(p)),{id:this.mirror.getId(u),value:p}}).filter(a=>!i.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{const{attributes:c}=a;if("string"==typeof c.style){const d=JSON.stringify(a.styleDiff),u=JSON.stringify(a._unchangedStyles);d.length<c.style.length&&(d+u).split("var(").length===c.style.split("var(").length&&(c.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:c}}).filter(a=>!i.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:t};!o.texts.length&&!o.attributes.length&&!o.removes.length&&!o.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(o))}),V(this,"genTextAreaValueMutation",t=>{let i=this.attributeMap.get(t);i||(i={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t,i)),i.attributes.value=Array.from(H.childNodes(t),n=>H.textContent(n)||"").join("")}),V(this,"processMutation",t=>{if(!Ls(t.target,this.mirror,this.slimDOMOptions))switch(t.type){case"characterData":{const i=H.textContent(t.target);!re(t.target,this.blockClass,this.blockSelector,!1)&&i!==t.oldValue&&this.texts.push({value:Yr(t.target,this.maskTextClass,this.maskTextSelector,!0)&&i?this.maskTextFn?this.maskTextFn(i,Tl(t.target)):i.replace(/[\S]/g,"*"):i,node:t.target});break}case"attributes":{const i=t.target;let n=t.attributeName,s=t.target.getAttribute(n);if("value"===n){const l=In(i);s=Zn({element:i,maskInputOptions:this.maskInputOptions,tagName:i.tagName,type:l,value:s,overwriteRecord:i.getAttribute("data-hl-record"),maskInputFn:this.maskInputFn})}if(re(t.target,this.blockClass,this.blockSelector,!1)||s===t.oldValue)return;let r=this.attributeMap.get(t.target);if("IFRAME"===i.tagName&&"src"===n&&!this.keepIframeSrcFn(s)){if(i.contentDocument)return;n="rr_src"}if(r||(r={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(r),this.attributeMap.set(t.target,r)),"type"===n&&"INPUT"===i.tagName&&"password"===(t.oldValue||"").toLowerCase()&&i.setAttribute("data-rr-is-password","true"),!xr(i.tagName,n)){if("INPUT"===t.target.tagName){const l=t.target;if("password"===l.type){r.attributes.value="*".repeat(l.value.length);break}}if(r.attributes[n]=kr(this.doc,De(i.tagName),De(n),s),"style"===n){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const l=this.unattachedDoc.createElement("span");t.oldValue&&l.setAttribute("style",t.oldValue);for(const o of Array.from(i.style)){const a=i.style.getPropertyValue(o),c=i.style.getPropertyPriority(o);a!==l.style.getPropertyValue(o)||c!==l.style.getPropertyPriority(o)?r.styleDiff[o]=""===c?a:[a,c]:r._unchangedStyles[o]=[a,c]}for(const o of Array.from(l.style))""===i.style.getPropertyValue(o)&&(r.styleDiff[o]=!1)}else"open"===n&&"DIALOG"===i.tagName&&(r.attributes.rr_open_mode=i.matches("dialog:modal")?"modal":"non-modal")}break}case"childList":if(re(t.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===t.target.tagName)return void this.genTextAreaValueMutation(t.target);t.addedNodes.forEach(i=>this.genAdds(i,t.target)),t.removedNodes.forEach(i=>{const n=this.mirror.getId(i),s=ut(t.target)?this.mirror.getId(H.host(t.target)):this.mirror.getId(t.target);re(t.target,this.blockClass,this.blockSelector,!1)||Ls(i,this.mirror,this.slimDOMOptions)||!function am(e,t){return-1!==t.getId(e)}(i,this.mirror)||(this.addedSet.has(i)?(Ts(this.addedSet,i),this.droppedSet.add(i)):this.addedSet.has(t.target)&&-1===n||Nl(t.target,this.mirror)||(this.movedSet.has(i)&&this.movedMap[zl(n,s)]?Ts(this.movedSet,i):(this.removes.push({parentId:s,id:n,isShadow:!(!ut(t.target)||!ht(t.target))||void 0}),function bm(e,t){const i=[e];for(;i.length;){const n=i.pop();t.has(n)||(t.add(n),H.childNodes(n).forEach(s=>i.push(s)))}}(i,this.removesSubTreeCache))),this.mapRemoves.push(i))})}}),V(this,"genAdds",(t,i)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!this.addedSet.has(t)&&!this.movedSet.has(t)){if(this.mirror.hasNode(t)){if(Ls(t,this.mirror,this.slimDOMOptions))return;this.movedSet.add(t);let n=null;i&&this.mirror.hasNode(i)&&(n=this.mirror.getId(i)),n&&-1!==n&&(this.movedMap[zl(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);re(t,this.blockClass,this.blockSelector,!1)||(H.childNodes(t).forEach(n=>this.genAdds(n)),Js(t)&&H.childNodes(H.shadowRoot(t)).forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}})}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","privacySetting","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(i=>{this[i]=t[i]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ts(e,t){e.delete(t),H.childNodes(t).forEach(i=>Ts(e,i))}function Ol(e,t,i){return 0!==e.size&&function ym(e,t,i){const n=H.parentNode(t);return!!n&&e.has(n)}(e,t)}function Pl(e,t){return 0!==e.size&&Bl(e,t)}function Bl(e,t){const i=H.parentNode(t);return!!i&&(!!e.has(i)||Bl(e,i))}let Yt;const O=e=>Yt?(...t)=>{try{return e(...t)}catch(i){if(Yt&&!0===Yt(i))return;throw i}}:e,ze=[];function Jt(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function El(e,t){const i=new mm;ze.push(i),i.init(e);const n=new(kl())(O(i.processMutations.bind(i)));return n.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),n}function jl({scrollCb:e,doc:t,mirror:i,blockClass:n,blockSelector:s,sampling:r}){return ae("scroll",O(Lt(O(o=>{const a=Jt(o);if(!a||re(a,n,s,!0))return;const c=i.getId(a);if(a===t&&t.defaultView){const d=Ll(t.defaultView);e({id:c,x:d.left,y:d.top})}else e({id:c,x:a.scrollLeft,y:a.scrollTop})}),r.scroll||100)),t)}const Vm=["INPUT","TEXTAREA","SELECT"],Dl=new WeakMap;function Ki(e){return function i(n,s){if(Mi("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||Mi("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||Mi("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||Mi("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){const r=Array.from(n.parentRule.cssRules).indexOf(n);s.unshift(r)}else if(n.parentStyleSheet){const r=Array.from(n.parentStyleSheet.cssRules).indexOf(n);s.unshift(r)}return s}(e,[])}function Ne(e,t,i){let n,s;return e?(e.ownerNode?n=t.getId(e.ownerNode):s=i.getId(e),{styleId:s,id:n}):{}}function Ql({mirror:e,stylesheetManager:t},i){var n,s,r;let l=null;l=e.getId("#document"===i.nodeName?i:H.host(i));const o="#document"===i.nodeName?null==(n=i.defaultView)?void 0:n.Document:null==(r=null==(s=i.ownerDocument)?void 0:s.defaultView)?void 0:r.ShadowRoot,a=null!=o&&o.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return null!==l&&-1!==l&&o&&a?(Object.defineProperty(i,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get(){var c;return null==(c=a.get)?void 0:c.call(this)},set(c){var d;const u=null==(d=a.set)?void 0:d.call(this,c);if(null!==l&&-1!==l)try{t.adoptStyleSheets(c,l)}catch{}return u}}),O(()=>{Object.defineProperty(i,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:a.set})})):()=>{}}function xm(e,t={}){const i=e.doc.defaultView;if(!i)return()=>{};let n;!function km(e,t){const{mutationCb:i,mousemoveCb:n,mouseInteractionCb:s,scrollCb:r,viewportResizeCb:l,inputCb:o,mediaInteractionCb:a,styleSheetRuleCb:c,styleDeclarationCb:d,canvasMutationCb:u,fontCb:m,selectionCb:p,customElementCb:y}=e;e.mutationCb=(...h)=>{t.mutation&&t.mutation(...h),i(...h)},e.mousemoveCb=(...h)=>{t.mousemove&&t.mousemove(...h),n(...h)},e.mouseInteractionCb=(...h)=>{t.mouseInteraction&&t.mouseInteraction(...h),s(...h)},e.scrollCb=(...h)=>{t.scroll&&t.scroll(...h),r(...h)},e.viewportResizeCb=(...h)=>{t.viewportResize&&t.viewportResize(...h),l(...h)},e.inputCb=(...h)=>{t.input&&t.input(...h),o(...h)},e.mediaInteractionCb=(...h)=>{t.mediaInteaction&&t.mediaInteaction(...h),a(...h)},e.styleSheetRuleCb=(...h)=>{t.styleSheetRule&&t.styleSheetRule(...h),c(...h)},e.styleDeclarationCb=(...h)=>{t.styleDeclaration&&t.styleDeclaration(...h),d(...h)},e.canvasMutationCb=(...h)=>{t.canvasMutation&&t.canvasMutation(...h),u(...h)},e.fontCb=(...h)=>{t.font&&t.font(...h),m(...h)},e.selectionCb=(...h)=>{t.selection&&t.selection(...h),p(...h)},e.customElementCb=(...h)=>{t.customElement&&t.customElement(...h),y(...h)}}(e,t),e.recordDOM&&(n=El(e,e.doc));const s=function Zm({mousemoveCb:e,sampling:t,doc:i,mirror:n}){if(!1===t.mousemove)return()=>{};const s="number"==typeof t.mousemove?t.mousemove:50,r="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let o,l=[];const a=Lt(O(u=>{const m=Date.now()-o;e(l.map(p=>(p.timeOffset-=m,p)),u),l=[],o=null}),r),c=O(Lt(O(u=>{const m=Jt(u),{clientX:p,clientY:y}=Ys(u)?u.changedTouches[0]:u;o||(o=Fi()),l.push({x:p,y,id:n.getId(m),timeOffset:Fi()-o}),a(typeof DragEvent<"u"&&u instanceof DragEvent?z.Drag:u instanceof MouseEvent?z.MouseMove:z.TouchMove)}),s,{trailing:!1})),d=[ae("mousemove",c,i),ae("touchmove",c,i),ae("drag",c,i)];return O(()=>{d.forEach(u=>u())})}(e),r=function Im({mouseInteractionCb:e,doc:t,mirror:i,blockClass:n,blockSelector:s,sampling:r}){if(!1===r.mouseInteraction)return()=>{};const l=!0===r.mouseInteraction||void 0===r.mouseInteraction?{}:r.mouseInteraction,o=[];let a=null;return Object.keys(he).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&!1!==l[d]).forEach(d=>{let u=De(d);const m=(d=>u=>{const m=Jt(u);if(re(m,n,s,!0)||lm(m))return;let p=null,y=d;if("pointerType"in u){switch(u.pointerType){case"mouse":p=Te.Mouse;break;case"touch":p=Te.Touch;break;case"pen":p=Te.Pen}p===Te.Touch&&(he[d]===he.MouseDown?y="TouchStart":he[d]===he.MouseUp&&(y="TouchEnd"))}else Ys(u)&&(p=Te.Touch);null!==p?(a=p,(y.startsWith("Touch")&&p===Te.Touch||y.startsWith("Mouse")&&p===Te.Mouse)&&(p=null)):he[d]===he.Click&&(p=a,a=null);const h=Ys(u)?u.changedTouches[0]:u;if(!h)return;const S=i.getId(m),{clientX:g,clientY:W}=h;O(e)(R({type:he[y],id:S,x:g,y:W},null!==p&&{pointerType:p}))})(d);if(window.PointerEvent)switch(he[d]){case he.MouseDown:case he.MouseUp:u=u.replace("mouse","pointer");break;case he.TouchStart:case he.TouchEnd:return}o.push(ae(u,m,t))}),O(()=>{o.forEach(d=>d())})}(e),l=jl(e),o=function Gm({viewportResizeCb:e},{win:t}){let i=-1,n=-1;return ae("resize",O(Lt(O(()=>{const r=Yl(),l=Jl();(i!==r||n!==l)&&(e({width:Number(l),height:Number(r)}),i=r,n=l)}),200)),t)}(e,{win:i}),a=function Wm({inputCb:e,doc:t,mirror:i,blockClass:n,blockSelector:s,ignoreClass:r,ignoreSelector:l,maskInputOptions:o,maskInputFn:a,sampling:c,userTriggeredOnInput:d}){function u(g){let W=Jt(g);const X=g.isTrusted,G=W&&W.tagName;if(W&&"OPTION"===G&&(W=H.parentElement(W)),!W||!G||Vm.indexOf(G)<0||re(W,n,s,!0)||W.classList.contains(r)||l&&W.matches(l))return;let C=W.value,T=!1;const Z=In(W)||"",v=W.getAttribute("data-hl-record");"radio"===Z||"checkbox"===Z?T=W.checked:Rr({maskInputOptions:o,type:Z,tagName:G,overwriteRecord:v})&&(C=Zn({element:W,maskInputOptions:o,tagName:G,type:Z,value:C,overwriteRecord:v,maskInputFn:a})),m(W,d?{text:C,isChecked:T,userTriggered:X}:{text:C,isChecked:T});const K=W.name;"radio"===Z&&K&&T&&t.querySelectorAll(`input[type="radio"][name="${K}"]`).forEach(L=>{if(L!==W){const E=L.value;m(L,d?{text:E,isChecked:!T,userTriggered:!1}:{text:E,isChecked:!T})}})}function m(g,W){const X=Dl.get(g);if(!X||X.text!==W.text||X.isChecked!==W.isChecked){Dl.set(g,W);const G=i.getId(g);O(e)(se(R({},W),{id:G}))}}const p=("last"===c.input?["change"]:["input","change"]).map(g=>ae(g,O(u),t)),y=t.defaultView;if(!y)return()=>{p.forEach(g=>g())};const h=y.Object.getOwnPropertyDescriptor(y.HTMLInputElement.prototype,"value");return h&&h.set&&p.push(...[[y.HTMLInputElement.prototype,"value"],[y.HTMLInputElement.prototype,"checked"],[y.HTMLSelectElement.prototype,"value"],[y.HTMLTextAreaElement.prototype,"value"],[y.HTMLSelectElement.prototype,"selectedIndex"],[y.HTMLOptionElement.prototype,"selected"]].map(g=>Ui(g[0],g[1],{set(){O(u)({target:this,isTrusted:!1})}},!1,y))),O(()=>{p.forEach(g=>g())})}(e),c=function Rm({mediaInteractionCb:e,blockClass:t,blockSelector:i,mirror:n,sampling:s,doc:r}){const l=O(a=>Lt(O(c=>{const d=Jt(c);if(!d||re(d,t,i,!0))return;const{currentTime:u,volume:m,muted:p,playbackRate:y,loop:h}=d;e({type:a,id:n.getId(d),currentTime:u,volume:m,muted:p,playbackRate:y,loop:h})}),s.media||500)),o=[ae("play",l(ot.Play),r),ae("pause",l(ot.Pause),r),ae("seeked",l(ot.Seeked),r),ae("volumechange",l(ot.VolumeChange),r),ae("ratechange",l(ot.RateChange),r)];return O(()=>{o.forEach(a=>a())})}(e);let d=()=>{},u=()=>{},m=()=>{},p=()=>{};e.recordDOM&&(d=function Xm({styleSheetRuleCb:e,mirror:t,stylesheetManager:i},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const s=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:O((d,u,m)=>{const[p,y]=m,{id:h,styleId:S}=Ne(u,t,i.styleMirror);return(h&&-1!==h||S&&-1!==S)&&e({id:h,styleId:S,adds:[{rule:p,index:y}]}),d.apply(u,m)})}),n.CSSStyleSheet.prototype.addRule=function(d,u,m=this.cssRules.length){return n.CSSStyleSheet.prototype.insertRule.apply(this,[`${d} { ${u} }`,m])};const r=n.CSSStyleSheet.prototype.deleteRule;let l,o;n.CSSStyleSheet.prototype.deleteRule=new Proxy(r,{apply:O((d,u,m)=>{const[p]=m,{id:y,styleId:h}=Ne(u,t,i.styleMirror);return(y&&-1!==y||h&&-1!==h)&&e({id:y,styleId:h,removes:[{index:p}]}),d.apply(u,m)})}),n.CSSStyleSheet.prototype.removeRule=function(d){return n.CSSStyleSheet.prototype.deleteRule.apply(this,[d])},n.CSSStyleSheet.prototype.replace&&(l=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(l,{apply:O((d,u,m)=>{const[p]=m,{id:y,styleId:h}=Ne(u,t,i.styleMirror);return(y&&-1!==y||h&&-1!==h)&&e({id:y,styleId:h,replace:p}),d.apply(u,m)})})),n.CSSStyleSheet.prototype.replaceSync&&(o=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(o,{apply:O((d,u,m)=>{const[p]=m,{id:y,styleId:h}=Ne(u,t,i.styleMirror);return(y&&-1!==y||h&&-1!==h)&&e({id:y,styleId:h,replaceSync:p}),d.apply(u,m)})}));const a={};Hi("CSSGroupingRule")?a.CSSGroupingRule=n.CSSGroupingRule:(Hi("CSSMediaRule")&&(a.CSSMediaRule=n.CSSMediaRule),Hi("CSSConditionRule")&&(a.CSSConditionRule=n.CSSConditionRule),Hi("CSSSupportsRule")&&(a.CSSSupportsRule=n.CSSSupportsRule));const c={};return Object.entries(a).forEach(([d,u])=>{c[d]={insertRule:u.prototype.insertRule,deleteRule:u.prototype.deleteRule},u.prototype.insertRule=new Proxy(c[d].insertRule,{apply:O((m,p,y)=>{const[h,S]=y,{id:g,styleId:W}=Ne(p.parentStyleSheet,t,i.styleMirror);return(g&&-1!==g||W&&-1!==W)&&e({id:g,styleId:W,adds:[{rule:h,index:[...Ki(p),S||0]}]}),m.apply(p,y)})}),u.prototype.deleteRule=new Proxy(c[d].deleteRule,{apply:O((m,p,y)=>{const[h]=y,{id:S,styleId:g}=Ne(p.parentStyleSheet,t,i.styleMirror);return(S&&-1!==S||g&&-1!==g)&&e({id:S,styleId:g,removes:[{index:[...Ki(p),h]}]}),m.apply(p,y)})})}),O(()=>{n.CSSStyleSheet.prototype.insertRule=s,n.CSSStyleSheet.prototype.deleteRule=r,l&&(n.CSSStyleSheet.prototype.replace=l),o&&(n.CSSStyleSheet.prototype.replaceSync=o),Object.entries(a).forEach(([d,u])=>{u.prototype.insertRule=c[d].insertRule,u.prototype.deleteRule=c[d].deleteRule})})}(e,{win:i}),u=Ql(e,e.doc),m=function Sm({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:i,stylesheetManager:n},{win:s}){const r=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(r,{apply:O((o,a,c)=>{var d;const[u,m,p]=c;if(i.has(u))return r.apply(a,[u,m,p]);const{id:y,styleId:h}=Ne(null==(d=a.parentRule)?void 0:d.parentStyleSheet,t,n.styleMirror);return(y&&-1!==y||h&&-1!==h)&&e({id:y,styleId:h,set:{property:u,value:m,priority:p},index:Ki(a.parentRule)}),o.apply(a,c)})});const l=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:O((o,a,c)=>{var d;const[u]=c;if(i.has(u))return l.apply(a,[u]);const{id:m,styleId:p}=Ne(null==(d=a.parentRule)?void 0:d.parentStyleSheet,t,n.styleMirror);return(m&&-1!==m||p&&-1!==p)&&e({id:m,styleId:p,remove:{property:u},index:Ki(a.parentRule)}),o.apply(a,c)})}),O(()=>{s.CSSStyleDeclaration.prototype.setProperty=r,s.CSSStyleDeclaration.prototype.removeProperty=l})}(e,{win:i}),e.collectFonts&&(p=function wm({fontCb:e,doc:t}){const i=t.defaultView;if(!i)return()=>{};const n=[],s=new WeakMap,r=i.FontFace;i.FontFace=function(o,a,c){const d=new r(o,a,c);return s.set(d,{family:o,buffer:"string"!=typeof a,descriptors:c,fontSource:"string"==typeof a?a:JSON.stringify(Array.from(new Uint8Array(a)))}),d};const l=st(t.fonts,"add",function(o){return function(a){return setTimeout(O(()=>{const c=s.get(a);c&&(e(c),s.delete(a))}),0),o.apply(this,[a])}});return n.push(()=>{i.FontFace=r}),n.push(l),O(()=>{n.forEach(o=>o())})}(e)));const y=function Cm(e){const{doc:t,mirror:i,blockClass:n,blockSelector:s,selectionCb:r}=e;let l=!0;const o=O(()=>{const a=t.getSelection();if(!a||l&&null!=a&&a.isCollapsed)return;l=a.isCollapsed||!1;const c=[],d=a.rangeCount||0;for(let u=0;u<d;u++){const m=a.getRangeAt(u),{startContainer:p,startOffset:y,endContainer:h,endOffset:S}=m;re(p,n,s,!0)||re(h,n,s,!0)||c.push({start:i.getId(p),startOffset:y,end:i.getId(h),endOffset:S})}r({ranges:c})});return o(),ae("selectionchange",o)}(e),h=function vm({doc:e,customElementCb:t}){const i=e.defaultView;return i&&i.customElements?st(i.customElements,"define",function(n){return function(s,r,l){try{t({define:{name:s}})}catch{console.warn(`Custom element callback failed for ${s}`)}return n.apply(this,[s,r,l])}}):()=>{}}(e),S=[];for(const g of e.plugins)S.push(g.observer(g.callback,i,g.options));return O(()=>{ze.forEach(g=>g.reset()),n?.disconnect(),s(),r(),l(),o(),a(),c(),d(),u(),m(),p(),y(),h(),S.forEach(g=>g())})}function Mi(e){return typeof window[e]<"u"}function Hi(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Al{constructor(t){V(this,"iframeIdToRemoteIdMap",new WeakMap),V(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=t}getId(t,i,n,s){const r=n||this.getIdToRemoteIdMap(t),l=s||this.getRemoteIdToIdMap(t);let o=r.get(i);return o||(o=this.generateIdFn(),r.set(i,o),l.set(o,i)),o}getIds(t,i){const n=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return i.map(r=>this.getId(t,r,n,s))}getRemoteId(t,i,n){const s=n||this.getRemoteIdToIdMap(t);return"number"!=typeof i?i:s.get(i)||-1}getRemoteIds(t,i){const n=this.getRemoteIdToIdMap(t);return i.map(s=>this.getRemoteId(t,s,n))}reset(t){if(!t)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let i=this.iframeIdToRemoteIdMap.get(t);return i||(i=new Map,this.iframeIdToRemoteIdMap.set(t,i)),i}getRemoteIdToIdMap(t){let i=this.iframeRemoteIdToIdMap.get(t);return i||(i=new Map,this.iframeRemoteIdToIdMap.set(t,i)),i}}class Lm{constructor(t){V(this,"iframes",new WeakMap),V(this,"crossOriginIframeMap",new WeakMap),V(this,"crossOriginIframeMirror",new Al(wr)),V(this,"crossOriginIframeStyleMirror"),V(this,"crossOriginIframeRootIdMap",new WeakMap),V(this,"mirror"),V(this,"mutationCb"),V(this,"wrappedEmit"),V(this,"loadListener"),V(this,"stylesheetManager"),V(this,"recordCrossOriginIframes"),this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Al(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,i){var n,s;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:i}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(n=t.contentWindow)||n.addEventListener("message",this.handleMessage.bind(this))),null==(s=this.loadListener)||s.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const i=t;if("rrweb"!==i.data.type||i.origin!==i.data.origin)return;const n=t.source;if(!n)return;const s=this.crossOriginIframeMap.get(n);if(!s)return;const r=this.transformCrossOriginEvent(s,i.data.event);r&&this.wrappedEmit(r,i.data.isCheckout)}transformCrossOriginEvent(t,i){var n;switch(i.type){case P.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(i.data.node,t);const s=i.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(i.data.node,s),{timestamp:i.timestamp,type:P.IncrementalSnapshot,data:{source:z.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:i.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case P.Meta:case P.Load:case P.DomContentLoaded:return!1;case P.Plugin:return i;case P.Custom:return this.replaceIds(i.data.payload,t,["id","parentId","previousId","nextId"]),i;case P.IncrementalSnapshot:switch(i.data.source){case z.Mutation:return i.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const r=this.crossOriginIframeRootIdMap.get(t);r&&this.patchRootIdOnNode(s.node,r)}),i.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),i.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),i.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),i;case z.Drag:case z.TouchMove:case z.MouseMove:return i.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),i;case z.ViewportResize:return!1;case z.MediaInteraction:case z.MouseInteraction:case z.Scroll:case z.CanvasMutation:case z.Input:return this.replaceIds(i.data,t,["id"]),i;case z.StyleSheetRule:case z.StyleDeclaration:return this.replaceIds(i.data,t,["id"]),this.replaceStyleIds(i.data,t,["styleId"]),i;case z.Font:return i;case z.Selection:return i.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),i;case z.AdoptedStyleSheet:return this.replaceIds(i.data,t,["id"]),this.replaceStyleIds(i.data,t,["styleIds"]),null==(n=i.data.styles)||n.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),i}}return!1}replace(t,i,n,s){for(const r of s)!Array.isArray(i[r])&&"number"!=typeof i[r]||(i[r]=Array.isArray(i[r])?t.getIds(n,i[r]):t.getId(n,i[r]));return i}replaceIds(t,i,n){return this.replace(this.crossOriginIframeMirror,t,i,n)}replaceStyleIds(t,i,n){return this.replace(this.crossOriginIframeStyleMirror,t,i,n)}replaceIdOnNode(t,i){this.replaceIds(t,i,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,i)})}patchRootIdOnNode(t,i){t.type!==ie.Document&&!t.rootId&&(t.rootId=i),"childNodes"in t&&t.childNodes.forEach(n=>{this.patchRootIdOnNode(n,i)})}}class Ym{constructor(t){V(this,"shadowDoms",new WeakSet),V(this,"mutationCb"),V(this,"scrollCb"),V(this,"bypassOptions"),V(this,"mirror"),V(this,"restoreHandlers",[]),this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,i){if(!ht(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const n=El(se(R({},this.bypassOptions),{doc:i,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(jl(se(R({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(H.host(t))),this.restoreHandlers.push(Ql({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,i){const n=this;this.restoreHandlers.push(st(t.prototype,"attachShadow",function(s){return function(r){const l=s.call(this,r),o=H.shadowRoot(this);return o&&Ml(this)&&n.addShadowRoot(o,i),l}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jm=typeof Uint8Array>"u"?[]:new Uint8Array(256),zi=0;zi<64;zi++)Jm[lt.charCodeAt(zi)]=zi;const _l=new Map,$l=(e,t,i)=>{if(!e||!ea(e,t)&&"object"!=typeof e)return;const s=function Nm(e,t){let i=_l.get(e);return i||(i=new Map,_l.set(e,i)),i.has(t)||i.set(t,[]),i.get(t)}(i,e.constructor.name);let r=s.indexOf(e);return-1===r&&(r=s.length,s.push(e)),r};function Oi(e,t,i){if(e instanceof Array)return e.map(n=>Oi(n,t,i));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const n=e.constructor.name,s=function(e){var i,t=new Uint8Array(e),n=t.length,s="";for(i=0;i<n;i+=3)s+=lt[t[i]>>2],s+=lt[(3&t[i])<<4|t[i+1]>>4],s+=lt[(15&t[i+1])<<2|t[i+2]>>6],s+=lt[63&t[i+2]];return n%3==2?s=s.substring(0,s.length-1)+"=":n%3==1&&(s=s.substring(0,s.length-2)+"=="),s}(e);return{rr_type:n,base64:s}}if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Oi(e.buffer,t,i),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const n=e.constructor.name,{src:s}=e;return{rr_type:n,src:s}}return e instanceof HTMLCanvasElement?{rr_type:"HTMLImageElement",src:e.toDataURL()}:e instanceof ImageData?{rr_type:e.constructor.name,args:[Oi(e.data,t,i),e.width,e.height]}:ea(e,t)||"object"==typeof e?{rr_type:e.constructor.name,index:$l(e,t,i)}:e}const ql=(e,t,i)=>e.map(n=>Oi(n,t,i)),ea=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(i=>"function"==typeof t[i]).find(i=>e instanceof t[i]);function ta(e,t,i,n){const s=[];try{const r=st(e.HTMLCanvasElement.prototype,"getContext",function(l){return function(o,...a){if(!re(this,t,i,!0)){const c=function Fm(e){return"experimental-webgl"===e?"webgl":e}(o);if("__context"in this||(this.__context=c),n&&["webgl","webgl2"].includes(c))if(a[0]&&"object"==typeof a[0]){const d=a[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return l.apply(this,[o,...a])}});s.push(r)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach(r=>r())}}function ia(e,t,i,n,s,r){const l=[],o=Object.getOwnPropertyNames(e);for(const a of o)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))try{if("function"!=typeof e[a])continue;const c=st(e,a,function(d){return function(...u){const m=d.apply(this,u);if($l(m,r,this),"tagName"in this.canvas&&!re(this.canvas,n,s,!0)){const p=ql(u,r,this);i(this.canvas,{type:t,property:a,args:p})}return m}});l.push(c)}catch{const d=Ui(e,a,{set(u){i(this.canvas,{type:t,property:a,args:[u],setter:!0})}});l.push(d)}return l}const na="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIGxldCBsb2dEZWJ1ZyA9IGZhbHNlOwogIGNvbnN0IGRlYnVnID0gKC4uLmFyZ3MpID0+IHsKICAgIGlmIChsb2dEZWJ1ZykgewogICAgICBjb25zb2xlLmRlYnVnKC4uLmFyZ3MpOwogICAgfQogIH07CiAgd29ya2VyLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgIGxvZ0RlYnVnID0gISFlLmRhdGEubG9nRGVidWc7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGR4LCBkeSwgZHcsIGRoLCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOwogICAgICBjb25zdCB0cmFuc3BhcmVudEJhc2U2NCA9IGdldFRyYW5zcGFyZW50QmxvYkZvcigKICAgICAgICB3aWR0aCwKICAgICAgICBoZWlnaHQsCiAgICAgICAgZGF0YVVSTE9wdGlvbnMKICAgICAgKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgY29uc3QgY3R4ID0gb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgYml0bWFwLmNsb3NlKCk7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgYXdhaXQgdHJhbnNwYXJlbnRCYXNlNjQgPT09IGJhc2U2NCkgewogICAgICAgIGRlYnVnKCJbaGlnaGxpZ2h0LXdvcmtlcl0gY2FudmFzIGJpdG1hcCBpcyB0cmFuc3BhcmVudCIsIHsKICAgICAgICAgIGlkLAogICAgICAgICAgYmFzZTY0CiAgICAgICAgfSk7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCwgc3RhdHVzOiAidHJhbnNwYXJlbnQiIH0pOwogICAgICB9CiAgICAgIGlmIChsYXN0QmxvYk1hcC5nZXQoaWQpID09PSBiYXNlNjQpIHsKICAgICAgICBkZWJ1ZygiW2hpZ2hsaWdodC13b3JrZXJdIGNhbnZhcyBiaXRtYXAgaXMgdW5jaGFuZ2VkIiwgewogICAgICAgICAgaWQsCiAgICAgICAgICBiYXNlNjQKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQsIHN0YXR1czogInVuY2hhbmdlZCIgfSk7CiAgICAgIH0KICAgICAgY29uc3QgbXNnID0gewogICAgICAgIGlkLAogICAgICAgIHR5cGUsCiAgICAgICAgYmFzZTY0LAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkeCwKICAgICAgICBkeSwKICAgICAgICBkdywKICAgICAgICBkaAogICAgICB9OwogICAgICBkZWJ1ZygiW2hpZ2hsaWdodC13b3JrZXJdIGNhbnZhcyBiaXRtYXAgcHJvY2Vzc2VkIiwgbXNnKTsKICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKG1zZyk7CiAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsKICAgIH0gZWxzZSB7CiAgICAgIGRlYnVnKCJbaGlnaGxpZ2h0LXdvcmtlcl0gbm8gb2Zmc2NyZWVuY2FudmFzIHN1cHBvcnQiLCB7CiAgICAgICAgaWQ6IGUuZGF0YS5pZAogICAgICB9KTsKICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQsIHN0YXR1czogInVuc3VwcG9ydGVkIiB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUJpWEpSZjQ3LmpzLm1hcAo=",sa=typeof self<"u"&&self.Blob&&new Blob([(e=na,Uint8Array.from(atob(e),t=>t.charCodeAt(0)))],{type:"text/javascript;charset=utf-8"});var e;function Hm(e){let t;try{if(t=sa&&(self.URL||self.webkitURL).createObjectURL(sa),!t)throw"";const i=new Worker(t,{name:e?.name});return i.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),i}catch{return new Worker("data:text/javascript;base64,"+na,{name:e?.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}class zm{constructor(t){V(this,"pendingCanvasMutations",new Map),V(this,"rafStamps",{latestId:0,invokeId:null}),V(this,"mirror"),V(this,"logger"),V(this,"worker"),V(this,"snapshotInProgressMap",new Map),V(this,"lastSnapshotTime",new Map),V(this,"options"),V(this,"mutationCb"),V(this,"resetObservers"),V(this,"frozen",!1),V(this,"locked",!1),V(this,"processMutation",(d,u)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(u)});const{sampling:i,win:n,blockClass:s,blockSelector:r,recordCanvas:l,recordVideos:o,initialSnapshotDelay:a,dataURLOptions:c}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.logger=t.logger,this.worker=new Hm,this.worker.onmessage=d=>{const{id:u}=d.data;if(this.snapshotInProgressMap.set(u,!1),!("base64"in d.data))return void this.debug(null,"canvas worker received empty message",{data:d.data,status:d.data.status});const{base64:m,type:p,dx:y,dy:h,dw:S,dh:g}=d.data,W={id:u,type:rt["2D"],commands:[{property:"clearRect",args:[y,h,S,g]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:m}],type:p}]},y,h,S,g]}]};this.debug(null,"canvas worker recording mutation",W),this.mutationCb(W)},this.options=t,l&&"all"===i?(this.debug(null,"initializing canvas mutation observer",{sampling:i}),this.initCanvasMutationObserver(n,s,r)):l&&"number"==typeof i&&(this.debug(null,"initializing canvas fps observer",{sampling:i}),this.initCanvasFPSObserver(o,i,n,s,r,{initialSnapshotDelay:a,dataURLOptions:c},t.resizeFactor,t.maxSnapshotDimension))}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}debug(t,...i){if(!this.logger)return;const n=this.mirror.getId(t);let s="[highlight-canvas-manager]";t&&(s=`[highlight-canvas] [id:${n}]`,"canvas"===t.tagName.toLowerCase()&&(s+=` [ctx:${t.__context}]`)),this.logger.debug(s,t,...i)}snapshot(t){return te(this,null,function*(){var i;const n=this.mirror.getId(t);if(this.snapshotInProgressMap.get(n))return void this.debug(t,"snapshotting already in progress for",n);const s=1e3/("number"==typeof this.options.samplingManual?this.options.samplingManual:1),r=this.lastSnapshotTime.get(n);if(!(r&&(new Date).getTime()-r<s)){if(this.debug(t,"starting snapshotting"),0===t.width||0===t.height)return void this.debug(t,"not yet ready",{width:t.width,height:t.height});this.lastSnapshotTime.set(n,(new Date).getTime()),this.snapshotInProgressMap.set(n,!0);try{if(!1!==this.options.clearWebGLBuffer&&["webgl","webgl2"].includes(t.__context)){const d=t.getContext(t.__context);!1===(null==(i=d?.getContextAttributes())?void 0:i.preserveDrawingBuffer)&&(d.clear(d.COLOR_BUFFER_BIT),this.debug(t,"cleared webgl canvas to load it into memory",{attributes:d?.getContextAttributes()}))}if(0===t.width||0===t.height)return void this.debug(t,"not yet ready",{width:t.width,height:t.height});let l=this.options.resizeFactor||1;if(this.options.maxSnapshotDimension){const d=Math.max(t.width,t.height);l=Math.min(l,this.options.maxSnapshotDimension/d)}const o=t.width*l,a=t.height*l,c=yield createImageBitmap(t,{resizeWidth:o,resizeHeight:a});this.debug(t,"created image bitmap",{width:c.width,height:c.height}),this.worker.postMessage({id:n,bitmap:c,width:o,height:a,dx:0,dy:0,dw:t.width,dh:t.height,dataURLOptions:this.options.dataURLOptions,logDebug:!!this.logger},[c]),this.debug(t,"sent message")}catch(l){this.debug(t,"failed to snapshot",l)}finally{this.snapshotInProgressMap.set(n,!1)}}})}initCanvasFPSObserver(t,i,n,s,r,l,o,a){const c=ta(n,s,r,!0),d=1e3/i;let m,u=0;const p=new Map,y=(W,X)=>{const G=[];W.querySelectorAll(X).forEach(Z=>G.push(Z));const C=document.createNodeIterator(W,Node.ELEMENT_NODE);let T;for(;T=C.nextNode();)null!=T&&T.shadowRoot&&G.push(...y(T.shadowRoot,X));return G},h=W=>{const X=[];return y(n.document,"canvas").forEach(G=>{if(!re(G,s,r,!0)){this.debug(G,"discovered canvas"),X.push(G);const C=this.mirror.getId(G);p.has(C)||p.set(C,W)}}),X},S=W=>{const X=[];return t&&y(n.document,"video").forEach(G=>{if((""===G.src||-1!==G.src.indexOf("blob:"))&&!re(G,s,r,!0)){X.push(G);const C=this.mirror.getId(G);p.has(C)||p.set(C,W)}}),X},g=W=>te(this,null,function*(){if(u&&W-u<d)return void(m=requestAnimationFrame(g));u=W;const X=C=>{const T=this.mirror.getId(C),Z=p.get(T),v=!l.initialSnapshotDelay||W-Z>l.initialSnapshotDelay;return this.debug(C,{delay:l.initialSnapshotDelay,delta:W-Z,hadLoadingTime:v}),v},G=[];G.push(...h(W).filter(X).map(C=>this.snapshot(C))),G.push(...S(W).filter(X).map(C=>te(this,null,function*(){this.debug(C,"starting video snapshotting");const T=this.mirror.getId(C);if(this.snapshotInProgressMap.get(T))this.debug(C,"video snapshotting already in progress for",T);else{this.snapshotInProgressMap.set(T,!0);try{const{width:Z,height:v}=C.getBoundingClientRect(),{actualWidth:K,actualHeight:L}={actualWidth:C.videoWidth,actualHeight:C.videoHeight},E=Math.max(K,L);if(0===E)return void this.debug(C,"not yet ready",{width:C.width,height:C.height,actualWidth:K,actualHeight:L,boxWidth:Z,boxHeight:v});let oe=o||1;a&&(oe=Math.min(oe,a/E));const J=K*oe,b=L*oe,I=yield createImageBitmap(C,{resizeWidth:J,resizeHeight:b}),k=Math.max(Z,v)/E,_=K*k,F=L*k,x=(Z-_)/2,ue=(v-F)/2;this.debug(C,"created image bitmap",{actualWidth:K,actualHeight:L,boxWidth:Z,boxHeight:v,outputWidth:_,outputHeight:F,resizeWidth:J,resizeHeight:b,scale:oe,outputScale:k,offsetX:x,offsetY:ue}),this.worker.postMessage({id:T,bitmap:I,width:J,height:b,dx:x,dy:ue,dw:_,dh:F,dataURLOptions:l.dataURLOptions,logDebug:!!this.logger},[I]),this.debug(C,"send message")}catch(Z){this.debug(C,"failed to snapshot",Z)}finally{this.snapshotInProgressMap.set(T,!1)}}}))),yield Promise.all(G).catch(console.error),m=requestAnimationFrame(g)});m=requestAnimationFrame(g),this.resetObservers=()=>{c(),m&&cancelAnimationFrame(m)}}initCanvasMutationObserver(t,i,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const s=ta(t,i,n,!1),r=function Um(e,t,i,n){const s=[],r=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const l of r)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[l])continue;const o=st(t.CanvasRenderingContext2D.prototype,l,function(a){return function(...c){return re(this.canvas,i,n,!0)||setTimeout(()=>{const d=ql(c,t,this);e(this.canvas,{type:rt["2D"],property:l,args:d})},0),a.apply(this,c)}});s.push(o)}catch{const a=Ui(t.CanvasRenderingContext2D.prototype,l,{set(c){e(this.canvas,{type:rt["2D"],property:l,args:[c],setter:!0})}});s.push(a)}return()=>{s.forEach(l=>l())}}(this.processMutation.bind(this),t,i,n),l=function Km(e,t,i,n){const s=[];return s.push(...ia(t.WebGLRenderingContext.prototype,rt.WebGL,e,i,n,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...ia(t.WebGL2RenderingContext.prototype,rt.WebGL2,e,i,n,t)),()=>{s.forEach(r=>r())}}(this.processMutation.bind(this),t,i,n);this.resetObservers=()=>{s(),r(),l()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=i=>{this.rafStamps.latestId=i,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,i)=>{const n=this.mirror.getId(i);this.flushPendingCanvasMutationFor(i,n)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,i){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(t);if(!n||-1===i)return;const s=n.map(l=>ge(l,["type"])),{type:r}=n[0];this.mutationCb({id:i,type:r,commands:s}),this.pendingCanvasMutations.delete(t)}}class Om{constructor(t){V(this,"trackedLinkElements",new WeakSet),V(this,"mutationCb"),V(this,"adoptedStyleSheetCb"),V(this,"styleMirror",new dm),this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,i){"_cssText"in i.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:i.id,attributes:i.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,i){if(0===t.length)return;const n={id:i,styleIds:[]},s=[];for(const r of t){let l;this.styleMirror.has(r)?l=this.styleMirror.getId(r):(l=this.styleMirror.add(r),s.push({styleId:l,rules:Array.from(r.rules||CSSRule,(o,a)=>({rule:Gr(o,r.href),index:a}))})),n.styleIds.push(l)}s.length>0&&(n.styles=s),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Pm{constructor(){V(this,"nodeMap",new WeakMap),V(this,"active",!1)}inOtherBuffer(t,i){const n=this.nodeMap.get(t);return n&&Array.from(n).some(s=>s!==i)}add(t,i){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(i))}destroy(){}}let $,Pi,Tt,Bi=!1;try{if(2!==Array.from([1],e=>2*e)[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=(null==(br=e.contentWindow)?void 0:br.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Ve=function $c(){return new Vr}();function Le(e={}){var t,i,n,s,r,l,o,a;const{emit:c,checkoutEveryNms:d,checkoutEveryNth:u,blockClass:m="highlight-block",blockSelector:p=null,ignoreClass:y="highlight-ignore",ignoreSelector:h=null,maskTextClass:S="highlight-mask",maskTextSelector:g=null,inlineStylesheet:W=!0,maskAllInputs:X,maskInputOptions:G,slimDOMOptions:C,maskInputFn:T,maskTextFn:Z=Gn,hooks:v,packFn:K,sampling:L={},mousemoveWait:E,recordDOM:oe=!0,recordCanvas:J=!1,recordCrossOriginIframes:b=!1,recordAfter:I=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:k=!1,collectFonts:_=!1,inlineImages:F=!1,plugins:x,keepIframeSrcFn:ue=(()=>!1),privacySetting:le="default",ignoreCSSAttributes:Ht=new Set([]),errorHandler:fy,logger:gy}=e,sn=R(R({},e.dataURLOptions),null==(i=null==(t=e.sampling)?void 0:t.canvas)?void 0:i.dataURLOptions);!function fm(e){Yt=e}(fy);const rn=!b||window.parent===window;let zt=!1;if(!rn)try{window.parent.document&&(zt=!1)}catch{zt=!0}if(rn&&!c)throw new Error("emit function is required");if(!rn&&!zt)return()=>{};void 0!==E&&void 0===L.mousemove&&(L.mousemove=E),Ve.reset();const tr=!0===X?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==G?G:{password:!0},ir=!0===C||"all"===C?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===C,headMetaDescKeywords:"all"===C,headTitleMutations:"all"===C}:C||{};!function cm(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();let ja,nr=0;const Da=B=>{for(const Xe of x||[])Xe.eventProcessor&&(B=Xe.eventProcessor(B));return K&&!zt&&(B=K(B)),B};$=(B,Xe)=>{var q;const ee=B;if(ee.timestamp=Fi(),null!=(q=ze[0])&&q.isFrozen()&&ee.type!==P.FullSnapshot&&!(ee.type===P.IncrementalSnapshot&&ee.data.source===z.Mutation)&&ze.forEach(ve=>ve.unfreeze()),rn)c?.(Da(ee),Xe);else if(zt){const ve={type:"rrweb",event:Da(ee),origin:window.location.origin,isCheckout:Xe};window.parent.postMessage(ve,"*")}if(ee.type===P.FullSnapshot)ja=ee,nr=0;else if(ee.type===P.IncrementalSnapshot){if(ee.data.source===z.Mutation&&ee.data.isAttachIframe)return;nr++,(u&&nr>=u||d&&ee.timestamp-ja.timestamp>d)&&Pi(!0)}};const on=B=>{$({type:P.IncrementalSnapshot,data:R({source:z.Mutation},B)})},Qa=B=>$({type:P.IncrementalSnapshot,data:R({source:z.Scroll},B)}),Aa=B=>$({type:P.IncrementalSnapshot,data:R({source:z.CanvasMutation},B)}),Pe=new Om({mutationCb:on,adoptedStyleSheetCb:B=>$({type:P.IncrementalSnapshot,data:R({source:z.AdoptedStyleSheet},B)})}),Be=new Lm({mirror:Ve,mutationCb:on,stylesheetManager:Pe,recordCrossOriginIframes:b,wrappedEmit:$});for(const B of x||[])B.getMirror&&B.getMirror({nodeMirror:Ve,crossOriginIframeMirror:Be.crossOriginIframeMirror,crossOriginIframeStyleMirror:Be.crossOriginIframeStyleMirror});const sr=new Pm;Tt=new zm({recordCanvas:J,recordVideos:F,mutationCb:Aa,win:window,blockClass:m,blockSelector:p,mirror:Ve,sampling:null==(n=L?.canvas)?void 0:n.fps,samplingManual:null==(s=L?.canvas)?void 0:s.fpsManual,clearWebGLBuffer:null==(r=L?.canvas)?void 0:r.clearWebGLBuffer,initialSnapshotDelay:null==(l=L?.canvas)?void 0:l.initialSnapshotDelay,dataURLOptions:sn,resizeFactor:null==(o=L?.canvas)?void 0:o.resizeFactor,maxSnapshotDimension:null==(a=L?.canvas)?void 0:a.maxSnapshotDimension,logger:gy});const ln=new Ym({mutationCb:on,scrollCb:Qa,bypassOptions:{blockClass:m,blockSelector:p,maskTextClass:S,maskTextSelector:g,inlineStylesheet:W,maskInputOptions:tr,dataURLOptions:sn,maskTextFn:Z,maskInputFn:T,recordCanvas:J,inlineImages:F,privacySetting:le,sampling:L,slimDOMOptions:ir,iframeManager:Be,stylesheetManager:Pe,canvasManager:Tt,keepIframeSrcFn:ue,processedNodeManager:sr},mirror:Ve});Pi=(B=!1)=>{if(!oe)return;$({type:P.Meta,data:{href:window.location.href,width:Jl(),height:Yl()}},B),Pe.reset(),ln.init(),ze.forEach(q=>q.lock());const Xe=function wd(e,t){const{mirror:i=new Vr,blockClass:n="highlight-block",blockSelector:s=null,maskTextClass:r="highlight-mask",maskTextSelector:l=null,inlineStylesheet:o=!0,inlineImages:a=!1,recordCanvas:c=!1,maskAllInputs:d=!1,maskTextFn:u,maskInputFn:m,slimDOM:p=!1,dataURLOptions:y,preserveWhiteSpace:h,onSerialize:S,onIframeLoad:g,iframeLoadTimeout:W,onStylesheetLoad:X,stylesheetLoadTimeout:G,keepIframeSrcFn:C=(()=>!1),privacySetting:T="default"}=t||{};return Ae(e,{doc:e,mirror:i,blockClass:n,blockSelector:s,maskTextClass:r,maskTextSelector:l,skipChild:!1,inlineStylesheet:o,maskInputOptions:!0===d?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===d?{password:!0}:d,maskTextFn:u,maskInputFn:m,slimDOMOptions:p||"all"===p?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===p,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:p||{},dataURLOptions:y,inlineImages:a,recordCanvas:c,preserveWhiteSpace:h,onSerialize:S,onIframeLoad:g,iframeLoadTimeout:W,onStylesheetLoad:X,stylesheetLoadTimeout:G,keepIframeSrcFn:C,newlyAddedElement:!1,privacySetting:T})}(document,{mirror:Ve,blockClass:m,blockSelector:p,maskTextClass:S,maskTextSelector:g,inlineStylesheet:W,maskAllInputs:tr,maskTextFn:Z,maskInputFn:T,slimDOM:ir,dataURLOptions:sn,recordCanvas:J,inlineImages:F,privacySetting:le,onSerialize:q=>{Ul(q,Ve)&&Be.addIframe(q),Fl(q,Ve)&&Pe.trackLinkElement(q),Js(q)&&ln.addShadowRoot(H.shadowRoot(q),document)},onIframeLoad:(q,ee)=>{Be.attachIframe(q,ee),ln.observeAttachShadow(q)},onStylesheetLoad:(q,ee)=>{Pe.attachLinkElement(q,ee)},keepIframeSrcFn:ue});if(!Xe)return console.warn("Failed to snapshot the document");$({type:P.FullSnapshot,data:{node:Xe,initialOffset:Ll(window)}},B),ze.forEach(q=>q.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Pe.adoptStyleSheets(document.adoptedStyleSheets,Ve.getId(document))};try{const B=[],Xe=ee=>{var ve;return O(xm)({mutationCb:on,mousemoveCb:(Q,rr)=>$({type:P.IncrementalSnapshot,data:{source:rr,positions:Q}}),mouseInteractionCb:Q=>$({type:P.IncrementalSnapshot,data:R({source:z.MouseInteraction},Q)}),scrollCb:Qa,viewportResizeCb:Q=>$({type:P.IncrementalSnapshot,data:R({source:z.ViewportResize},Q)}),inputCb:Q=>$({type:P.IncrementalSnapshot,data:R({source:z.Input},Q)}),mediaInteractionCb:Q=>$({type:P.IncrementalSnapshot,data:R({source:z.MediaInteraction},Q)}),styleSheetRuleCb:Q=>$({type:P.IncrementalSnapshot,data:R({source:z.StyleSheetRule},Q)}),styleDeclarationCb:Q=>$({type:P.IncrementalSnapshot,data:R({source:z.StyleDeclaration},Q)}),canvasMutationCb:Aa,fontCb:Q=>$({type:P.IncrementalSnapshot,data:R({source:z.Font},Q)}),selectionCb:Q=>{$({type:P.IncrementalSnapshot,data:R({source:z.Selection},Q)})},customElementCb:Q=>{$({type:P.IncrementalSnapshot,data:R({source:z.CustomElement},Q)})},blockClass:m,ignoreClass:y,ignoreSelector:h,maskTextClass:S,maskTextSelector:g,maskInputOptions:tr,inlineStylesheet:W,sampling:L,recordDOM:oe,recordCanvas:J,inlineImages:F,userTriggeredOnInput:k,collectFonts:_,doc:ee,maskInputFn:T,maskTextFn:Z,keepIframeSrcFn:ue,blockSelector:p,slimDOMOptions:ir,dataURLOptions:sn,mirror:Ve,iframeManager:Be,stylesheetManager:Pe,shadowDomManager:ln,processedNodeManager:sr,canvasManager:Tt,ignoreCSSAttributes:Ht,privacySetting:le,plugins:(null==(ve=x?.filter(Q=>Q.observer))?void 0:ve.map(Q=>({observer:Q.observer,options:Q.options,callback:rr=>$({type:P.Plugin,data:{plugin:Q.name,payload:rr}})})))||[]},v)};Be.addLoadListener(ee=>{try{B.push(Xe(ee.contentDocument))}catch(ve){console.warn(ve)}});const q=()=>{Pi(),B.push(Xe(document)),Bi=!0};return"interactive"===document.readyState||"complete"===document.readyState?q():(B.push(ae("DOMContentLoaded",()=>{$({type:P.DomContentLoaded,data:{}}),"DOMContentLoaded"===I&&q()})),B.push(ae("load",()=>{$({type:P.Load,data:{}}),"load"===I&&q()},window))),()=>{B.forEach(ee=>ee()),sr.destroy(),Bi=!1,function gm(){Yt=void 0}()}}catch(B){console.warn(B)}}var ra;Le.addCustomEvent=(e,t)=>{Bi&&$({type:P.Custom,data:{tag:e,payload:t}})},Le.freezePage=()=>{ze.forEach(e=>e.freeze())},Le.takeFullSnapshot=e=>{if(!Bi)throw new Error("please take full snapshot after start recording");Pi(e)},Le.snapshotCanvas=e=>te(void 0,null,function*(){if(!Tt)throw new Error("canvas manager is not initialized");yield Tt.snapshot(e)}),Le.mirror=Ve,function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(ra||(ra={}));const{addCustomEvent:oa}=Le;var Ei=function(){return Ei=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ei.apply(this,arguments)},ji=new Map,Ns=new Map,la=!0,Di=!1;function aa(e){return e.replace(/[\s,]+/g," ").trim()}function Dm(e){var t=aa(e);if(!ji.has(t)){var i=(0,f.b)(e,{experimentalFragmentVariables:Di,allowLegacyFragmentVariables:Di});if(!i||"Document"!==i.kind)throw new Error("Not a valid GraphQL document.");ji.set(t,function jm(e){var t=new Set(e.definitions);t.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(s){var r=n[s];r&&"object"==typeof r&&t.add(r)})});var i=e.loc;return i&&(delete i.startToken,delete i.endToken),e}(function Em(e){var t=new Set,i=[];return e.definitions.forEach(function(n){if("FragmentDefinition"===n.kind){var s=n.name.value,r=function Bm(e){return aa(e.source.body.substring(e.start,e.end))}(n.loc),l=Ns.get(s);l&&!l.has(r)?la&&console.warn("Warning: fragment with name "+s+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):l||Ns.set(s,l=new Set),l.add(r),t.has(r)||(t.add(r),i.push(n))}else i.push(n)}),Ei(Ei({},e),{definitions:i})}(i)))}return ji.get(t)}function pe(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];"string"==typeof e&&(e=[e]);var n=e[0];return t.forEach(function(s,r){n+=s&&"Document"===s.kind?s.loc.source.body:s,n+=e[r+1]}),Dm(n)}var Nt_gql=pe,Nt_resetCaches=function Qm(){ji.clear(),Ns.clear()},Nt_disableFragmentWarnings=function Am(){la=!1},Nt_enableExperimentalFragmentVariables=function _m(){Di=!0},Nt_disableExperimentalFragmentVariables=function $m(){Di=!1};(function(e){e.gql=Nt_gql,e.resetCaches=Nt_resetCaches,e.disableFragmentWarnings=Nt_disableFragmentWarnings,e.enableExperimentalFragmentVariables=Nt_enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=Nt_disableExperimentalFragmentVariables})(pe||(pe={})),pe.default=pe;const ca=pe`
	mutation PushPayload(
		$session_secure_id: String!
		$payload_id: ID!
		$events: ReplayEventsInput!
		$messages: String!
		$resources: String!
		$web_socket_events: String!
		$errors: [ErrorObjectInput]!
		$is_beacon: Boolean
		$has_session_unloaded: Boolean
		$highlight_logs: String
	) {
		pushPayload(
			session_secure_id: $session_secure_id
			payload_id: $payload_id
			events: $events
			messages: $messages
			resources: $resources
			web_socket_events: $web_socket_events
			errors: $errors
			is_beacon: $is_beacon
			has_session_unloaded: $has_session_unloaded
			highlight_logs: $highlight_logs
		)
	}
`,eb=pe`
	mutation PushPayloadCompressed(
		$session_secure_id: String!
		$payload_id: ID!
		$data: String!
	) {
		pushPayloadCompressed(
			session_secure_id: $session_secure_id
			payload_id: $payload_id
			data: $data
		)
	}
`,tb=pe`
	mutation identifySession(
		$session_secure_id: String!
		$user_identifier: String!
		$user_object: Any
	) {
		identifySession(
			session_secure_id: $session_secure_id
			user_identifier: $user_identifier
			user_object: $user_object
		)
	}
`,ib=pe`
	mutation addSessionProperties(
		$session_secure_id: String!
		$properties_object: Any
	) {
		addSessionProperties(
			session_secure_id: $session_secure_id
			properties_object: $properties_object
		)
	}
`,nb=pe`
	mutation pushMetrics($metrics: [MetricInput]!) {
		pushMetrics(metrics: $metrics)
	}
`,sb=pe`
	mutation addSessionFeedback(
		$session_secure_id: String!
		$user_name: String
		$user_email: String
		$verbatim: String!
		$timestamp: Timestamp!
	) {
		addSessionFeedback(
			session_secure_id: $session_secure_id
			user_name: $user_name
			user_email: $user_email
			verbatim: $verbatim
			timestamp: $timestamp
		)
	}
`,rb=pe`
	mutation initializeSession(
		$session_secure_id: String!
		$organization_verbose_id: String!
		$enable_strict_privacy: Boolean!
		$privacy_setting: String!
		$enable_recording_network_contents: Boolean!
		$clientVersion: String!
		$firstloadVersion: String!
		$clientConfig: String!
		$environment: String!
		$id: String!
		$appVersion: String
		$serviceName: String!
		$client_id: String!
		$network_recording_domains: [String!]
		$disable_session_recording: Boolean
	) {
		initializeSession(
			session_secure_id: $session_secure_id
			organization_verbose_id: $organization_verbose_id
			enable_strict_privacy: $enable_strict_privacy
			enable_recording_network_contents: $enable_recording_network_contents
			clientVersion: $clientVersion
			firstloadVersion: $firstloadVersion
			clientConfig: $clientConfig
			environment: $environment
			appVersion: $appVersion
			serviceName: $serviceName
			fingerprint: $id
			client_id: $client_id
			network_recording_domains: $network_recording_domains
			disable_session_recording: $disable_session_recording
			privacy_setting: $privacy_setting
		) {
			secure_id
			project_id
		}
	}
`,ob=pe`
	query Ignore($id: ID!) {
		ignore(id: $id)
	}
`,lb=(e,t,i,n)=>e(),cb=e=>{e(window.location.href);const t=history.pushState;history.pushState=(r=>function(){var l=r.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),l})(history.pushState);const i=history.replaceState;history.replaceState=(r=>function(){var l=r.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),l})(history.replaceState);const n=()=>{window.dispatchEvent(new Event("locationchange"))};window.addEventListener("popstate",n);const s=function(){e(window.location.href)};return window.addEventListener("locationchange",s),()=>{window.removeEventListener("popstate",n),window.removeEventListener("locationchange",s),history.pushState=t,history.replaceState=i}};var Ue;function da(e,t){return Node,Hs(e)}function ua(e){if(e.id.length)return`#${e.id}`;if(e.classList.length){let t=[];for(const i of e.classList)t.push(`.${i}`);return`${e.nodeName.toLowerCase()}${t.join(",")}`}return e.nodeName.toLowerCase()}!function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(Ue||(Ue={}));const Hs=e=>{let t="";const i=e.getAttribute("class"),n=e.getAttribute("id");return n&&(t=t.concat(ga(n,"#"))),i&&(t=t.concat(ga(i,"."))),""===t&&(t=t.concat(e.tagName.toLowerCase())),t},ga=(e,t)=>`${t}${e.trim().split(" ").join(t)}`,Za=typeof window<"u"&&"performance"in window&&"memory"in performance?performance:{memory:{}};var Fe;!function(e){e.USER_ID="ajs_user_id",e.USER_TRAITS="ajs_user_traits",e.ANONYMOUS_ID="ajs_anonymous_id"}(Fe||(Fe={}));const Jb=e=>{e(window.location.href);var t=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(r){setTimeout(()=>{var l,o;try{o=JSON.parse(null!=(l=r?.toString())?l:"")}catch{return}("track"===o.type||"identify"===o.type)&&zs(o)&&e(o)},100),t.call(this,r)};const i=r=>{if(r.key===Fe.USER_ID||r.key===Fe.ANONYMOUS_ID||r.key===Fe.USER_TRAITS){const{userId:l,userTraits:o}=Ia();if(l){let a={};o&&(a=JSON.parse(o));const c={type:"identify",userId:l.toString(),traits:a};zs(c)&&e(c)}}},{userId:n,userTraits:s}=Ia();if(n){let r={};s&&(r=JSON.parse(s));const l={type:"identify",userId:n.toString(),traits:r};zs(l)&&e(l)}return window.addEventListener("storage",i),(0,f.m)(({keyName:r})=>{i({key:r})}),()=>{window.removeEventListener("storage",i),XMLHttpRequest.prototype.send=t}},Ia=()=>({userId:(0,f.e)(Fe.USER_ID),userTraits:(0,f.e)(Fe.USER_TRAITS),anonymousId:(0,f.e)(Fe.ANONYMOUS_ID)}),zs=e=>{if(!e)return!1;let t="";try{t=JSON.stringify(e)}catch{return!1}const i=Tb(t),n=(0,f.e)(f.S.SEGMENT_LAST_SENT_HASH_KEY);return(void 0===n||i!==n)&&((0,f.s)(f.S.SEGMENT_LAST_SENT_HASH_KEY,i),!0)},Tb=e=>{var t=0,i=e.length,n=0;if(i>0)for(;n<i;)t=(t<<5)-t+e.charCodeAt(n++)|0;return t.toString()};let ce=[];const we={},Os=typeof navigator<"u"&&navigator.userAgent.toLowerCase().indexOf("firefox")>0,Fb={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":Os?173:189,"=":Os?61:187,";":Os?59:186,"'":222,"[":219,"]":221,"\\":220},Ga={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},de={16:!1,18:!1,17:!1,91:!1},Va={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Kb=e=>Fb[e.toLowerCase()]||Va[e.toLowerCase()]||e.toUpperCase().charCodeAt(0);function Mb(e,t){const i=t.slice(0,t.length-1);for(let n=0;n<i.length;n++)i[n]=e[i[n].toLowerCase()];return i}function zb(e,t,i){let n;if(t.scope===i||"all"===t.scope){n=t.mods.length>0;for(const s in de)Object.prototype.hasOwnProperty.call(de,s)&&(!de[s]&&t.mods.indexOf(+s)>-1||de[s]&&-1===t.mods.indexOf(+s))&&(n=!1);(0===t.mods.length&&!de[16]&&!de[18]&&!de[17]&&!de[91]||n||"*"===t.shortcut)&&!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}var Ke,Ut,Wa,$i,Ps,Xa=-1,Oe=function(e){addEventListener("pageshow",function(t){t.persisted&&(Xa=t.timeStamp,e(t))},!0)},Bs=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},qi=function(){var e=Bs();return e&&e.activationStart||0},ye=function(e,t){var i=Bs(),n="navigate";return Xa>=0?n="back-forward-cache":i&&(document.prerendering||qi()>0?n="prerender":document.wasDiscarded?n="restore":i.type&&(n=i.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},at=function(e,t,i){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver(function(s){Promise.resolve().then(function(){t(s.getEntries())})});return n.observe(Object.assign({type:e,buffered:!0},i||{})),n}}catch{}},fe=function(e,t,i,n){var s,r;return function(l){var o,a;t.value>=0&&(l||n)&&((r=t.value-(s||0))||void 0===s)&&(s=t.value,t.delta=r,t.rating=(o=t.value)>(a=i)[1]?"poor":o>a[0]?"needs-improvement":"good",e(t))}},Es=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},en=function(e){var t=function(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||e(i)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},js=function(e){var t=!1;return function(i){t||(e(i),t=!0)}},ct=-1,Sa=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},tn=function(e){"hidden"===document.visibilityState&&ct>-1&&(ct="visibilitychange"===e.type?e.timeStamp:0,Bb())},Ra=function(){addEventListener("visibilitychange",tn,!0),addEventListener("prerenderingchange",tn,!0)},Bb=function(){removeEventListener("visibilitychange",tn,!0),removeEventListener("prerenderingchange",tn,!0)},Ds=function(){return ct<0&&(ct=Sa(),Ra(),Oe(function(){setTimeout(function(){ct=Sa(),Ra()},0)})),{get firstHiddenTime(){return ct}}},Ft=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},wa=[1800,3e3],Ca=function(e,t){t=t||{},Ft(function(){var i,n=Ds(),s=ye("FCP"),r=at("paint",function(l){l.forEach(function(o){"first-contentful-paint"===o.name&&(r.disconnect(),o.startTime<n.firstHiddenTime&&(s.value=Math.max(o.startTime-qi(),0),s.entries.push(o),i(!0)))})});r&&(i=fe(e,s,wa,t.reportAllChanges),Oe(function(l){s=ye("FCP"),i=fe(e,s,wa,t.reportAllChanges),Es(function(){s.value=performance.now()-l.timeStamp,i(!0)})}))})},va=[.1,.25],Kt={passive:!0,capture:!0},jb=new Date,ka=function(e,t){Ke||(Ke=t,Ut=e,Wa=new Date,La(removeEventListener),xa())},xa=function(){if(Ut>=0&&Ut<Wa-jb){var e={entryType:"first-input",name:Ke.type,target:Ke.target,cancelable:Ke.cancelable,startTime:Ke.timeStamp,processingStart:Ke.timeStamp+Ut};$i.forEach(function(t){t(e)}),$i=[]}},Db=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(i=t,n=e,s=function(){ka(i,n),l()},r=function(){l()},l=function(){removeEventListener("pointerup",s,Kt),removeEventListener("pointercancel",r,Kt)},addEventListener("pointerup",s,Kt),addEventListener("pointercancel",r,Kt)):ka(t,e)}var i,n,s,r,l},La=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,Db,Kt)})},Ya=[100,300],Ja=0,Qs=1/0,nn=0,Ab=function(e){e.forEach(function(t){t.interactionId&&(Qs=Math.min(Qs,t.interactionId),nn=Math.max(nn,t.interactionId),Ja=nn?(nn-Qs)/7+1:0)})},Ta=function(){return Ps?Ja:performance.interactionCount||0},Na=[200,500],Ua=0,Fa=function(){return Ta()-Ua},Ce=[],As={},Ka=function(e){var i=As[e.interactionId];if(i||Ce.length<10||e.duration>Ce[Ce.length-1].latency){if(i)i.entries.push(e),i.latency=Math.max(i.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};As[n.id]=n,Ce.push(n)}Ce.sort(function(s,r){return r.latency-s.latency}),Ce.splice(10).forEach(function(s){delete As[s.id]})}},Ma=[2500,4e3],_s={},Ha=[800,1800],ey=function e(t){document.prerendering?Ft(function(){return e(t)}):"complete"!==document.readyState?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},ty=function(e,t){t=t||{};var i=ye("TTFB"),n=fe(e,i,Ha,t.reportAllChanges);ey(function(){var s=Bs();if(s){var r=s.responseStart;if(r<=0||r>performance.now())return;i.value=Math.max(r-qi(),0),i.entries=[s],n(!0),Oe(function(){i=ye("TTFB",0),(n=fe(e,i,Ha,t.reportAllChanges))(!0)})}})};const iy=e=>(function(e,t){t=t||{},Ca(js(function(){var i,n=ye("CLS",0),s=0,r=[],l=function(a){a.forEach(function(c){c.hadRecentInput||(s&&c.startTime-r[r.length-1].startTime<1e3&&c.startTime-r[0].startTime<5e3?(s+=c.value,r.push(c)):(s=c.value,r=[c]))}),s>n.value&&(n.value=s,n.entries=r,i())},o=at("layout-shift",l);o&&(i=fe(e,n,va,t.reportAllChanges),en(function(){l(o.takeRecords()),i(!0)}),Oe(function(){s=0,n=ye("CLS",0),i=fe(e,n,va,t.reportAllChanges),Es(function(){return i()})}),setTimeout(i,0))}))}(e),Ca(e),function(e,t){t=t||{},Ft(function(){var i,n=Ds(),s=ye("FID"),r=function(a){a.startTime<n.firstHiddenTime&&(s.value=a.processingStart-a.startTime,s.entries.push(a),i(!0))},l=function(a){a.forEach(r)},o=at("first-input",l);i=fe(e,s,Ya,t.reportAllChanges),o&&en(js(function(){l(o.takeRecords()),o.disconnect()})),o&&Oe(function(){s=ye("FID"),i=fe(e,s,Ya,t.reportAllChanges),$i=[],Ut=-1,Ke=null,La(addEventListener),$i.push(r),xa()})})}(e),function(e,t){t=t||{},Ft(function(){var i,n=Ds(),s=ye("LCP"),r=function(a){var c=a[a.length-1];c&&c.startTime<n.firstHiddenTime&&(s.value=Math.max(c.startTime-qi(),0),s.entries=[c],i())},l=at("largest-contentful-paint",r);if(l){i=fe(e,s,Ma,t.reportAllChanges);var o=js(function(){_s[s.id]||(r(l.takeRecords()),l.disconnect(),_s[s.id]=!0,i(!0))});["keydown","click"].forEach(function(a){addEventListener(a,function(){return setTimeout(o,0)},!0)}),en(o),Oe(function(a){s=ye("LCP"),i=fe(e,s,Ma,t.reportAllChanges),Es(function(){s.value=performance.now()-a.timeStamp,_s[s.id]=!0,i(!0)})})}})}(e),ty(e),function(e,t){t=t||{},Ft(function(){var i;"interactionCount"in performance||Ps||(Ps=at("event",Ab,{type:"event",buffered:!0,durationThreshold:0}));var n,s=ye("INP"),r=function(o){o.forEach(function(d){d.interactionId&&Ka(d),"first-input"===d.entryType&&!Ce.some(function(u){return u.entries.some(function(m){return d.duration===m.duration&&d.startTime===m.startTime})})&&Ka(d)});var a,c=(a=Math.min(Ce.length-1,Math.floor(Fa()/50)),Ce[a]);c&&c.latency!==s.value&&(s.value=c.latency,s.entries=c.entries,n())},l=at("event",r,{durationThreshold:null!==(i=t.durationThreshold)&&void 0!==i?i:40});n=fe(e,s,Na,t.reportAllChanges),l&&("interactionId"in PerformanceEventTiming.prototype&&l.observe({type:"first-input",buffered:!0}),en(function(){r(l.takeRecords()),s.value<0&&Fa()>0&&(s.value=0,s.entries=[]),n(!0)}),Oe(function(){Ce=[],Ua=Ta(),s=ye("INP"),n=fe(e,s,Na,t.reportAllChanges)}))})}(e),()=>{});class ny{constructor(t,i){Y(this,"debug"),Y(this,"name"),this.debug=t,this.name=i}log(...t){if(this.debug){let i=`[${Date.now()}]`;this.name&&(i+=` - ${this.name}`),console.log.apply(console,[i,...t])}}}const za="iframe parent ready",Oa="iframe ok";var Pa=function(e){return e.BillingQuotaExceeded="BillingQuotaExceeded",e}(Pa||{});const ly=[Pa.BillingQuotaExceeded.toString()],Mt="highlightLogs",$s=e=>e/Math.pow(1e3,2),my=e=>1024*e,Ba="dmFyIFVyPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxWcj1PYmplY3QuZGVmaW5lUHJvcGVydGllczt2YXIganI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7dmFyIE1lPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIFF0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWHQ9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt2YXIgdXQ9KEIsRCxDKT0+RCBpbiBCP1VyKEIsRCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Q30pOkJbRF09QyxQPShCLEQpPT57Zm9yKHZhciBDIGluIER8fChEPXt9KSlRdC5jYWxsKEQsQykmJnV0KEIsQyxEW0NdKTtpZihNZSlmb3IodmFyIEMgb2YgTWUoRCkpWHQuY2FsbChELEMpJiZ1dChCLEMsRFtDXSk7cmV0dXJuIEJ9LFVlPShCLEQpPT5WcihCLGpyKEQpKTt2YXIgdmU9KEIsRCk9Pnt2YXIgQz17fTtmb3IodmFyIEogaW4gQilRdC5jYWxsKEIsSikmJkQuaW5kZXhPZihKKTwwJiYoQ1tKXT1CW0pdKTtpZihCIT1udWxsJiZNZSlmb3IodmFyIEogb2YgTWUoQikpRC5pbmRleE9mKEopPDAmJlh0LmNhbGwoQixKKSYmKENbSl09QltKXSk7cmV0dXJuIEN9O3ZhciBsdD0oQixELEMpPT51dChCLHR5cGVvZiBEIT0ic3ltYm9sIj9EKyIiOkQsQyk7dmFyIFg9KEIsRCxDKT0+bmV3IFByb21pc2UoKEosY2UpPT57dmFyIGdlPWVlPT57dHJ5e3VlKEMubmV4dChlZSkpfWNhdGNoKEVlKXtjZShFZSl9fSxJZT1lZT0+e3RyeXt1ZShDLnRocm93KGVlKSl9Y2F0Y2goRWUpe2NlKEVlKX19LHVlPWVlPT5lZS5kb25lP0ooZWUudmFsdWUpOlByb21pc2UucmVzb2x2ZShlZS52YWx1ZSkudGhlbihnZSxJZSk7dWUoKEM9Qy5hcHBseShCLEQpKS5uZXh0KCkpfSk7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIEIoZSx0KXtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKG4pe24mJnR5cGVvZiBuIT0ic3RyaW5nIiYmIUFycmF5LmlzQXJyYXkobikmJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoaSE9PSJkZWZhdWx0IiYmIShpIGluIGUpKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxyLmdldD9yOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuW2ldfX0pfX0pfSksT2JqZWN0LmZyZWV6ZShlKX12YXIgRD1VaW50OEFycmF5LEM9VWludDE2QXJyYXksSj1JbnQzMkFycmF5LGNlPW5ldyBEKFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDAsMCwwLDBdKSxnZT1uZXcgRChbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSxJZT1uZXcgRChbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLHVlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPW5ldyBDKDMxKSxpPTA7aTwzMTsrK2kpbltpXT10Kz0xPDxlW2ktMV07Zm9yKHZhciByPW5ldyBKKG5bMzBdKSxpPTE7aTwzMDsrK2kpZm9yKHZhciBzPW5baV07czxuW2krMV07KytzKXJbc109cy1uW2ldPDw1fGk7cmV0dXJue2I6bixyfX0sZWU9dWUoY2UsMiksRWU9ZWUuYixWZT1lZS5yO0VlWzI4XT0yNTgsVmVbMjU4XT0yODtmb3IodmFyIFd0PXVlKGdlLDApLGZ0PVd0LnIsamU9bmV3IEMoMzI3NjgpLEY9MDtGPDMyNzY4OysrRil7dmFyIGllPShGJjQzNjkwKT4+MXwoRiYyMTg0NSk8PDE7aWU9KGllJjUyNDI4KT4+MnwoaWUmMTMxMDcpPDwyLGllPShpZSY2MTY4MCk+PjR8KGllJjM4NTUpPDw0LGplW0ZdPSgoaWUmNjUyODApPj44fChpZSYyNTUpPDw4KT4+MX1mb3IodmFyIF9lPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9ZS5sZW5ndGgscj0wLHM9bmV3IEModCk7cjxpOysrcillW3JdJiYrK3NbZVtyXS0xXTt2YXIgbz1uZXcgQyh0KTtmb3Iocj0xO3I8dDsrK3Ipb1tyXT1vW3ItMV0rc1tyLTFdPDwxO3ZhciBjO2lmKG4pe2M9bmV3IEMoMTw8dCk7dmFyIGY9MTUtdDtmb3Iocj0wO3I8aTsrK3IpaWYoZVtyXSlmb3IodmFyIGQ9cjw8NHxlW3JdLHU9dC1lW3JdLHk9b1tlW3JdLTFdKys8PHUsZz15fCgxPDx1KS0xO3k8PWc7Kyt5KWNbamVbeV0+PmZdPWR9ZWxzZSBmb3IoYz1uZXcgQyhpKSxyPTA7cjxpOysrcillW3JdJiYoY1tyXT1qZVtvW2Vbcl0tMV0rK10+PjE1LWVbcl0pO3JldHVybiBjfSxvZT1uZXcgRCgyODgpLEY9MDtGPDE0NDsrK0Ypb2VbRl09ODtmb3IodmFyIEY9MTQ0O0Y8MjU2OysrRilvZVtGXT05O2Zvcih2YXIgRj0yNTY7RjwyODA7KytGKW9lW0ZdPTc7Zm9yKHZhciBGPTI4MDtGPDI4ODsrK0Ypb2VbRl09ODtmb3IodmFyIE9lPW5ldyBEKDMyKSxGPTA7RjwzMjsrK0YpT2VbRl09NTt2YXIgWnQ9X2Uob2UsOSwwKSxLdD1fZShPZSw1LDApLGh0PWZ1bmN0aW9uKGUpe3JldHVybihlKzcpLzh8MH0sZHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybihuPT1udWxsfHxuPmUubGVuZ3RoKSYmKG49ZS5sZW5ndGgpLG5ldyBEKGUuc3ViYXJyYXkodCxuKSl9LG5lPWZ1bmN0aW9uKGUsdCxuKXtuPDw9dCY3O3ZhciBpPXQvOHwwO2VbaV18PW4sZVtpKzFdfD1uPj44fSxUZT1mdW5jdGlvbihlLHQsbil7bjw8PXQmNzt2YXIgaT10Lzh8MDtlW2ldfD1uLGVbaSsxXXw9bj4+OCxlW2krMl18PW4+PjE2fSxxZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxpPTA7aTxlLmxlbmd0aDsrK2kpZVtpXSYmbi5wdXNoKHtzOmksZjplW2ldfSk7dmFyIHI9bi5sZW5ndGgscz1uLnNsaWNlKCk7aWYoIXIpcmV0dXJue3Q6dnQsbDowfTtpZihyPT0xKXt2YXIgbz1uZXcgRChuWzBdLnMrMSk7cmV0dXJuIG9bblswXS5zXT0xLHt0Om8sbDoxfX1uLnNvcnQoZnVuY3Rpb24oJCxxKXtyZXR1cm4gJC5mLXEuZn0pLG4ucHVzaCh7czotMSxmOjI1MDAxfSk7dmFyIGM9blswXSxmPW5bMV0sZD0wLHU9MSx5PTI7Zm9yKG5bMF09e3M6LTEsZjpjLmYrZi5mLGw6YyxyOmZ9O3UhPXItMTspYz1uW25bZF0uZjxuW3ldLmY/ZCsrOnkrK10sZj1uW2QhPXUmJm5bZF0uZjxuW3ldLmY/ZCsrOnkrK10sblt1KytdPXtzOi0xLGY6Yy5mK2YuZixsOmMscjpmfTtmb3IodmFyIGc9c1swXS5zLGk9MTtpPHI7KytpKXNbaV0ucz5nJiYoZz1zW2ldLnMpO3ZhciBiPW5ldyBDKGcrMSksbT1HZShuW3UtMV0sYiwwKTtpZihtPnQpe3ZhciBpPTAsTj0wLHY9bS10LEU9MTw8djtmb3Iocy5zb3J0KGZ1bmN0aW9uKHEsTSl7cmV0dXJuIGJbTS5zXS1iW3Euc118fHEuZi1NLmZ9KTtpPHI7KytpKXt2YXIgaz1zW2ldLnM7aWYoYltrXT50KU4rPUUtKDE8PG0tYltrXSksYltrXT10O2Vsc2UgYnJlYWt9Zm9yKE4+Pj12O04+MDspe3ZhciB3PXNbaV0ucztiW3ddPHQ/Ti09MTw8dC1iW3ddKystMTorK2l9Zm9yKDtpPj0wJiZOOy0taSl7dmFyIEw9c1tpXS5zO2JbTF09PXQmJigtLWJbTF0sKytOKX1tPXR9cmV0dXJue3Q6bmV3IEQoYiksbDptfX0sR2U9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnM9PS0xP01hdGgubWF4KEdlKGUubCx0LG4rMSksR2UoZS5yLHQsbisxKSk6dFtlLnNdPW59LHB0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0JiYhZVstLXRdOyk7Zm9yKHZhciBuPW5ldyBDKCsrdCksaT0wLHI9ZVswXSxzPTEsbz1mdW5jdGlvbihmKXtuW2krK109Zn0sYz0xO2M8PXQ7KytjKWlmKGVbY109PXImJmMhPXQpKytzO2Vsc2V7aWYoIXImJnM+Mil7Zm9yKDtzPjEzODtzLT0xMzgpbygzMjc1NCk7cz4yJiYobyhzPjEwP3MtMTE8PDV8Mjg2OTA6cy0zPDw1fDEyMzA1KSxzPTApfWVsc2UgaWYocz4zKXtmb3IobyhyKSwtLXM7cz42O3MtPTYpbyg4MzA0KTtzPjImJihvKHMtMzw8NXw4MjA4KSxzPTApfWZvcig7cy0tOylvKHIpO3M9MSxyPWVbY119cmV0dXJue2M6bi5zdWJhcnJheSgwLGkpLG46dH19LGJlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsaT0wO2k8dC5sZW5ndGg7KytpKW4rPWVbaV0qdFtpXTtyZXR1cm4gbn0sbXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4ubGVuZ3RoLHI9aHQodCsyKTtlW3JdPWkmMjU1LGVbcisxXT1pPj44LGVbcisyXT1lW3JdXjI1NSxlW3IrM109ZVtyKzFdXjI1NTtmb3IodmFyIHM9MDtzPGk7KytzKWVbcitzKzRdPW5bc107cmV0dXJuKHIrNCtpKSo4fSx5dD1mdW5jdGlvbihlLHQsbixpLHIscyxvLGMsZixkLHUpe25lKHQsdSsrLG4pLCsrclsyNTZdO2Zvcih2YXIgeT1xZShyLDE1KSxnPXkudCxiPXkubCxtPXFlKHMsMTUpLE49bS50LHY9bS5sLEU9cHQoZyksaz1FLmMsdz1FLm4sTD1wdChOKSwkPUwuYyxxPUwubixNPW5ldyBDKDE5KSxJPTA7STxrLmxlbmd0aDsrK0kpKytNW2tbSV0mMzFdO2Zvcih2YXIgST0wO0k8JC5sZW5ndGg7KytJKSsrTVskW0ldJjMxXTtmb3IodmFyIE89cWUoTSw3KSxqPU8udCxVPU8ubCxIPTE5O0g+NCYmIWpbSWVbSC0xXV07LS1IKTt2YXIgUT1kKzU8PDMsYT1iZShyLG9lKStiZShzLE9lKStvLGg9YmUocixnKStiZShzLE4pK28rMTQrMypIK2JlKE0saikrMipNWzE2XSszKk1bMTddKzcqTVsxOF07aWYoZj49MCYmUTw9YSYmUTw9aClyZXR1cm4gbXQodCx1LGUuc3ViYXJyYXkoZixmK2QpKTt2YXIgXyxBLFIseDtpZihuZSh0LHUsMSsoaDxhKSksdSs9MixoPGEpe189X2UoZyxiLDApLEE9ZyxSPV9lKE4sdiwwKSx4PU47dmFyIHNlPV9lKGosVSwwKTtuZSh0LHUsdy0yNTcpLG5lKHQsdSs1LHEtMSksbmUodCx1KzEwLEgtNCksdSs9MTQ7Zm9yKHZhciBJPTA7STxIOysrSSluZSh0LHUrMypJLGpbSWVbSV1dKTt1Kz0zKkg7Zm9yKHZhciB6PVtrLCRdLHJlPTA7cmU8MjsrK3JlKWZvcih2YXIgbWU9eltyZV0sST0wO0k8bWUubGVuZ3RoOysrSSl7dmFyIHRlPW1lW0ldJjMxO25lKHQsdSxzZVt0ZV0pLHUrPWpbdGVdLHRlPjE1JiYobmUodCx1LG1lW0ldPj41JjEyNyksdSs9bWVbSV0+PjEyKX19ZWxzZSBfPVp0LEE9b2UsUj1LdCx4PU9lO2Zvcih2YXIgST0wO0k8YzsrK0kpe3ZhciBZPWlbSV07aWYoWT4yNTUpe3ZhciB0ZT1ZPj4xOCYzMTtUZSh0LHUsX1t0ZSsyNTddKSx1Kz1BW3RlKzI1N10sdGU+NyYmKG5lKHQsdSxZPj4yMyYzMSksdSs9Y2VbdGVdKTt2YXIgeWU9WSYzMTtUZSh0LHUsUlt5ZV0pLHUrPXhbeWVdLHllPjMmJihUZSh0LHUsWT4+NSY4MTkxKSx1Kz1nZVt5ZV0pfWVsc2UgVGUodCx1LF9bWV0pLHUrPUFbWV19cmV0dXJuIFRlKHQsdSxfWzI1Nl0pLHUrQVsyNTZdfSxlbj1uZXcgSihbNjU1NDAsMTMxMDgwLDEzMTA4OCwxMzExMDQsMjYyMTc2LDEwNDg3MDQsMTA0ODgzMiwyMTE0NTYwLDIxMTc2MzJdKSx2dD1uZXcgRCgwKSx0bj1mdW5jdGlvbihlLHQsbixpLHIscyl7dmFyIG89cy56fHxlLmxlbmd0aCxjPW5ldyBEKGkrbys1KigxK01hdGguY2VpbChvLzdlMykpK3IpLGY9Yy5zdWJhcnJheShpLGMubGVuZ3RoLXIpLGQ9cy5sLHU9KHMucnx8MCkmNztpZih0KXt1JiYoZlswXT1zLnI+PjMpO2Zvcih2YXIgeT1lblt0LTFdLGc9eT4+MTMsYj15JjgxOTEsbT0oMTw8biktMSxOPXMucHx8bmV3IEMoMzI3NjgpLHY9cy5ofHxuZXcgQyhtKzEpLEU9TWF0aC5jZWlsKG4vMyksaz0yKkUsdz1mdW5jdGlvbihjdCl7cmV0dXJuKGVbY3RdXmVbY3QrMV08PEVeZVtjdCsyXTw8aykmbX0sTD1uZXcgSigyNWUzKSwkPW5ldyBDKDI4OCkscT1uZXcgQygzMiksTT0wLEk9MCxPPXMuaXx8MCxqPTAsVT1zLnd8fDAsSD0wO08rMjxvOysrTyl7dmFyIFE9dyhPKSxhPU8mMzI3NjcsaD12W1FdO2lmKE5bYV09aCx2W1FdPWEsVTw9Tyl7dmFyIF89by1PO2lmKChNPjdlM3x8aj4yNDU3NikmJihfPjQyM3x8IWQpKXt1PXl0KGUsZiwwLEwsJCxxLEksaixILE8tSCx1KSxqPU09ST0wLEg9Tztmb3IodmFyIEE9MDtBPDI4NjsrK0EpJFtBXT0wO2Zvcih2YXIgQT0wO0E8MzA7KytBKXFbQV09MH12YXIgUj0yLHg9MCxzZT1iLHo9YS1oJjMyNzY3O2lmKF8+MiYmUT09dyhPLXopKWZvcih2YXIgcmU9TWF0aC5taW4oZyxfKS0xLG1lPU1hdGgubWluKDMyNzY3LE8pLHRlPU1hdGgubWluKDI1OCxfKTt6PD1tZSYmLS1zZSYmYSE9aDspe2lmKGVbTytSXT09ZVtPK1Itel0pe2Zvcih2YXIgWT0wO1k8dGUmJmVbTytZXT09ZVtPK1ktel07KytZKTtpZihZPlIpe2lmKFI9WSx4PXosWT5yZSlicmVhaztmb3IodmFyIHllPU1hdGgubWluKHosWS0yKSxIdD0wLEE9MDtBPHllOysrQSl7dmFyIG90PU8teitBJjMyNzY3LE1yPU5bb3RdLHp0PW90LU1yJjMyNzY3O3p0Pkh0JiYoSHQ9enQsaD1vdCl9fX1hPWgsaD1OW2FdLHorPWEtaCYzMjc2N31pZih4KXtMW2orK109MjY4NDM1NDU2fFZlW1JdPDwxOHxmdFt4XTt2YXIgWXQ9VmVbUl0mMzEsSnQ9ZnRbeF0mMzE7SSs9Y2VbWXRdK2dlW0p0XSwrKyRbMjU3K1l0XSwrK3FbSnRdLFU9TytSLCsrTX1lbHNlIExbaisrXT1lW09dLCsrJFtlW09dXX19Zm9yKE89TWF0aC5tYXgoTyxVKTtPPG87KytPKUxbaisrXT1lW09dLCsrJFtlW09dXTt1PXl0KGUsZixkLEwsJCxxLEksaixILE8tSCx1KSxkfHwocy5yPXUmN3xmW3UvOHwwXTw8Myx1LT03LHMuaD12LHMucD1OLHMuaT1PLHMudz1VKX1lbHNle2Zvcih2YXIgTz1zLnd8fDA7TzxvK2Q7Tys9NjU1MzUpe3ZhciBhdD1PKzY1NTM1O2F0Pj1vJiYoZlt1Lzh8MF09ZCxhdD1vKSx1PW10KGYsdSsxLGUuc3ViYXJyYXkoTyxhdCkpfXMuaT1vfXJldHVybiBkdChjLDAsaStodCh1KStyKX0sbm49ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IEludDMyQXJyYXkoMjU2KSx0PTA7dDwyNTY7Kyt0KXtmb3IodmFyIG49dCxpPTk7LS1pOyluPShuJjEmJi0zMDY2NzQ5MTIpXm4+Pj4xO2VbdF09bn1yZXR1cm4gZX0oKSxybj1mdW5jdGlvbigpe3ZhciBlPS0xO3JldHVybntwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1lLGk9MDtpPHQubGVuZ3RoOysraSluPW5uW24mMjU1XnRbaV1dXm4+Pj44O2U9bn0sZDpmdW5jdGlvbigpe3JldHVybn5lfX19LHNuPWZ1bmN0aW9uKGUsdCxuLGkscil7aWYoIXImJihyPXtsOjF9LHQuZGljdGlvbmFyeSkpe3ZhciBzPXQuZGljdGlvbmFyeS5zdWJhcnJheSgtMzI3NjgpLG89bmV3IEQocy5sZW5ndGgrZS5sZW5ndGgpO28uc2V0KHMpLG8uc2V0KGUscy5sZW5ndGgpLGU9byxyLnc9cy5sZW5ndGh9cmV0dXJuIHRuKGUsdC5sZXZlbD09bnVsbD82OnQubGV2ZWwsdC5tZW09PW51bGw/ci5sP01hdGguY2VpbChNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKGUubGVuZ3RoKSkpKjEuNSk6MjA6MTIrdC5tZW0sbixpLHIpfSxIZT1mdW5jdGlvbihlLHQsbil7Zm9yKDtuOysrdCllW3RdPW4sbj4+Pj04fSxvbj1mdW5jdGlvbihlLHQpe3ZhciBuPXQuZmlsZW5hbWU7aWYoZVswXT0zMSxlWzFdPTEzOSxlWzJdPTgsZVs4XT10LmxldmVsPDI/NDp0LmxldmVsPT05PzI6MCxlWzldPTMsdC5tdGltZSE9MCYmSGUoZSw0LE1hdGguZmxvb3IobmV3IERhdGUodC5tdGltZXx8RGF0ZS5ub3coKSkvMWUzKSksbil7ZVszXT04O2Zvcih2YXIgaT0wO2k8PW4ubGVuZ3RoOysraSllW2krMTBdPW4uY2hhckNvZGVBdChpKX19LGFuPWZ1bmN0aW9uKGUpe3JldHVybiAxMCsoZS5maWxlbmFtZT9lLmZpbGVuYW1lLmxlbmd0aCsxOjApfTtmdW5jdGlvbiBjbihlLHQpe3R8fCh0PXt9KTt2YXIgbj1ybigpLGk9ZS5sZW5ndGg7bi5wKGUpO3ZhciByPXNuKGUsdCxhbih0KSw4KSxzPXIubGVuZ3RoO3JldHVybiBvbihyLHQpLEhlKHIscy04LG4uZCgpKSxIZShyLHMtNCxpKSxyfXZhciBndD10eXBlb2YgVGV4dEVuY29kZXIhPSJ1bmRlZmluZWQiJiZuZXcgVGV4dEVuY29kZXIsdW49dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIiYmbmV3IFRleHREZWNvZGVyLGxuPTA7dHJ5e3VuLmRlY29kZSh2dCx7c3RyZWFtOiEwfSksbG49MX1jYXRjaChlKXt9ZnVuY3Rpb24gZm4oZSx0KXt2YXIgbjtpZihndClyZXR1cm4gZ3QuZW5jb2RlKGUpO2Zvcih2YXIgaT1lLmxlbmd0aCxyPW5ldyBEKGUubGVuZ3RoKyhlLmxlbmd0aD4+MSkpLHM9MCxvPWZ1bmN0aW9uKGQpe3JbcysrXT1kfSxuPTA7bjxpOysrbil7aWYocys1PnIubGVuZ3RoKXt2YXIgYz1uZXcgRChzKzgrKGktbjw8MSkpO2Muc2V0KHIpLHI9Y312YXIgZj1lLmNoYXJDb2RlQXQobik7ZjwxMjh8fHQ/byhmKTpmPDIwNDg/KG8oMTkyfGY+PjYpLG8oMTI4fGYmNjMpKTpmPjU1Mjk1JiZmPDU3MzQ0PyhmPTY1NTM2KyhmJjEwNDc1NTIpfGUuY2hhckNvZGVBdCgrK24pJjEwMjMsbygyNDB8Zj4+MTgpLG8oMTI4fGY+PjEyJjYzKSxvKDEyOHxmPj42JjYzKSxvKDEyOHxmJjYzKSk6KG8oMjI0fGY+PjEyKSxvKDEyOHxmPj42JjYzKSxvKDEyOHxmJjYzKSl9cmV0dXJuIGR0KHIsMCxzKX1jb25zdCB6ZT1KU09OLGhuPWU9PmUudG9VcHBlckNhc2UoKSxkbj1lPT57Y29uc3QgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChuLGkpPT57dFtpXT1ufSksdH0scG49KGUsdCxuKT0+ZS5kb2N1bWVudD9lOntkb2N1bWVudDplLHZhcmlhYmxlczp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH0sbW49KGUsdCxuKT0+ZS5xdWVyeT9lOntxdWVyeTplLHZhcmlhYmxlczp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH0seW49KGUsdCk9PmUuZG9jdW1lbnRzP2U6e2RvY3VtZW50czplLHJlcXVlc3RIZWFkZXJzOnQsc2lnbmFsOnZvaWQgMH07ZnVuY3Rpb24gU2UoZSx0KXtpZighISFlKXRocm93IG5ldyBFcnJvcih0KX1mdW5jdGlvbiB2bihlKXtyZXR1cm4gdHlwZW9mIGU9PSJvYmplY3QiJiZlIT09bnVsbH1mdW5jdGlvbiBnbihlLHQpe2lmKCEhIWUpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIGludmFyaWFudCB0cmlnZ2VyZWQuIil9Y29uc3QgRW49L1xyXG58W1xuXHJdL2c7ZnVuY3Rpb24gWWUoZSx0KXtsZXQgbj0wLGk9MTtmb3IoY29uc3QgciBvZiBlLmJvZHkubWF0Y2hBbGwoRW4pKXtpZih0eXBlb2Ygci5pbmRleD09Im51bWJlciJ8fGduKCExKSxyLmluZGV4Pj10KWJyZWFrO249ci5pbmRleCtyWzBdLmxlbmd0aCxpKz0xfXJldHVybntsaW5lOmksY29sdW1uOnQrMS1ufX1mdW5jdGlvbiBfbihlKXtyZXR1cm4gRXQoZS5zb3VyY2UsWWUoZS5zb3VyY2UsZS5zdGFydCkpfWZ1bmN0aW9uIEV0KGUsdCl7Y29uc3Qgbj1lLmxvY2F0aW9uT2Zmc2V0LmNvbHVtbi0xLGk9IiIucGFkU3RhcnQobikrZS5ib2R5LHI9dC5saW5lLTEscz1lLmxvY2F0aW9uT2Zmc2V0LmxpbmUtMSxvPXQubGluZStzLGM9dC5saW5lPT09MT9uOjAsZj10LmNvbHVtbitjLGQ9YCR7ZS5uYW1lfToke299OiR7Zn0KYCx1PWkuc3BsaXQoL1xyXG58W1xuXHJdL2cpLHk9dVtyXTtpZih5Lmxlbmd0aD4xMjApe2NvbnN0IGc9TWF0aC5mbG9vcihmLzgwKSxiPWYlODAsbT1bXTtmb3IobGV0IE49MDtOPHkubGVuZ3RoO04rPTgwKW0ucHVzaCh5LnNsaWNlKE4sTis4MCkpO3JldHVybiBkK190KFtbYCR7b30gfGAsbVswXV0sLi4ubS5zbGljZSgxLGcrMSkubWFwKE49PlsifCIsTl0pLFsifCIsIl4iLnBhZFN0YXJ0KGIpXSxbInwiLG1bZysxXV1dKX1yZXR1cm4gZCtfdChbW2Ake28tMX0gfGAsdVtyLTFdXSxbYCR7b30gfGAseV0sWyJ8IiwiXiIucGFkU3RhcnQoZildLFtgJHtvKzF9IHxgLHVbcisxXV1dKX1mdW5jdGlvbiBfdChlKXtjb25zdCB0PWUuZmlsdGVyKChbaSxyXSk9PnIhPT12b2lkIDApLG49TWF0aC5tYXgoLi4udC5tYXAoKFtpXSk9PmkubGVuZ3RoKSk7cmV0dXJuIHQubWFwKChbaSxyXSk9PmkucGFkU3RhcnQobikrKHI/IiAiK3I6IiIpKS5qb2luKGAKYCl9ZnVuY3Rpb24gVG4oZSl7Y29uc3QgdD1lWzBdO3JldHVybiB0PT1udWxsfHwia2luZCJpbiB0fHwibGVuZ3RoImluIHQ/e25vZGVzOnQsc291cmNlOmVbMV0scG9zaXRpb25zOmVbMl0scGF0aDplWzNdLG9yaWdpbmFsRXJyb3I6ZVs0XSxleHRlbnNpb25zOmVbNV19OnR9Y2xhc3MgSmUgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LC4uLm4pe3ZhciBpLHIscztjb25zdHtub2RlczpvLHNvdXJjZTpjLHBvc2l0aW9uczpmLHBhdGg6ZCxvcmlnaW5hbEVycm9yOnUsZXh0ZW5zaW9uczp5fT1UbihuKTtzdXBlcih0KSx0aGlzLm5hbWU9IkdyYXBoUUxFcnJvciIsdGhpcy5wYXRoPWQhPW51bGw/ZDp2b2lkIDAsdGhpcy5vcmlnaW5hbEVycm9yPXUhPW51bGw/dTp2b2lkIDAsdGhpcy5ub2Rlcz1UdChBcnJheS5pc0FycmF5KG8pP286bz9bb106dm9pZCAwKTtjb25zdCBnPVR0KChpPXRoaXMubm9kZXMpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5tYXAobT0+bS5sb2MpLmZpbHRlcihtPT5tIT1udWxsKSk7dGhpcy5zb3VyY2U9YyE9bnVsbD9jOmc9PW51bGx8fChyPWdbMF0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zb3VyY2UsdGhpcy5wb3NpdGlvbnM9ZiE9bnVsbD9mOmc9PW51bGw/dm9pZCAwOmcubWFwKG09Pm0uc3RhcnQpLHRoaXMubG9jYXRpb25zPWYmJmM/Zi5tYXAobT0+WWUoYyxtKSk6Zz09bnVsbD92b2lkIDA6Zy5tYXAobT0+WWUobS5zb3VyY2UsbS5zdGFydCkpO2NvbnN0IGI9dm4odT09bnVsbD92b2lkIDA6dS5leHRlbnNpb25zKT91PT1udWxsP3ZvaWQgMDp1LmV4dGVuc2lvbnM6dm9pZCAwO3RoaXMuZXh0ZW5zaW9ucz0ocz15IT1udWxsP3k6YikhPT1udWxsJiZzIT09dm9pZCAwP3M6T2JqZWN0LmNyZWF0ZShudWxsKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHttZXNzYWdlOnt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwfSxuYW1lOntlbnVtZXJhYmxlOiExfSxub2Rlczp7ZW51bWVyYWJsZTohMX0sc291cmNlOntlbnVtZXJhYmxlOiExfSxwb3NpdGlvbnM6e2VudW1lcmFibGU6ITF9LG9yaWdpbmFsRXJyb3I6e2VudW1lcmFibGU6ITF9fSksdSE9bnVsbCYmdS5zdGFjaz9PYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywic3RhY2siLHt2YWx1ZTp1LnN0YWNrLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pOkVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsSmUpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOkVycm9yKCkuc3RhY2ssd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iR3JhcGhRTEVycm9yIn10b1N0cmluZygpe2xldCB0PXRoaXMubWVzc2FnZTtpZih0aGlzLm5vZGVzKWZvcihjb25zdCBuIG9mIHRoaXMubm9kZXMpbi5sb2MmJih0Kz1gCgpgK19uKG4ubG9jKSk7ZWxzZSBpZih0aGlzLnNvdXJjZSYmdGhpcy5sb2NhdGlvbnMpZm9yKGNvbnN0IG4gb2YgdGhpcy5sb2NhdGlvbnMpdCs9YAoKYCtFdCh0aGlzLnNvdXJjZSxuKTtyZXR1cm4gdH10b0pTT04oKXtjb25zdCB0PXttZXNzYWdlOnRoaXMubWVzc2FnZX07cmV0dXJuIHRoaXMubG9jYXRpb25zIT1udWxsJiYodC5sb2NhdGlvbnM9dGhpcy5sb2NhdGlvbnMpLHRoaXMucGF0aCE9bnVsbCYmKHQucGF0aD10aGlzLnBhdGgpLHRoaXMuZXh0ZW5zaW9ucyE9bnVsbCYmT2JqZWN0LmtleXModGhpcy5leHRlbnNpb25zKS5sZW5ndGg+MCYmKHQuZXh0ZW5zaW9ucz10aGlzLmV4dGVuc2lvbnMpLHR9fWZ1bmN0aW9uIFR0KGUpe3JldHVybiBlPT09dm9pZCAwfHxlLmxlbmd0aD09PTA/dm9pZCAwOmV9ZnVuY3Rpb24gRyhlLHQsbil7cmV0dXJuIG5ldyBKZShgU3ludGF4IEVycm9yOiAke259YCx7c291cmNlOmUscG9zaXRpb25zOlt0XX0pfWNsYXNzIGJue2NvbnN0cnVjdG9yKHQsbixpKXt0aGlzLnN0YXJ0PXQuc3RhcnQsdGhpcy5lbmQ9bi5lbmQsdGhpcy5zdGFydFRva2VuPXQsdGhpcy5lbmRUb2tlbj1uLHRoaXMuc291cmNlPWl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iTG9jYXRpb24ifXRvSlNPTigpe3JldHVybntzdGFydDp0aGlzLnN0YXJ0LGVuZDp0aGlzLmVuZH19fWNsYXNzIGJ0e2NvbnN0cnVjdG9yKHQsbixpLHIscyxvKXt0aGlzLmtpbmQ9dCx0aGlzLnN0YXJ0PW4sdGhpcy5lbmQ9aSx0aGlzLmxpbmU9cix0aGlzLmNvbHVtbj1zLHRoaXMudmFsdWU9byx0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbH1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJUb2tlbiJ9dG9KU09OKCl7cmV0dXJue2tpbmQ6dGhpcy5raW5kLHZhbHVlOnRoaXMudmFsdWUsbGluZTp0aGlzLmxpbmUsY29sdW1uOnRoaXMuY29sdW1ufX19Y29uc3QgTnQ9e05hbWU6W10sRG9jdW1lbnQ6WyJkZWZpbml0aW9ucyJdLE9wZXJhdGlvbkRlZmluaXRpb246WyJuYW1lIiwidmFyaWFibGVEZWZpbml0aW9ucyIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxWYXJpYWJsZURlZmluaXRpb246WyJ2YXJpYWJsZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkaXJlY3RpdmVzIl0sVmFyaWFibGU6WyJuYW1lIl0sU2VsZWN0aW9uU2V0Olsic2VsZWN0aW9ucyJdLEZpZWxkOlsiYWxpYXMiLCJuYW1lIiwiYXJndW1lbnRzIiwiZGlyZWN0aXZlcyIsInNlbGVjdGlvblNldCJdLEFyZ3VtZW50OlsibmFtZSIsInZhbHVlIl0sRnJhZ21lbnRTcHJlYWQ6WyJuYW1lIiwiZGlyZWN0aXZlcyJdLElubGluZUZyYWdtZW50OlsidHlwZUNvbmRpdGlvbiIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxGcmFnbWVudERlZmluaXRpb246WyJuYW1lIiwidmFyaWFibGVEZWZpbml0aW9ucyIsInR5cGVDb25kaXRpb24iLCJkaXJlY3RpdmVzIiwic2VsZWN0aW9uU2V0Il0sSW50VmFsdWU6W10sRmxvYXRWYWx1ZTpbXSxTdHJpbmdWYWx1ZTpbXSxCb29sZWFuVmFsdWU6W10sTnVsbFZhbHVlOltdLEVudW1WYWx1ZTpbXSxMaXN0VmFsdWU6WyJ2YWx1ZXMiXSxPYmplY3RWYWx1ZTpbImZpZWxkcyJdLE9iamVjdEZpZWxkOlsibmFtZSIsInZhbHVlIl0sRGlyZWN0aXZlOlsibmFtZSIsImFyZ3VtZW50cyJdLE5hbWVkVHlwZTpbIm5hbWUiXSxMaXN0VHlwZTpbInR5cGUiXSxOb25OdWxsVHlwZTpbInR5cGUiXSxTY2hlbWFEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJkaXJlY3RpdmVzIiwib3BlcmF0aW9uVHlwZXMiXSxPcGVyYXRpb25UeXBlRGVmaW5pdGlvbjpbInR5cGUiXSxTY2FsYXJUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiXSxPYmplY3RUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sRmllbGREZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiYXJndW1lbnRzIiwidHlwZSIsImRpcmVjdGl2ZXMiXSxJbnB1dFZhbHVlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkaXJlY3RpdmVzIl0sSW50ZXJmYWNlVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJpbnRlcmZhY2VzIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLFVuaW9uVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwidHlwZXMiXSxFbnVtVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwidmFsdWVzIl0sRW51bVZhbHVlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiXSxJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLERpcmVjdGl2ZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJhcmd1bWVudHMiLCJsb2NhdGlvbnMiXSxTY2hlbWFFeHRlbnNpb246WyJkaXJlY3RpdmVzIiwib3BlcmF0aW9uVHlwZXMiXSxTY2FsYXJUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiXSxPYmplY3RUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sSW50ZXJmYWNlVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJpbnRlcmZhY2VzIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLFVuaW9uVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJkaXJlY3RpdmVzIiwidHlwZXMiXSxFbnVtVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJkaXJlY3RpdmVzIiwidmFsdWVzIl0sSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiLCJmaWVsZHMiXX0sTm49bmV3IFNldChPYmplY3Qua2V5cyhOdCkpO2Z1bmN0aW9uIHh0KGUpe2NvbnN0IHQ9ZT09bnVsbD92b2lkIDA6ZS5raW5kO3JldHVybiB0eXBlb2YgdD09InN0cmluZyImJk5uLmhhcyh0KX12YXIgbGU7KGZ1bmN0aW9uKGUpe2UuUVVFUlk9InF1ZXJ5IixlLk1VVEFUSU9OPSJtdXRhdGlvbiIsZS5TVUJTQ1JJUFRJT049InN1YnNjcmlwdGlvbiJ9KShsZXx8KGxlPXt9KSk7dmFyIFFlOyhmdW5jdGlvbihlKXtlLlFVRVJZPSJRVUVSWSIsZS5NVVRBVElPTj0iTVVUQVRJT04iLGUuU1VCU0NSSVBUSU9OPSJTVUJTQ1JJUFRJT04iLGUuRklFTEQ9IkZJRUxEIixlLkZSQUdNRU5UX0RFRklOSVRJT049IkZSQUdNRU5UX0RFRklOSVRJT04iLGUuRlJBR01FTlRfU1BSRUFEPSJGUkFHTUVOVF9TUFJFQUQiLGUuSU5MSU5FX0ZSQUdNRU5UPSJJTkxJTkVfRlJBR01FTlQiLGUuVkFSSUFCTEVfREVGSU5JVElPTj0iVkFSSUFCTEVfREVGSU5JVElPTiIsZS5TQ0hFTUE9IlNDSEVNQSIsZS5TQ0FMQVI9IlNDQUxBUiIsZS5PQkpFQ1Q9Ik9CSkVDVCIsZS5GSUVMRF9ERUZJTklUSU9OPSJGSUVMRF9ERUZJTklUSU9OIixlLkFSR1VNRU5UX0RFRklOSVRJT049IkFSR1VNRU5UX0RFRklOSVRJT04iLGUuSU5URVJGQUNFPSJJTlRFUkZBQ0UiLGUuVU5JT049IlVOSU9OIixlLkVOVU09IkVOVU0iLGUuRU5VTV9WQUxVRT0iRU5VTV9WQUxVRSIsZS5JTlBVVF9PQkpFQ1Q9IklOUFVUX09CSkVDVCIsZS5JTlBVVF9GSUVMRF9ERUZJTklUSU9OPSJJTlBVVF9GSUVMRF9ERUZJTklUSU9OIn0pKFFlfHwoUWU9e30pKTt2YXIgVDsoZnVuY3Rpb24oZSl7ZS5OQU1FPSJOYW1lIixlLkRPQ1VNRU5UPSJEb2N1bWVudCIsZS5PUEVSQVRJT05fREVGSU5JVElPTj0iT3BlcmF0aW9uRGVmaW5pdGlvbiIsZS5WQVJJQUJMRV9ERUZJTklUSU9OPSJWYXJpYWJsZURlZmluaXRpb24iLGUuU0VMRUNUSU9OX1NFVD0iU2VsZWN0aW9uU2V0IixlLkZJRUxEPSJGaWVsZCIsZS5BUkdVTUVOVD0iQXJndW1lbnQiLGUuRlJBR01FTlRfU1BSRUFEPSJGcmFnbWVudFNwcmVhZCIsZS5JTkxJTkVfRlJBR01FTlQ9IklubGluZUZyYWdtZW50IixlLkZSQUdNRU5UX0RFRklOSVRJT049IkZyYWdtZW50RGVmaW5pdGlvbiIsZS5WQVJJQUJMRT0iVmFyaWFibGUiLGUuSU5UPSJJbnRWYWx1ZSIsZS5GTE9BVD0iRmxvYXRWYWx1ZSIsZS5TVFJJTkc9IlN0cmluZ1ZhbHVlIixlLkJPT0xFQU49IkJvb2xlYW5WYWx1ZSIsZS5OVUxMPSJOdWxsVmFsdWUiLGUuRU5VTT0iRW51bVZhbHVlIixlLkxJU1Q9Ikxpc3RWYWx1ZSIsZS5PQkpFQ1Q9Ik9iamVjdFZhbHVlIixlLk9CSkVDVF9GSUVMRD0iT2JqZWN0RmllbGQiLGUuRElSRUNUSVZFPSJEaXJlY3RpdmUiLGUuTkFNRURfVFlQRT0iTmFtZWRUeXBlIixlLkxJU1RfVFlQRT0iTGlzdFR5cGUiLGUuTk9OX05VTExfVFlQRT0iTm9uTnVsbFR5cGUiLGUuU0NIRU1BX0RFRklOSVRJT049IlNjaGVtYURlZmluaXRpb24iLGUuT1BFUkFUSU9OX1RZUEVfREVGSU5JVElPTj0iT3BlcmF0aW9uVHlwZURlZmluaXRpb24iLGUuU0NBTEFSX1RZUEVfREVGSU5JVElPTj0iU2NhbGFyVHlwZURlZmluaXRpb24iLGUuT0JKRUNUX1RZUEVfREVGSU5JVElPTj0iT2JqZWN0VHlwZURlZmluaXRpb24iLGUuRklFTERfREVGSU5JVElPTj0iRmllbGREZWZpbml0aW9uIixlLklOUFVUX1ZBTFVFX0RFRklOSVRJT049IklucHV0VmFsdWVEZWZpbml0aW9uIixlLklOVEVSRkFDRV9UWVBFX0RFRklOSVRJT049IkludGVyZmFjZVR5cGVEZWZpbml0aW9uIixlLlVOSU9OX1RZUEVfREVGSU5JVElPTj0iVW5pb25UeXBlRGVmaW5pdGlvbiIsZS5FTlVNX1RZUEVfREVGSU5JVElPTj0iRW51bVR5cGVEZWZpbml0aW9uIixlLkVOVU1fVkFMVUVfREVGSU5JVElPTj0iRW51bVZhbHVlRGVmaW5pdGlvbiIsZS5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OPSJJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uIixlLkRJUkVDVElWRV9ERUZJTklUSU9OPSJEaXJlY3RpdmVEZWZpbml0aW9uIixlLlNDSEVNQV9FWFRFTlNJT049IlNjaGVtYUV4dGVuc2lvbiIsZS5TQ0FMQVJfVFlQRV9FWFRFTlNJT049IlNjYWxhclR5cGVFeHRlbnNpb24iLGUuT0JKRUNUX1RZUEVfRVhURU5TSU9OPSJPYmplY3RUeXBlRXh0ZW5zaW9uIixlLklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTj0iSW50ZXJmYWNlVHlwZUV4dGVuc2lvbiIsZS5VTklPTl9UWVBFX0VYVEVOU0lPTj0iVW5pb25UeXBlRXh0ZW5zaW9uIixlLkVOVU1fVFlQRV9FWFRFTlNJT049IkVudW1UeXBlRXh0ZW5zaW9uIixlLklOUFVUX09CSkVDVF9UWVBFX0VYVEVOU0lPTj0iSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uIn0pKFR8fChUPXt9KSk7ZnVuY3Rpb24gWGUoZSl7cmV0dXJuIGU9PT05fHxlPT09MzJ9ZnVuY3Rpb24gTmUoZSl7cmV0dXJuIGU+PTQ4JiZlPD01N31mdW5jdGlvbiBBdChlKXtyZXR1cm4gZT49OTcmJmU8PTEyMnx8ZT49NjUmJmU8PTkwfWZ1bmN0aW9uIEl0KGUpe3JldHVybiBBdChlKXx8ZT09PTk1fWZ1bmN0aW9uIHhuKGUpe3JldHVybiBBdChlKXx8TmUoZSl8fGU9PT05NX1mdW5jdGlvbiBBbihlKXt2YXIgdDtsZXQgbj1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUixpPW51bGwscj0tMTtmb3IobGV0IG89MDtvPGUubGVuZ3RoOysrbyl7dmFyIHM7Y29uc3QgYz1lW29dLGY9SW4oYyk7ZiE9PWMubGVuZ3RoJiYoaT0ocz1pKSE9PW51bGwmJnMhPT12b2lkIDA/czpvLHI9byxvIT09MCYmZjxuJiYobj1mKSl9cmV0dXJuIGUubWFwKChvLGMpPT5jPT09MD9vOm8uc2xpY2UobikpLnNsaWNlKCh0PWkpIT09bnVsbCYmdCE9PXZvaWQgMD90OjAscisxKX1mdW5jdGlvbiBJbihlKXtsZXQgdD0wO2Zvcig7dDxlLmxlbmd0aCYmWGUoZS5jaGFyQ29kZUF0KHQpKTspKyt0O3JldHVybiB0fWZ1bmN0aW9uIE9uKGUsdCl7Y29uc3Qgbj1lLnJlcGxhY2UoLyIiIi9nLCdcXCIiIicpLGk9bi5zcGxpdCgvXHJcbnxbXG5ccl0vZykscj1pLmxlbmd0aD09PTEscz1pLmxlbmd0aD4xJiZpLnNsaWNlKDEpLmV2ZXJ5KGI9PmIubGVuZ3RoPT09MHx8WGUoYi5jaGFyQ29kZUF0KDApKSksbz1uLmVuZHNXaXRoKCdcXCIiIicpLGM9ZS5lbmRzV2l0aCgnIicpJiYhbyxmPWUuZW5kc1dpdGgoIlxcIiksZD1jfHxmLHU9IXJ8fGUubGVuZ3RoPjcwfHxkfHxzfHxvO2xldCB5PSIiO2NvbnN0IGc9ciYmWGUoZS5jaGFyQ29kZUF0KDApKTtyZXR1cm4odSYmIWd8fHMpJiYoeSs9YApgKSx5Kz1uLCh1fHxkKSYmKHkrPWAKYCksJyIiIicreSsnIiIiJ312YXIgbDsoZnVuY3Rpb24oZSl7ZS5TT0Y9IjxTT0Y+IixlLkVPRj0iPEVPRj4iLGUuQkFORz0iISIsZS5ET0xMQVI9IiQiLGUuQU1QPSImIixlLlBBUkVOX0w9IigiLGUuUEFSRU5fUj0iKSIsZS5TUFJFQUQ9Ii4uLiIsZS5DT0xPTj0iOiIsZS5FUVVBTFM9Ij0iLGUuQVQ9IkAiLGUuQlJBQ0tFVF9MPSJbIixlLkJSQUNLRVRfUj0iXSIsZS5CUkFDRV9MPSJ7IixlLlBJUEU9InwiLGUuQlJBQ0VfUj0ifSIsZS5OQU1FPSJOYW1lIixlLklOVD0iSW50IixlLkZMT0FUPSJGbG9hdCIsZS5TVFJJTkc9IlN0cmluZyIsZS5CTE9DS19TVFJJTkc9IkJsb2NrU3RyaW5nIixlLkNPTU1FTlQ9IkNvbW1lbnQifSkobHx8KGw9e30pKTtjbGFzcyBTbntjb25zdHJ1Y3Rvcih0KXtjb25zdCBuPW5ldyBidChsLlNPRiwwLDAsMCwwKTt0aGlzLnNvdXJjZT10LHRoaXMubGFzdFRva2VuPW4sdGhpcy50b2tlbj1uLHRoaXMubGluZT0xLHRoaXMubGluZVN0YXJ0PTB9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iTGV4ZXIifWFkdmFuY2UoKXtyZXR1cm4gdGhpcy5sYXN0VG9rZW49dGhpcy50b2tlbix0aGlzLnRva2VuPXRoaXMubG9va2FoZWFkKCl9bG9va2FoZWFkKCl7bGV0IHQ9dGhpcy50b2tlbjtpZih0LmtpbmQhPT1sLkVPRilkbyBpZih0Lm5leHQpdD10Lm5leHQ7ZWxzZXtjb25zdCBuPURuKHRoaXMsdC5lbmQpO3QubmV4dD1uLG4ucHJldj10LHQ9bn13aGlsZSh0LmtpbmQ9PT1sLkNPTU1FTlQpO3JldHVybiB0fX1mdW5jdGlvbiB3bihlKXtyZXR1cm4gZT09PWwuQkFOR3x8ZT09PWwuRE9MTEFSfHxlPT09bC5BTVB8fGU9PT1sLlBBUkVOX0x8fGU9PT1sLlBBUkVOX1J8fGU9PT1sLlNQUkVBRHx8ZT09PWwuQ09MT058fGU9PT1sLkVRVUFMU3x8ZT09PWwuQVR8fGU9PT1sLkJSQUNLRVRfTHx8ZT09PWwuQlJBQ0tFVF9SfHxlPT09bC5CUkFDRV9MfHxlPT09bC5QSVBFfHxlPT09bC5CUkFDRV9SfWZ1bmN0aW9uIGZlKGUpe3JldHVybiBlPj0wJiZlPD01NTI5NXx8ZT49NTczNDQmJmU8PTExMTQxMTF9ZnVuY3Rpb24gd2UoZSx0KXtyZXR1cm4gT3QoZS5jaGFyQ29kZUF0KHQpKSYmU3QoZS5jaGFyQ29kZUF0KHQrMSkpfWZ1bmN0aW9uIE90KGUpe3JldHVybiBlPj01NTI5NiYmZTw9NTYzMTl9ZnVuY3Rpb24gU3QoZSl7cmV0dXJuIGU+PTU2MzIwJiZlPD01NzM0M31mdW5jdGlvbiBhZShlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keS5jb2RlUG9pbnRBdCh0KTtpZihuPT09dm9pZCAwKXJldHVybiBsLkVPRjtpZihuPj0zMiYmbjw9MTI2KXtjb25zdCBpPVN0cmluZy5mcm9tQ29kZVBvaW50KG4pO3JldHVybiBpPT09JyInP2AnIidgOmAiJHtpfSJgfXJldHVybiJVKyIrbi50b1N0cmluZygxNikudG9VcHBlckNhc2UoKS5wYWRTdGFydCg0LCIwIil9ZnVuY3Rpb24gVihlLHQsbixpLHIpe2NvbnN0IHM9ZS5saW5lLG89MStuLWUubGluZVN0YXJ0O3JldHVybiBuZXcgYnQodCxuLGkscyxvLHIpfWZ1bmN0aW9uIERuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dDtmb3IoO3I8aTspe2NvbnN0IHM9bi5jaGFyQ29kZUF0KHIpO3N3aXRjaChzKXtjYXNlIDY1Mjc5OmNhc2UgOTpjYXNlIDMyOmNhc2UgNDQ6KytyO2NvbnRpbnVlO2Nhc2UgMTA6KytyLCsrZS5saW5lLGUubGluZVN0YXJ0PXI7Y29udGludWU7Y2FzZSAxMzpuLmNoYXJDb2RlQXQocisxKT09PTEwP3IrPTI6KytyLCsrZS5saW5lLGUubGluZVN0YXJ0PXI7Y29udGludWU7Y2FzZSAzNTpyZXR1cm4gQ24oZSxyKTtjYXNlIDMzOnJldHVybiBWKGUsbC5CQU5HLHIscisxKTtjYXNlIDM2OnJldHVybiBWKGUsbC5ET0xMQVIscixyKzEpO2Nhc2UgMzg6cmV0dXJuIFYoZSxsLkFNUCxyLHIrMSk7Y2FzZSA0MDpyZXR1cm4gVihlLGwuUEFSRU5fTCxyLHIrMSk7Y2FzZSA0MTpyZXR1cm4gVihlLGwuUEFSRU5fUixyLHIrMSk7Y2FzZSA0NjppZihuLmNoYXJDb2RlQXQocisxKT09PTQ2JiZuLmNoYXJDb2RlQXQocisyKT09PTQ2KXJldHVybiBWKGUsbC5TUFJFQUQscixyKzMpO2JyZWFrO2Nhc2UgNTg6cmV0dXJuIFYoZSxsLkNPTE9OLHIscisxKTtjYXNlIDYxOnJldHVybiBWKGUsbC5FUVVBTFMscixyKzEpO2Nhc2UgNjQ6cmV0dXJuIFYoZSxsLkFULHIscisxKTtjYXNlIDkxOnJldHVybiBWKGUsbC5CUkFDS0VUX0wscixyKzEpO2Nhc2UgOTM6cmV0dXJuIFYoZSxsLkJSQUNLRVRfUixyLHIrMSk7Y2FzZSAxMjM6cmV0dXJuIFYoZSxsLkJSQUNFX0wscixyKzEpO2Nhc2UgMTI0OnJldHVybiBWKGUsbC5QSVBFLHIscisxKTtjYXNlIDEyNTpyZXR1cm4gVihlLGwuQlJBQ0VfUixyLHIrMSk7Y2FzZSAzNDpyZXR1cm4gbi5jaGFyQ29kZUF0KHIrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHIrMik9PT0zND9CbihlLHIpOlJuKGUscil9aWYoTmUocyl8fHM9PT00NSlyZXR1cm4ga24oZSxyLHMpO2lmKEl0KHMpKXJldHVybiAkbihlLHIpO3Rocm93IEcoZS5zb3VyY2UscixzPT09Mzk/YFVuZXhwZWN0ZWQgc2luZ2xlIHF1b3RlIGNoYXJhY3RlciAoJyksIGRpZCB5b3UgbWVhbiB0byB1c2UgYSBkb3VibGUgcXVvdGUgKCIpP2A6ZmUocyl8fHdlKG4scik/YFVuZXhwZWN0ZWQgY2hhcmFjdGVyOiAke2FlKGUscil9LmA6YEludmFsaWQgY2hhcmFjdGVyOiAke2FlKGUscil9LmApfXJldHVybiBWKGUsbC5FT0YsaSxpKX1mdW5jdGlvbiBDbihlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keSxpPW4ubGVuZ3RoO2xldCByPXQrMTtmb3IoO3I8aTspe2NvbnN0IHM9bi5jaGFyQ29kZUF0KHIpO2lmKHM9PT0xMHx8cz09PTEzKWJyZWFrO2lmKGZlKHMpKSsrcjtlbHNlIGlmKHdlKG4scikpcis9MjtlbHNlIGJyZWFrfXJldHVybiBWKGUsbC5DT01NRU5ULHQscixuLnNsaWNlKHQrMSxyKSl9ZnVuY3Rpb24ga24oZSx0LG4pe2NvbnN0IGk9ZS5zb3VyY2UuYm9keTtsZXQgcj10LHM9bixvPSExO2lmKHM9PT00NSYmKHM9aS5jaGFyQ29kZUF0KCsrcikpLHM9PT00OCl7aWYocz1pLmNoYXJDb2RlQXQoKytyKSxOZShzKSl0aHJvdyBHKGUuc291cmNlLHIsYEludmFsaWQgbnVtYmVyLCB1bmV4cGVjdGVkIGRpZ2l0IGFmdGVyIDA6ICR7YWUoZSxyKX0uYCl9ZWxzZSByPVdlKGUscixzKSxzPWkuY2hhckNvZGVBdChyKTtpZihzPT09NDYmJihvPSEwLHM9aS5jaGFyQ29kZUF0KCsrcikscj1XZShlLHIscykscz1pLmNoYXJDb2RlQXQocikpLChzPT09Njl8fHM9PT0xMDEpJiYobz0hMCxzPWkuY2hhckNvZGVBdCgrK3IpLChzPT09NDN8fHM9PT00NSkmJihzPWkuY2hhckNvZGVBdCgrK3IpKSxyPVdlKGUscixzKSxzPWkuY2hhckNvZGVBdChyKSkscz09PTQ2fHxJdChzKSl0aHJvdyBHKGUuc291cmNlLHIsYEludmFsaWQgbnVtYmVyLCBleHBlY3RlZCBkaWdpdCBidXQgZ290OiAke2FlKGUscil9LmApO3JldHVybiBWKGUsbz9sLkZMT0FUOmwuSU5ULHQscixpLnNsaWNlKHQscikpfWZ1bmN0aW9uIFdlKGUsdCxuKXtpZighTmUobikpdGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIG51bWJlciwgZXhwZWN0ZWQgZGlnaXQgYnV0IGdvdDogJHthZShlLHQpfS5gKTtjb25zdCBpPWUuc291cmNlLmJvZHk7bGV0IHI9dCsxO2Zvcig7TmUoaS5jaGFyQ29kZUF0KHIpKTspKytyO3JldHVybiByfWZ1bmN0aW9uIFJuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dCsxLHM9cixvPSIiO2Zvcig7cjxpOyl7Y29uc3QgYz1uLmNoYXJDb2RlQXQocik7aWYoYz09PTM0KXJldHVybiBvKz1uLnNsaWNlKHMsciksVihlLGwuU1RSSU5HLHQscisxLG8pO2lmKGM9PT05Mil7bys9bi5zbGljZShzLHIpO2NvbnN0IGY9bi5jaGFyQ29kZUF0KHIrMSk9PT0xMTc/bi5jaGFyQ29kZUF0KHIrMik9PT0xMjM/TG4oZSxyKTpQbihlLHIpOkZuKGUscik7bys9Zi52YWx1ZSxyKz1mLnNpemUscz1yO2NvbnRpbnVlfWlmKGM9PT0xMHx8Yz09PTEzKWJyZWFrO2lmKGZlKGMpKSsrcjtlbHNlIGlmKHdlKG4scikpcis9MjtlbHNlIHRocm93IEcoZS5zb3VyY2UscixgSW52YWxpZCBjaGFyYWN0ZXIgd2l0aGluIFN0cmluZzogJHthZShlLHIpfS5gKX10aHJvdyBHKGUuc291cmNlLHIsIlVudGVybWluYXRlZCBzdHJpbmcuIil9ZnVuY3Rpb24gTG4oZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7bGV0IGk9MCxyPTM7Zm9yKDtyPDEyOyl7Y29uc3Qgcz1uLmNoYXJDb2RlQXQodCtyKyspO2lmKHM9PT0xMjUpe2lmKHI8NXx8IWZlKGkpKWJyZWFrO3JldHVybnt2YWx1ZTpTdHJpbmcuZnJvbUNvZGVQb2ludChpKSxzaXplOnJ9fWlmKGk9aTw8NHx4ZShzKSxpPDApYnJlYWt9dGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCtyKX0iLmApfWZ1bmN0aW9uIFBuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9d3Qobix0KzIpO2lmKGZlKGkpKXJldHVybnt2YWx1ZTpTdHJpbmcuZnJvbUNvZGVQb2ludChpKSxzaXplOjZ9O2lmKE90KGkpJiZuLmNoYXJDb2RlQXQodCs2KT09PTkyJiZuLmNoYXJDb2RlQXQodCs3KT09PTExNyl7Y29uc3Qgcj13dChuLHQrOCk7aWYoU3QocikpcmV0dXJue3ZhbHVlOlN0cmluZy5mcm9tQ29kZVBvaW50KGksciksc2l6ZToxMn19dGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCs2KX0iLmApfWZ1bmN0aW9uIHd0KGUsdCl7cmV0dXJuIHhlKGUuY2hhckNvZGVBdCh0KSk8PDEyfHhlKGUuY2hhckNvZGVBdCh0KzEpKTw8OHx4ZShlLmNoYXJDb2RlQXQodCsyKSk8PDR8eGUoZS5jaGFyQ29kZUF0KHQrMykpfWZ1bmN0aW9uIHhlKGUpe3JldHVybiBlPj00OCYmZTw9NTc/ZS00ODplPj02NSYmZTw9NzA/ZS01NTplPj05NyYmZTw9MTAyP2UtODc6LTF9ZnVuY3Rpb24gRm4oZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7c3dpdGNoKG4uY2hhckNvZGVBdCh0KzEpKXtjYXNlIDM0OnJldHVybnt2YWx1ZTonIicsc2l6ZToyfTtjYXNlIDkyOnJldHVybnt2YWx1ZToiXFwiLHNpemU6Mn07Y2FzZSA0NzpyZXR1cm57dmFsdWU6Ii8iLHNpemU6Mn07Y2FzZSA5ODpyZXR1cm57dmFsdWU6IlxiIixzaXplOjJ9O2Nhc2UgMTAyOnJldHVybnt2YWx1ZToiXGYiLHNpemU6Mn07Y2FzZSAxMTA6cmV0dXJue3ZhbHVlOmAKYCxzaXplOjJ9O2Nhc2UgMTE0OnJldHVybnt2YWx1ZToiXHIiLHNpemU6Mn07Y2FzZSAxMTY6cmV0dXJue3ZhbHVlOiIJIixzaXplOjJ9fXRocm93IEcoZS5zb3VyY2UsdCxgSW52YWxpZCBjaGFyYWN0ZXIgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCsyKX0iLmApfWZ1bmN0aW9uIEJuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9ZS5saW5lU3RhcnQscz10KzMsbz1zLGM9IiI7Y29uc3QgZj1bXTtmb3IoO3M8aTspe2NvbnN0IGQ9bi5jaGFyQ29kZUF0KHMpO2lmKGQ9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMik9PT0zNCl7Yys9bi5zbGljZShvLHMpLGYucHVzaChjKTtjb25zdCB1PVYoZSxsLkJMT0NLX1NUUklORyx0LHMrMyxBbihmKS5qb2luKGAKYCkpO3JldHVybiBlLmxpbmUrPWYubGVuZ3RoLTEsZS5saW5lU3RhcnQ9cix1fWlmKGQ9PT05MiYmbi5jaGFyQ29kZUF0KHMrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMik9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMyk9PT0zNCl7Yys9bi5zbGljZShvLHMpLG89cysxLHMrPTQ7Y29udGludWV9aWYoZD09PTEwfHxkPT09MTMpe2MrPW4uc2xpY2UobyxzKSxmLnB1c2goYyksZD09PTEzJiZuLmNoYXJDb2RlQXQocysxKT09PTEwP3MrPTI6KytzLGM9IiIsbz1zLHI9cztjb250aW51ZX1pZihmZShkKSkrK3M7ZWxzZSBpZih3ZShuLHMpKXMrPTI7ZWxzZSB0aHJvdyBHKGUuc291cmNlLHMsYEludmFsaWQgY2hhcmFjdGVyIHdpdGhpbiBTdHJpbmc6ICR7YWUoZSxzKX0uYCl9dGhyb3cgRyhlLnNvdXJjZSxzLCJVbnRlcm1pbmF0ZWQgc3RyaW5nLiIpfWZ1bmN0aW9uICRuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dCsxO2Zvcig7cjxpOyl7Y29uc3Qgcz1uLmNoYXJDb2RlQXQocik7aWYoeG4ocykpKytyO2Vsc2UgYnJlYWt9cmV0dXJuIFYoZSxsLk5BTUUsdCxyLG4uc2xpY2UodCxyKSl9Y29uc3QgTW49MTAsRHQ9MjtmdW5jdGlvbiBaZShlKXtyZXR1cm4gRGUoZSxbXSl9ZnVuY3Rpb24gRGUoZSx0KXtzd2l0Y2godHlwZW9mIGUpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7Y2FzZSJmdW5jdGlvbiI6cmV0dXJuIGUubmFtZT9gW2Z1bmN0aW9uICR7ZS5uYW1lfV1gOiJbZnVuY3Rpb25dIjtjYXNlIm9iamVjdCI6cmV0dXJuIFVuKGUsdCk7ZGVmYXVsdDpyZXR1cm4gU3RyaW5nKGUpfX1mdW5jdGlvbiBVbihlLHQpe2lmKGU9PT1udWxsKXJldHVybiJudWxsIjtpZih0LmluY2x1ZGVzKGUpKXJldHVybiJbQ2lyY3VsYXJdIjtjb25zdCBuPVsuLi50LGVdO2lmKFZuKGUpKXtjb25zdCBpPWUudG9KU09OKCk7aWYoaSE9PWUpcmV0dXJuIHR5cGVvZiBpPT0ic3RyaW5nIj9pOkRlKGksbil9ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBxbihlLG4pO3JldHVybiBqbihlLG4pfWZ1bmN0aW9uIFZuKGUpe3JldHVybiB0eXBlb2YgZS50b0pTT049PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gam4oZSx0KXtjb25zdCBuPU9iamVjdC5lbnRyaWVzKGUpO3JldHVybiBuLmxlbmd0aD09PTA/Int9Ijp0Lmxlbmd0aD5EdD8iWyIrR24oZSkrIl0iOiJ7ICIrbi5tYXAoKFtyLHNdKT0+cisiOiAiK0RlKHMsdCkpLmpvaW4oIiwgIikrIiB9In1mdW5jdGlvbiBxbihlLHQpe2lmKGUubGVuZ3RoPT09MClyZXR1cm4iW10iO2lmKHQubGVuZ3RoPkR0KXJldHVybiJbQXJyYXldIjtjb25zdCBuPU1hdGgubWluKE1uLGUubGVuZ3RoKSxpPWUubGVuZ3RoLW4scj1bXTtmb3IobGV0IHM9MDtzPG47KytzKXIucHVzaChEZShlW3NdLHQpKTtyZXR1cm4gaT09PTE/ci5wdXNoKCIuLi4gMSBtb3JlIGl0ZW0iKTppPjEmJnIucHVzaChgLi4uICR7aX0gbW9yZSBpdGVtc2ApLCJbIityLmpvaW4oIiwgIikrIl0ifWZ1bmN0aW9uIEduKGUpe2NvbnN0IHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnJlcGxhY2UoL15cW29iamVjdCAvLCIiKS5yZXBsYWNlKC9dJC8sIiIpO2lmKHQ9PT0iT2JqZWN0IiYmdHlwZW9mIGUuY29uc3RydWN0b3I9PSJmdW5jdGlvbiIpe2NvbnN0IG49ZS5jb25zdHJ1Y3Rvci5uYW1lO2lmKHR5cGVvZiBuPT0ic3RyaW5nIiYmbiE9PSIiKXJldHVybiBufXJldHVybiB0fWNvbnN0IEhuPWdsb2JhbFRoaXMucHJvY2VzcyYmZ2xvYmFsVGhpcy5wcm9jZXNzLmVudi5OT0RFX0VOVj09PSJwcm9kdWN0aW9uIj9mdW5jdGlvbih0LG4pe3JldHVybiB0IGluc3RhbmNlb2Ygbn06ZnVuY3Rpb24odCxuKXtpZih0IGluc3RhbmNlb2YgbilyZXR1cm4hMDtpZih0eXBlb2YgdD09Im9iamVjdCImJnQhPT1udWxsKXt2YXIgaTtjb25zdCByPW4ucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ10scz1TeW1ib2wudG9TdHJpbmdUYWcgaW4gdD90W1N5bWJvbC50b1N0cmluZ1RhZ106KGk9dC5jb25zdHJ1Y3Rvcik9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLm5hbWU7aWYocj09PXMpe2NvbnN0IG89WmUodCk7dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgdXNlICR7cn0gIiR7b30iIGZyb20gYW5vdGhlciBtb2R1bGUgb3IgcmVhbG0uCgpFbnN1cmUgdGhhdCB0aGVyZSBpcyBvbmx5IG9uZSBpbnN0YW5jZSBvZiAiZ3JhcGhxbCIgaW4gdGhlIG5vZGVfbW9kdWxlcwpkaXJlY3RvcnkuIElmIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiAiZ3JhcGhxbCIgYXJlIHRoZSBkZXBlbmRlbmNpZXMgb2Ygb3RoZXIKcmVsaWVkIG9uIG1vZHVsZXMsIHVzZSAicmVzb2x1dGlvbnMiIHRvIGVuc3VyZSBvbmx5IG9uZSB2ZXJzaW9uIGlzIGluc3RhbGxlZC4KCmh0dHBzOi8veWFybnBrZy5jb20vZW4vZG9jcy9zZWxlY3RpdmUtdmVyc2lvbi1yZXNvbHV0aW9ucwoKRHVwbGljYXRlICJncmFwaHFsIiBtb2R1bGVzIGNhbm5vdCBiZSB1c2VkIGF0IHRoZSBzYW1lIHRpbWUgc2luY2UgZGlmZmVyZW50CnZlcnNpb25zIG1heSBoYXZlIGRpZmZlcmVudCBjYXBhYmlsaXRpZXMgYW5kIGJlaGF2aW9yLiBUaGUgZGF0YSBmcm9tIG9uZQp2ZXJzaW9uIHVzZWQgaW4gdGhlIGZ1bmN0aW9uIGZyb20gYW5vdGhlciBjb3VsZCBwcm9kdWNlIGNvbmZ1c2luZyBhbmQKc3B1cmlvdXMgcmVzdWx0cy5gKX19cmV0dXJuITF9O2NsYXNzIEN0e2NvbnN0cnVjdG9yKHQsbj0iR3JhcGhRTCByZXF1ZXN0IixpPXtsaW5lOjEsY29sdW1uOjF9KXt0eXBlb2YgdD09InN0cmluZyJ8fFNlKCExLGBCb2R5IG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkOiAke1plKHQpfS5gKSx0aGlzLmJvZHk9dCx0aGlzLm5hbWU9bix0aGlzLmxvY2F0aW9uT2Zmc2V0PWksdGhpcy5sb2NhdGlvbk9mZnNldC5saW5lPjB8fFNlKCExLCJsaW5lIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4iKSx0aGlzLmxvY2F0aW9uT2Zmc2V0LmNvbHVtbj4wfHxTZSghMSwiY29sdW1uIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4iKX1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJTb3VyY2UifX1mdW5jdGlvbiB6bihlKXtyZXR1cm4gSG4oZSxDdCl9ZnVuY3Rpb24ga3QoZSx0KXtyZXR1cm4gbmV3IFluKGUsdCkucGFyc2VEb2N1bWVudCgpfWNsYXNzIFlue2NvbnN0cnVjdG9yKHQsbj17fSl7Y29uc3QgaT16bih0KT90Om5ldyBDdCh0KTt0aGlzLl9sZXhlcj1uZXcgU24oaSksdGhpcy5fb3B0aW9ucz1uLHRoaXMuX3Rva2VuQ291bnRlcj0wfXBhcnNlTmFtZSgpe2NvbnN0IHQ9dGhpcy5leHBlY3RUb2tlbihsLk5BTUUpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk5BTUUsdmFsdWU6dC52YWx1ZX0pfXBhcnNlRG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuRE9DVU1FTlQsZGVmaW5pdGlvbnM6dGhpcy5tYW55KGwuU09GLHRoaXMucGFyc2VEZWZpbml0aW9uLGwuRU9GKX0pfXBhcnNlRGVmaW5pdGlvbigpe2lmKHRoaXMucGVlayhsLkJSQUNFX0wpKXJldHVybiB0aGlzLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpO2NvbnN0IHQ9dGhpcy5wZWVrRGVzY3JpcHRpb24oKSxuPXQ/dGhpcy5fbGV4ZXIubG9va2FoZWFkKCk6dGhpcy5fbGV4ZXIudG9rZW47aWYobi5raW5kPT09bC5OQU1FKXtzd2l0Y2gobi52YWx1ZSl7Y2FzZSJzY2hlbWEiOnJldHVybiB0aGlzLnBhcnNlU2NoZW1hRGVmaW5pdGlvbigpO2Nhc2Uic2NhbGFyIjpyZXR1cm4gdGhpcy5wYXJzZVNjYWxhclR5cGVEZWZpbml0aW9uKCk7Y2FzZSJ0eXBlIjpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdFR5cGVEZWZpbml0aW9uKCk7Y2FzZSJpbnRlcmZhY2UiOnJldHVybiB0aGlzLnBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24oKTtjYXNlInVuaW9uIjpyZXR1cm4gdGhpcy5wYXJzZVVuaW9uVHlwZURlZmluaXRpb24oKTtjYXNlImVudW0iOnJldHVybiB0aGlzLnBhcnNlRW51bVR5cGVEZWZpbml0aW9uKCk7Y2FzZSJpbnB1dCI6cmV0dXJuIHRoaXMucGFyc2VJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uKCk7Y2FzZSJkaXJlY3RpdmUiOnJldHVybiB0aGlzLnBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpfWlmKHQpdGhyb3cgRyh0aGlzLl9sZXhlci5zb3VyY2UsdGhpcy5fbGV4ZXIudG9rZW4uc3RhcnQsIlVuZXhwZWN0ZWQgZGVzY3JpcHRpb24sIGRlc2NyaXB0aW9ucyBhcmUgc3VwcG9ydGVkIG9ubHkgb24gdHlwZSBkZWZpbml0aW9ucy4iKTtzd2l0Y2gobi52YWx1ZSl7Y2FzZSJxdWVyeSI6Y2FzZSJtdXRhdGlvbiI6Y2FzZSJzdWJzY3JpcHRpb24iOnJldHVybiB0aGlzLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpO2Nhc2UiZnJhZ21lbnQiOnJldHVybiB0aGlzLnBhcnNlRnJhZ21lbnREZWZpbml0aW9uKCk7Y2FzZSJleHRlbmQiOnJldHVybiB0aGlzLnBhcnNlVHlwZVN5c3RlbUV4dGVuc2lvbigpfX10aHJvdyB0aGlzLnVuZXhwZWN0ZWQobil9cGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjtpZih0aGlzLnBlZWsobC5CUkFDRV9MKSlyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5PUEVSQVRJT05fREVGSU5JVElPTixvcGVyYXRpb246bGUuUVVFUlksbmFtZTp2b2lkIDAsdmFyaWFibGVEZWZpbml0aW9uczpbXSxkaXJlY3RpdmVzOltdLHNlbGVjdGlvblNldDp0aGlzLnBhcnNlU2VsZWN0aW9uU2V0KCl9KTtjb25zdCBuPXRoaXMucGFyc2VPcGVyYXRpb25UeXBlKCk7bGV0IGk7cmV0dXJuIHRoaXMucGVlayhsLk5BTUUpJiYoaT10aGlzLnBhcnNlTmFtZSgpKSx0aGlzLm5vZGUodCx7a2luZDpULk9QRVJBVElPTl9ERUZJTklUSU9OLG9wZXJhdGlvbjpuLG5hbWU6aSx2YXJpYWJsZURlZmluaXRpb25zOnRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb25zKCksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pfXBhcnNlT3BlcmF0aW9uVHlwZSgpe2NvbnN0IHQ9dGhpcy5leHBlY3RUb2tlbihsLk5BTUUpO3N3aXRjaCh0LnZhbHVlKXtjYXNlInF1ZXJ5IjpyZXR1cm4gbGUuUVVFUlk7Y2FzZSJtdXRhdGlvbiI6cmV0dXJuIGxlLk1VVEFUSU9OO2Nhc2Uic3Vic2NyaXB0aW9uIjpyZXR1cm4gbGUuU1VCU0NSSVBUSU9OfXRocm93IHRoaXMudW5leHBlY3RlZCh0KX1wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKXtyZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkobC5QQVJFTl9MLHRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb24sbC5QQVJFTl9SKX1wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbigpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6VC5WQVJJQUJMRV9ERUZJTklUSU9OLHZhcmlhYmxlOnRoaXMucGFyc2VWYXJpYWJsZSgpLHR5cGU6KHRoaXMuZXhwZWN0VG9rZW4obC5DT0xPTiksdGhpcy5wYXJzZVR5cGVSZWZlcmVuY2UoKSksZGVmYXVsdFZhbHVlOnRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihsLkVRVUFMUyk/dGhpcy5wYXJzZUNvbnN0VmFsdWVMaXRlcmFsKCk6dm9pZCAwLGRpcmVjdGl2ZXM6dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpfSl9cGFyc2VWYXJpYWJsZSgpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4obC5ET0xMQVIpLHRoaXMubm9kZSh0LHtraW5kOlQuVkFSSUFCTEUsbmFtZTp0aGlzLnBhcnNlTmFtZSgpfSl9cGFyc2VTZWxlY3Rpb25TZXQoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuU0VMRUNUSU9OX1NFVCxzZWxlY3Rpb25zOnRoaXMubWFueShsLkJSQUNFX0wsdGhpcy5wYXJzZVNlbGVjdGlvbixsLkJSQUNFX1IpfSl9cGFyc2VTZWxlY3Rpb24oKXtyZXR1cm4gdGhpcy5wZWVrKGwuU1BSRUFEKT90aGlzLnBhcnNlRnJhZ21lbnQoKTp0aGlzLnBhcnNlRmllbGQoKX1wYXJzZUZpZWxkKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VOYW1lKCk7bGV0IGkscjtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuQ09MT04pPyhpPW4scj10aGlzLnBhcnNlTmFtZSgpKTpyPW4sdGhpcy5ub2RlKHQse2tpbmQ6VC5GSUVMRCxhbGlhczppLG5hbWU6cixhcmd1bWVudHM6dGhpcy5wYXJzZUFyZ3VtZW50cyghMSksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGVlayhsLkJSQUNFX0wpP3RoaXMucGFyc2VTZWxlY3Rpb25TZXQoKTp2b2lkIDB9KX1wYXJzZUFyZ3VtZW50cyh0KXtjb25zdCBuPXQ/dGhpcy5wYXJzZUNvbnN0QXJndW1lbnQ6dGhpcy5wYXJzZUFyZ3VtZW50O3JldHVybiB0aGlzLm9wdGlvbmFsTWFueShsLlBBUkVOX0wsbixsLlBBUkVOX1IpfXBhcnNlQXJndW1lbnQodD0hMSl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbixpPXRoaXMucGFyc2VOYW1lKCk7cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4obC5DT0xPTiksdGhpcy5ub2RlKG4se2tpbmQ6VC5BUkdVTUVOVCxuYW1lOmksdmFsdWU6dGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCh0KX0pfXBhcnNlQ29uc3RBcmd1bWVudCgpe3JldHVybiB0aGlzLnBhcnNlQXJndW1lbnQoITApfXBhcnNlRnJhZ21lbnQoKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0VG9rZW4obC5TUFJFQUQpO2NvbnN0IG49dGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoIm9uIik7cmV0dXJuIW4mJnRoaXMucGVlayhsLk5BTUUpP3RoaXMubm9kZSh0LHtraW5kOlQuRlJBR01FTlRfU1BSRUFELG5hbWU6dGhpcy5wYXJzZUZyYWdtZW50TmFtZSgpLGRpcmVjdGl2ZXM6dGhpcy5wYXJzZURpcmVjdGl2ZXMoITEpfSk6dGhpcy5ub2RlKHQse2tpbmQ6VC5JTkxJTkVfRlJBR01FTlQsdHlwZUNvbmRpdGlvbjpuP3RoaXMucGFyc2VOYW1lZFR5cGUoKTp2b2lkIDAsZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pfXBhcnNlRnJhZ21lbnREZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjtyZXR1cm4gdGhpcy5leHBlY3RLZXl3b3JkKCJmcmFnbWVudCIpLHRoaXMuX29wdGlvbnMuYWxsb3dMZWdhY3lGcmFnbWVudFZhcmlhYmxlcz09PSEwP3RoaXMubm9kZSh0LHtraW5kOlQuRlJBR01FTlRfREVGSU5JVElPTixuYW1lOnRoaXMucGFyc2VGcmFnbWVudE5hbWUoKSx2YXJpYWJsZURlZmluaXRpb25zOnRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb25zKCksdHlwZUNvbmRpdGlvbjoodGhpcy5leHBlY3RLZXl3b3JkKCJvbiIpLHRoaXMucGFyc2VOYW1lZFR5cGUoKSksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pOnRoaXMubm9kZSh0LHtraW5kOlQuRlJBR01FTlRfREVGSU5JVElPTixuYW1lOnRoaXMucGFyc2VGcmFnbWVudE5hbWUoKSx0eXBlQ29uZGl0aW9uOih0aGlzLmV4cGVjdEtleXdvcmQoIm9uIiksdGhpcy5wYXJzZU5hbWVkVHlwZSgpKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VGcmFnbWVudE5hbWUoKXtpZih0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJvbiIpdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMucGFyc2VOYW1lKCl9cGFyc2VWYWx1ZUxpdGVyYWwodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbjtzd2l0Y2gobi5raW5kKXtjYXNlIGwuQlJBQ0tFVF9MOnJldHVybiB0aGlzLnBhcnNlTGlzdCh0KTtjYXNlIGwuQlJBQ0VfTDpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdCh0KTtjYXNlIGwuSU5UOnJldHVybiB0aGlzLmFkdmFuY2VMZXhlcigpLHRoaXMubm9kZShuLHtraW5kOlQuSU5ULHZhbHVlOm4udmFsdWV9KTtjYXNlIGwuRkxPQVQ6cmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksdGhpcy5ub2RlKG4se2tpbmQ6VC5GTE9BVCx2YWx1ZTpuLnZhbHVlfSk7Y2FzZSBsLlNUUklORzpjYXNlIGwuQkxPQ0tfU1RSSU5HOnJldHVybiB0aGlzLnBhcnNlU3RyaW5nTGl0ZXJhbCgpO2Nhc2UgbC5OQU1FOnN3aXRjaCh0aGlzLmFkdmFuY2VMZXhlcigpLG4udmFsdWUpe2Nhc2UidHJ1ZSI6cmV0dXJuIHRoaXMubm9kZShuLHtraW5kOlQuQk9PTEVBTix2YWx1ZTohMH0pO2Nhc2UiZmFsc2UiOnJldHVybiB0aGlzLm5vZGUobix7a2luZDpULkJPT0xFQU4sdmFsdWU6ITF9KTtjYXNlIm51bGwiOnJldHVybiB0aGlzLm5vZGUobix7a2luZDpULk5VTEx9KTtkZWZhdWx0OnJldHVybiB0aGlzLm5vZGUobix7a2luZDpULkVOVU0sdmFsdWU6bi52YWx1ZX0pfWNhc2UgbC5ET0xMQVI6aWYodClpZih0aGlzLmV4cGVjdFRva2VuKGwuRE9MTEFSKSx0aGlzLl9sZXhlci50b2tlbi5raW5kPT09bC5OQU1FKXtjb25zdCBpPXRoaXMuX2xleGVyLnRva2VuLnZhbHVlO3Rocm93IEcodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYFVuZXhwZWN0ZWQgdmFyaWFibGUgIiQke2l9IiBpbiBjb25zdGFudCB2YWx1ZS5gKX1lbHNlIHRocm93IHRoaXMudW5leHBlY3RlZChuKTtyZXR1cm4gdGhpcy5wYXJzZVZhcmlhYmxlKCk7ZGVmYXVsdDp0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKX19cGFyc2VDb25zdFZhbHVlTGl0ZXJhbCgpe3JldHVybiB0aGlzLnBhcnNlVmFsdWVMaXRlcmFsKCEwKX1wYXJzZVN0cmluZ0xpdGVyYWwoKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmFkdmFuY2VMZXhlcigpLHRoaXMubm9kZSh0LHtraW5kOlQuU1RSSU5HLHZhbHVlOnQudmFsdWUsYmxvY2s6dC5raW5kPT09bC5CTE9DS19TVFJJTkd9KX1wYXJzZUxpc3QodCl7Y29uc3Qgbj0oKT0+dGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCh0KTtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuTElTVCx2YWx1ZXM6dGhpcy5hbnkobC5CUkFDS0VUX0wsbixsLkJSQUNLRVRfUil9KX1wYXJzZU9iamVjdCh0KXtjb25zdCBuPSgpPT50aGlzLnBhcnNlT2JqZWN0RmllbGQodCk7cmV0dXJuIHRoaXMubm9kZSh0aGlzLl9sZXhlci50b2tlbix7a2luZDpULk9CSkVDVCxmaWVsZHM6dGhpcy5hbnkobC5CUkFDRV9MLG4sbC5CUkFDRV9SKX0pfXBhcnNlT2JqZWN0RmllbGQodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbixpPXRoaXMucGFyc2VOYW1lKCk7cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4obC5DT0xPTiksdGhpcy5ub2RlKG4se2tpbmQ6VC5PQkpFQ1RfRklFTEQsbmFtZTppLHZhbHVlOnRoaXMucGFyc2VWYWx1ZUxpdGVyYWwodCl9KX1wYXJzZURpcmVjdGl2ZXModCl7Y29uc3Qgbj1bXTtmb3IoO3RoaXMucGVlayhsLkFUKTspbi5wdXNoKHRoaXMucGFyc2VEaXJlY3RpdmUodCkpO3JldHVybiBufXBhcnNlQ29uc3REaXJlY3RpdmVzKCl7cmV0dXJuIHRoaXMucGFyc2VEaXJlY3RpdmVzKCEwKX1wYXJzZURpcmVjdGl2ZSh0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmV4cGVjdFRva2VuKGwuQVQpLHRoaXMubm9kZShuLHtraW5kOlQuRElSRUNUSVZFLG5hbWU6dGhpcy5wYXJzZU5hbWUoKSxhcmd1bWVudHM6dGhpcy5wYXJzZUFyZ3VtZW50cyh0KX0pfXBhcnNlVHlwZVJlZmVyZW5jZSgpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47bGV0IG47aWYodGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuQlJBQ0tFVF9MKSl7Y29uc3QgaT10aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpO3RoaXMuZXhwZWN0VG9rZW4obC5CUkFDS0VUX1IpLG49dGhpcy5ub2RlKHQse2tpbmQ6VC5MSVNUX1RZUEUsdHlwZTppfSl9ZWxzZSBuPXRoaXMucGFyc2VOYW1lZFR5cGUoKTtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuQkFORyk/dGhpcy5ub2RlKHQse2tpbmQ6VC5OT05fTlVMTF9UWVBFLHR5cGU6bn0pOm59cGFyc2VOYW1lZFR5cGUoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuTkFNRURfVFlQRSxuYW1lOnRoaXMucGFyc2VOYW1lKCl9KX1wZWVrRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVrKGwuU1RSSU5HKXx8dGhpcy5wZWVrKGwuQkxPQ0tfU1RSSU5HKX1wYXJzZURlc2NyaXB0aW9uKCl7aWYodGhpcy5wZWVrRGVzY3JpcHRpb24oKSlyZXR1cm4gdGhpcy5wYXJzZVN0cmluZ0xpdGVyYWwoKX1wYXJzZVNjaGVtYURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJzY2hlbWEiKTtjb25zdCBpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMubWFueShsLkJSQUNFX0wsdGhpcy5wYXJzZU9wZXJhdGlvblR5cGVEZWZpbml0aW9uLGwuQlJBQ0VfUik7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuU0NIRU1BX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixkaXJlY3RpdmVzOmksb3BlcmF0aW9uVHlwZXM6cn0pfXBhcnNlT3BlcmF0aW9uVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZU9wZXJhdGlvblR5cGUoKTt0aGlzLmV4cGVjdFRva2VuKGwuQ09MT04pO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWVkVHlwZSgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk9QRVJBVElPTl9UWVBFX0RFRklOSVRJT04sb3BlcmF0aW9uOm4sdHlwZTppfSl9cGFyc2VTY2FsYXJUeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoInNjYWxhciIpO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5TQ0FMQVJfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGRpcmVjdGl2ZXM6cn0pfXBhcnNlT2JqZWN0VHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJ0eXBlIik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCkscz10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCksbz10aGlzLnBhcnNlRmllbGRzRGVmaW5pdGlvbigpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk9CSkVDVF9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksaW50ZXJmYWNlczpyLGRpcmVjdGl2ZXM6cyxmaWVsZHM6b30pfXBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKXtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoImltcGxlbWVudHMiKT90aGlzLmRlbGltaXRlZE1hbnkobC5BTVAsdGhpcy5wYXJzZU5hbWVkVHlwZSk6W119cGFyc2VGaWVsZHNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuQlJBQ0VfTCx0aGlzLnBhcnNlRmllbGREZWZpbml0aW9uLGwuQlJBQ0VfUil9cGFyc2VGaWVsZERlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCksaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUFyZ3VtZW50RGVmcygpO3RoaXMuZXhwZWN0VG9rZW4obC5DT0xPTik7Y29uc3Qgcz10aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpLG89dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULkZJRUxEX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksYXJndW1lbnRzOnIsdHlwZTpzLGRpcmVjdGl2ZXM6b30pfXBhcnNlQXJndW1lbnREZWZzKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuUEFSRU5fTCx0aGlzLnBhcnNlSW5wdXRWYWx1ZURlZixsLlBBUkVOX1IpfXBhcnNlSW5wdXRWYWx1ZURlZigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKSxpPXRoaXMucGFyc2VOYW1lKCk7dGhpcy5leHBlY3RUb2tlbihsLkNPTE9OKTtjb25zdCByPXRoaXMucGFyc2VUeXBlUmVmZXJlbmNlKCk7bGV0IHM7dGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuRVFVQUxTKSYmKHM9dGhpcy5wYXJzZUNvbnN0VmFsdWVMaXRlcmFsKCkpO2NvbnN0IG89dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULklOUFVUX1ZBTFVFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksdHlwZTpyLGRlZmF1bHRWYWx1ZTpzLGRpcmVjdGl2ZXM6b30pfXBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJpbnRlcmZhY2UiKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKSxzPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxvPXRoaXMucGFyc2VGaWVsZHNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuSU5URVJGQUNFX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxpbnRlcmZhY2VzOnIsZGlyZWN0aXZlczpzLGZpZWxkczpvfSl9cGFyc2VVbmlvblR5cGVEZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VEZXNjcmlwdGlvbigpO3RoaXMuZXhwZWN0S2V5d29yZCgidW5pb24iKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlVOSU9OX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxkaXJlY3RpdmVzOnIsdHlwZXM6c30pfXBhcnNlVW5pb25NZW1iZXJUeXBlcygpe3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4obC5FUVVBTFMpP3RoaXMuZGVsaW1pdGVkTWFueShsLlBJUEUsdGhpcy5wYXJzZU5hbWVkVHlwZSk6W119cGFyc2VFbnVtVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJlbnVtIik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRU5VTV9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksZGlyZWN0aXZlczpyLHZhbHVlczpzfSl9cGFyc2VFbnVtVmFsdWVzRGVmaW5pdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbmFsTWFueShsLkJSQUNFX0wsdGhpcy5wYXJzZUVudW1WYWx1ZURlZmluaXRpb24sbC5CUkFDRV9SKX1wYXJzZUVudW1WYWx1ZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCksaT10aGlzLnBhcnNlRW51bVZhbHVlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULkVOVU1fVkFMVUVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxkaXJlY3RpdmVzOnJ9KX1wYXJzZUVudW1WYWx1ZU5hbWUoKXtpZih0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJ0cnVlInx8dGhpcy5fbGV4ZXIudG9rZW4udmFsdWU9PT0iZmFsc2UifHx0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJudWxsIil0aHJvdyBHKHRoaXMuX2xleGVyLnNvdXJjZSx0aGlzLl9sZXhlci50b2tlbi5zdGFydCxgJHtDZSh0aGlzLl9sZXhlci50b2tlbil9IGlzIHJlc2VydmVkIGFuZCBjYW5ub3QgYmUgdXNlZCBmb3IgYW4gZW51bSB2YWx1ZS5gKTtyZXR1cm4gdGhpcy5wYXJzZU5hbWUoKX1wYXJzZUlucHV0T2JqZWN0VHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJpbnB1dCIpO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxzPXRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGRpcmVjdGl2ZXM6cixmaWVsZHM6c30pfXBhcnNlSW5wdXRGaWVsZHNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuQlJBQ0VfTCx0aGlzLnBhcnNlSW5wdXRWYWx1ZURlZixsLkJSQUNFX1IpfXBhcnNlVHlwZVN5c3RlbUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIubG9va2FoZWFkKCk7aWYodC5raW5kPT09bC5OQU1FKXN3aXRjaCh0LnZhbHVlKXtjYXNlInNjaGVtYSI6cmV0dXJuIHRoaXMucGFyc2VTY2hlbWFFeHRlbnNpb24oKTtjYXNlInNjYWxhciI6cmV0dXJuIHRoaXMucGFyc2VTY2FsYXJUeXBlRXh0ZW5zaW9uKCk7Y2FzZSJ0eXBlIjpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdFR5cGVFeHRlbnNpb24oKTtjYXNlImludGVyZmFjZSI6cmV0dXJuIHRoaXMucGFyc2VJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uKCk7Y2FzZSJ1bmlvbiI6cmV0dXJuIHRoaXMucGFyc2VVbmlvblR5cGVFeHRlbnNpb24oKTtjYXNlImVudW0iOnJldHVybiB0aGlzLnBhcnNlRW51bVR5cGVFeHRlbnNpb24oKTtjYXNlImlucHV0IjpyZXR1cm4gdGhpcy5wYXJzZUlucHV0T2JqZWN0VHlwZUV4dGVuc2lvbigpfXRocm93IHRoaXMudW5leHBlY3RlZCh0KX1wYXJzZVNjaGVtYUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoInNjaGVtYSIpO2NvbnN0IG49dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLGk9dGhpcy5vcHRpb25hbE1hbnkobC5CUkFDRV9MLHRoaXMucGFyc2VPcGVyYXRpb25UeXBlRGVmaW5pdGlvbixsLkJSQUNFX1IpO2lmKG4ubGVuZ3RoPT09MCYmaS5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlNDSEVNQV9FWFRFTlNJT04sZGlyZWN0aXZlczpuLG9wZXJhdGlvblR5cGVzOml9KX1wYXJzZVNjYWxhclR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJzY2FsYXIiKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCksaT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7aWYoaS5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlNDQUxBUl9UWVBFX0VYVEVOU0lPTixuYW1lOm4sZGlyZWN0aXZlczppfSl9cGFyc2VPYmplY3RUeXBlRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgidHlwZSIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCYmcy5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk9CSkVDVF9UWVBFX0VYVEVOU0lPTixuYW1lOm4saW50ZXJmYWNlczppLGRpcmVjdGl2ZXM6cixmaWVsZHM6c30pfXBhcnNlSW50ZXJmYWNlVHlwZUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoImludGVyZmFjZSIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCYmcy5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTixuYW1lOm4saW50ZXJmYWNlczppLGRpcmVjdGl2ZXM6cixmaWVsZHM6c30pfXBhcnNlVW5pb25UeXBlRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgidW5pb24iKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCksaT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscj10aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO2lmKGkubGVuZ3RoPT09MCYmci5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlVOSU9OX1RZUEVfRVhURU5TSU9OLG5hbWU6bixkaXJlY3RpdmVzOmksdHlwZXM6cn0pfXBhcnNlRW51bVR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJlbnVtIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLGk9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHI9dGhpcy5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCk7aWYoaS5sZW5ndGg9PT0wJiZyLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRU5VTV9UWVBFX0VYVEVOU0lPTixuYW1lOm4sZGlyZWN0aXZlczppLHZhbHVlczpyfSl9cGFyc2VJbnB1dE9iamVjdFR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJpbnB1dCIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCl0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5JTlBVVF9PQkpFQ1RfVFlQRV9FWFRFTlNJT04sbmFtZTpuLGRpcmVjdGl2ZXM6aSxmaWVsZHM6cn0pfXBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImRpcmVjdGl2ZSIpLHRoaXMuZXhwZWN0VG9rZW4obC5BVCk7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUFyZ3VtZW50RGVmcygpLHM9dGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoInJlcGVhdGFibGUiKTt0aGlzLmV4cGVjdEtleXdvcmQoIm9uIik7Y29uc3Qgbz10aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb25zKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRElSRUNUSVZFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksYXJndW1lbnRzOnIscmVwZWF0YWJsZTpzLGxvY2F0aW9uczpvfSl9cGFyc2VEaXJlY3RpdmVMb2NhdGlvbnMoKXtyZXR1cm4gdGhpcy5kZWxpbWl0ZWRNYW55KGwuUElQRSx0aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb24pfXBhcnNlRGlyZWN0aXZlTG9jYXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZU5hbWUoKTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUWUsbi52YWx1ZSkpcmV0dXJuIG47dGhyb3cgdGhpcy51bmV4cGVjdGVkKHQpfW5vZGUodCxuKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5ub0xvY2F0aW9uIT09ITAmJihuLmxvYz1uZXcgYm4odCx0aGlzLl9sZXhlci5sYXN0VG9rZW4sdGhpcy5fbGV4ZXIuc291cmNlKSksbn1wZWVrKHQpe3JldHVybiB0aGlzLl9sZXhlci50b2tlbi5raW5kPT09dH1leHBlY3RUb2tlbih0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO2lmKG4ua2luZD09PXQpcmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksbjt0aHJvdyBHKHRoaXMuX2xleGVyLnNvdXJjZSxuLnN0YXJ0LGBFeHBlY3RlZCAke1J0KHQpfSwgZm91bmQgJHtDZShuKX0uYCl9ZXhwZWN0T3B0aW9uYWxUb2tlbih0KXtyZXR1cm4gdGhpcy5fbGV4ZXIudG9rZW4ua2luZD09PXQ/KHRoaXMuYWR2YW5jZUxleGVyKCksITApOiExfWV4cGVjdEtleXdvcmQodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbjtpZihuLmtpbmQ9PT1sLk5BTUUmJm4udmFsdWU9PT10KXRoaXMuYWR2YW5jZUxleGVyKCk7ZWxzZSB0aHJvdyBHKHRoaXMuX2xleGVyLnNvdXJjZSxuLnN0YXJ0LGBFeHBlY3RlZCAiJHt0fSIsIGZvdW5kICR7Q2Uobil9LmApfWV4cGVjdE9wdGlvbmFsS2V5d29yZCh0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO3JldHVybiBuLmtpbmQ9PT1sLk5BTUUmJm4udmFsdWU9PT10Pyh0aGlzLmFkdmFuY2VMZXhlcigpLCEwKTohMX11bmV4cGVjdGVkKHQpe2NvbnN0IG49dCE9bnVsbD90OnRoaXMuX2xleGVyLnRva2VuO3JldHVybiBHKHRoaXMuX2xleGVyLnNvdXJjZSxuLnN0YXJ0LGBVbmV4cGVjdGVkICR7Q2Uobil9LmApfWFueSh0LG4saSl7dGhpcy5leHBlY3RUb2tlbih0KTtjb25zdCByPVtdO2Zvcig7IXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihpKTspci5wdXNoKG4uY2FsbCh0aGlzKSk7cmV0dXJuIHJ9b3B0aW9uYWxNYW55KHQsbixpKXtpZih0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4odCkpe2NvbnN0IHI9W107ZG8gci5wdXNoKG4uY2FsbCh0aGlzKSk7d2hpbGUoIXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihpKSk7cmV0dXJuIHJ9cmV0dXJuW119bWFueSh0LG4saSl7dGhpcy5leHBlY3RUb2tlbih0KTtjb25zdCByPVtdO2RvIHIucHVzaChuLmNhbGwodGhpcykpO3doaWxlKCF0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oaSkpO3JldHVybiByfWRlbGltaXRlZE1hbnkodCxuKXt0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4odCk7Y29uc3QgaT1bXTtkbyBpLnB1c2gobi5jYWxsKHRoaXMpKTt3aGlsZSh0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4odCkpO3JldHVybiBpfWFkdmFuY2VMZXhlcigpe2NvbnN0e21heFRva2Vuczp0fT10aGlzLl9vcHRpb25zLG49dGhpcy5fbGV4ZXIuYWR2YW5jZSgpO2lmKHQhPT12b2lkIDAmJm4ua2luZCE9PWwuRU9GJiYoKyt0aGlzLl90b2tlbkNvdW50ZXIsdGhpcy5fdG9rZW5Db3VudGVyPnQpKXRocm93IEcodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYERvY3VtZW50IGNvbnRhaW5zIG1vcmUgdGhhdCAke3R9IHRva2Vucy4gUGFyc2luZyBhYm9ydGVkLmApfX1mdW5jdGlvbiBDZShlKXtjb25zdCB0PWUudmFsdWU7cmV0dXJuIFJ0KGUua2luZCkrKHQhPW51bGw/YCAiJHt0fSJgOiIiKX1mdW5jdGlvbiBSdChlKXtyZXR1cm4gd24oZSk/YCIke2V9ImA6ZX1mdW5jdGlvbiBKbihlKXtyZXR1cm5gIiR7ZS5yZXBsYWNlKFFuLFhuKX0iYH1jb25zdCBRbj0vW1x4MDAtXHgxZlx4MjJceDVjXHg3Zi1ceDlmXS9nO2Z1bmN0aW9uIFhuKGUpe3JldHVybiBXbltlLmNoYXJDb2RlQXQoMCldfWNvbnN0IFduPVsiXFx1MDAwMCIsIlxcdTAwMDEiLCJcXHUwMDAyIiwiXFx1MDAwMyIsIlxcdTAwMDQiLCJcXHUwMDA1IiwiXFx1MDAwNiIsIlxcdTAwMDciLCJcXGIiLCJcXHQiLCJcXG4iLCJcXHUwMDBCIiwiXFxmIiwiXFxyIiwiXFx1MDAwRSIsIlxcdTAwMEYiLCJcXHUwMDEwIiwiXFx1MDAxMSIsIlxcdTAwMTIiLCJcXHUwMDEzIiwiXFx1MDAxNCIsIlxcdTAwMTUiLCJcXHUwMDE2IiwiXFx1MDAxNyIsIlxcdTAwMTgiLCJcXHUwMDE5IiwiXFx1MDAxQSIsIlxcdTAwMUIiLCJcXHUwMDFDIiwiXFx1MDAxRCIsIlxcdTAwMUUiLCJcXHUwMDFGIiwiIiwiIiwnXFwiJywiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiXFxcXCIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIlxcdTAwN0YiLCJcXHUwMDgwIiwiXFx1MDA4MSIsIlxcdTAwODIiLCJcXHUwMDgzIiwiXFx1MDA4NCIsIlxcdTAwODUiLCJcXHUwMDg2IiwiXFx1MDA4NyIsIlxcdTAwODgiLCJcXHUwMDg5IiwiXFx1MDA4QSIsIlxcdTAwOEIiLCJcXHUwMDhDIiwiXFx1MDA4RCIsIlxcdTAwOEUiLCJcXHUwMDhGIiwiXFx1MDA5MCIsIlxcdTAwOTEiLCJcXHUwMDkyIiwiXFx1MDA5MyIsIlxcdTAwOTQiLCJcXHUwMDk1IiwiXFx1MDA5NiIsIlxcdTAwOTciLCJcXHUwMDk4IiwiXFx1MDA5OSIsIlxcdTAwOUEiLCJcXHUwMDlCIiwiXFx1MDA5QyIsIlxcdTAwOUQiLCJcXHUwMDlFIiwiXFx1MDA5RiJdLFpuPU9iamVjdC5mcmVlemUoe30pO2Z1bmN0aW9uIEtuKGUsdCxuPU50KXtjb25zdCBpPW5ldyBNYXA7Zm9yKGNvbnN0IEUgb2YgT2JqZWN0LnZhbHVlcyhUKSlpLnNldChFLGVyKHQsRSkpO2xldCByLHM9QXJyYXkuaXNBcnJheShlKSxvPVtlXSxjPS0xLGY9W10sZD1lLHUseTtjb25zdCBnPVtdLGI9W107ZG97YysrO2NvbnN0IEU9Yz09PW8ubGVuZ3RoLGs9RSYmZi5sZW5ndGghPT0wO2lmKEUpe2lmKHU9Yi5sZW5ndGg9PT0wP3ZvaWQgMDpnW2cubGVuZ3RoLTFdLGQ9eSx5PWIucG9wKCksaylpZihzKXtkPWQuc2xpY2UoKTtsZXQgTD0wO2Zvcihjb25zdFskLHFdb2YgZil7Y29uc3QgTT0kLUw7cT09PW51bGw/KGQuc3BsaWNlKE0sMSksTCsrKTpkW01dPXF9fWVsc2V7ZD1PYmplY3QuZGVmaW5lUHJvcGVydGllcyh7fSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhkKSk7Zm9yKGNvbnN0W0wsJF1vZiBmKWRbTF09JH1jPXIuaW5kZXgsbz1yLmtleXMsZj1yLmVkaXRzLHM9ci5pbkFycmF5LHI9ci5wcmV2fWVsc2UgaWYoeSl7aWYodT1zP2M6b1tjXSxkPXlbdV0sZD09bnVsbCljb250aW51ZTtnLnB1c2godSl9bGV0IHc7aWYoIUFycmF5LmlzQXJyYXkoZCkpe3ZhciBtLE47eHQoZCl8fFNlKCExLGBJbnZhbGlkIEFTVCBOb2RlOiAke1plKGQpfS5gKTtjb25zdCBMPUU/KG09aS5nZXQoZC5raW5kKSk9PT1udWxsfHxtPT09dm9pZCAwP3ZvaWQgMDptLmxlYXZlOihOPWkuZ2V0KGQua2luZCkpPT09bnVsbHx8Tj09PXZvaWQgMD92b2lkIDA6Ti5lbnRlcjtpZih3PUw9PW51bGw/dm9pZCAwOkwuY2FsbCh0LGQsdSx5LGcsYiksdz09PVpuKWJyZWFrO2lmKHc9PT0hMSl7aWYoIUUpe2cucG9wKCk7Y29udGludWV9fWVsc2UgaWYodyE9PXZvaWQgMCYmKGYucHVzaChbdSx3XSksIUUpKWlmKHh0KHcpKWQ9dztlbHNle2cucG9wKCk7Y29udGludWV9fWlmKHc9PT12b2lkIDAmJmsmJmYucHVzaChbdSxkXSksRSlnLnBvcCgpO2Vsc2V7dmFyIHY7cj17aW5BcnJheTpzLGluZGV4OmMsa2V5czpvLGVkaXRzOmYscHJldjpyfSxzPUFycmF5LmlzQXJyYXkoZCksbz1zP2Q6KHY9bltkLmtpbmRdKSE9PW51bGwmJnYhPT12b2lkIDA/djpbXSxjPS0xLGY9W10seSYmYi5wdXNoKHkpLHk9ZH19d2hpbGUociE9PXZvaWQgMCk7cmV0dXJuIGYubGVuZ3RoIT09MD9mW2YubGVuZ3RoLTFdWzFdOmV9ZnVuY3Rpb24gZXIoZSx0KXtjb25zdCBuPWVbdF07cmV0dXJuIHR5cGVvZiBuPT0ib2JqZWN0Ij9uOnR5cGVvZiBuPT0iZnVuY3Rpb24iP3tlbnRlcjpuLGxlYXZlOnZvaWQgMH06e2VudGVyOmUuZW50ZXIsbGVhdmU6ZS5sZWF2ZX19ZnVuY3Rpb24gdHIoZSl7cmV0dXJuIEtuKGUscnIpfWNvbnN0IG5yPTgwLHJyPXtOYW1lOntsZWF2ZTplPT5lLnZhbHVlfSxWYXJpYWJsZTp7bGVhdmU6ZT0+IiQiK2UubmFtZX0sRG9jdW1lbnQ6e2xlYXZlOmU9PnAoZS5kZWZpbml0aW9ucyxgCgpgKX0sT3BlcmF0aW9uRGVmaW5pdGlvbjp7bGVhdmUoZSl7Y29uc3QgdD1TKCIoIixwKGUudmFyaWFibGVEZWZpbml0aW9ucywiLCAiKSwiKSIpLG49cChbZS5vcGVyYXRpb24scChbZS5uYW1lLHRdKSxwKGUuZGlyZWN0aXZlcywiICIpXSwiICIpO3JldHVybihuPT09InF1ZXJ5Ij8iIjpuKyIgIikrZS5zZWxlY3Rpb25TZXR9fSxWYXJpYWJsZURlZmluaXRpb246e2xlYXZlOih7dmFyaWFibGU6ZSx0eXBlOnQsZGVmYXVsdFZhbHVlOm4sZGlyZWN0aXZlczppfSk9PmUrIjogIit0K1MoIiA9ICIsbikrUygiICIscChpLCIgIikpfSxTZWxlY3Rpb25TZXQ6e2xlYXZlOih7c2VsZWN0aW9uczplfSk9PksoZSl9LEZpZWxkOntsZWF2ZSh7YWxpYXM6ZSxuYW1lOnQsYXJndW1lbnRzOm4sZGlyZWN0aXZlczppLHNlbGVjdGlvblNldDpyfSl7Y29uc3Qgcz1TKCIiLGUsIjogIikrdDtsZXQgbz1zK1MoIigiLHAobiwiLCAiKSwiKSIpO3JldHVybiBvLmxlbmd0aD5uciYmKG89cytTKGAoCmAsa2UocChuLGAKYCkpLGAKKWApKSxwKFtvLHAoaSwiICIpLHJdLCIgIil9fSxBcmd1bWVudDp7bGVhdmU6KHtuYW1lOmUsdmFsdWU6dH0pPT5lKyI6ICIrdH0sRnJhZ21lbnRTcHJlYWQ6e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dH0pPT4iLi4uIitlK1MoIiAiLHAodCwiICIpKX0sSW5saW5lRnJhZ21lbnQ6e2xlYXZlOih7dHlwZUNvbmRpdGlvbjplLGRpcmVjdGl2ZXM6dCxzZWxlY3Rpb25TZXQ6bn0pPT5wKFsiLi4uIixTKCJvbiAiLGUpLHAodCwiICIpLG5dLCIgIil9LEZyYWdtZW50RGVmaW5pdGlvbjp7bGVhdmU6KHtuYW1lOmUsdHlwZUNvbmRpdGlvbjp0LHZhcmlhYmxlRGVmaW5pdGlvbnM6bixkaXJlY3RpdmVzOmksc2VsZWN0aW9uU2V0OnJ9KT0+YGZyYWdtZW50ICR7ZX0ke1MoIigiLHAobiwiLCAiKSwiKSIpfSBvbiAke3R9ICR7UygiIixwKGksIiAiKSwiICIpfWArcn0sSW50VmFsdWU6e2xlYXZlOih7dmFsdWU6ZX0pPT5lfSxGbG9hdFZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sU3RyaW5nVmFsdWU6e2xlYXZlOih7dmFsdWU6ZSxibG9jazp0fSk9PnQ/T24oZSk6Sm4oZSl9LEJvb2xlYW5WYWx1ZTp7bGVhdmU6KHt2YWx1ZTplfSk9PmU/InRydWUiOiJmYWxzZSJ9LE51bGxWYWx1ZTp7bGVhdmU6KCk9PiJudWxsIn0sRW51bVZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sTGlzdFZhbHVlOntsZWF2ZTooe3ZhbHVlczplfSk9PiJbIitwKGUsIiwgIikrIl0ifSxPYmplY3RWYWx1ZTp7bGVhdmU6KHtmaWVsZHM6ZX0pPT4ieyIrcChlLCIsICIpKyJ9In0sT2JqZWN0RmllbGQ6e2xlYXZlOih7bmFtZTplLHZhbHVlOnR9KT0+ZSsiOiAiK3R9LERpcmVjdGl2ZTp7bGVhdmU6KHtuYW1lOmUsYXJndW1lbnRzOnR9KT0+IkAiK2UrUygiKCIscCh0LCIsICIpLCIpIil9LE5hbWVkVHlwZTp7bGVhdmU6KHtuYW1lOmV9KT0+ZX0sTGlzdFR5cGU6e2xlYXZlOih7dHlwZTplfSk9PiJbIitlKyJdIn0sTm9uTnVsbFR5cGU6e2xlYXZlOih7dHlwZTplfSk9PmUrIiEifSxTY2hlbWFEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsZGlyZWN0aXZlczp0LG9wZXJhdGlvblR5cGVzOm59KT0+UygiIixlLGAKYCkrcChbInNjaGVtYSIscCh0LCIgIiksSyhuKV0sIiAiKX0sT3BlcmF0aW9uVHlwZURlZmluaXRpb246e2xlYXZlOih7b3BlcmF0aW9uOmUsdHlwZTp0fSk9PmUrIjogIit0fSxTY2FsYXJUeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm59KT0+UygiIixlLGAKYCkrcChbInNjYWxhciIsdCxwKG4sIiAiKV0sIiAiKX0sT2JqZWN0VHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsaW50ZXJmYWNlczpuLGRpcmVjdGl2ZXM6aSxmaWVsZHM6cn0pPT5TKCIiLGUsYApgKStwKFsidHlwZSIsdCxTKCJpbXBsZW1lbnRzICIscChuLCIgJiAiKSkscChpLCIgIiksSyhyKV0sIiAiKX0sRmllbGREZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHR5cGU6aSxkaXJlY3RpdmVzOnJ9KT0+UygiIixlLGAKYCkrdCsoTHQobik/UyhgKApgLGtlKHAobixgCmApKSxgCilgKTpTKCIoIixwKG4sIiwgIiksIikiKSkrIjogIitpK1MoIiAiLHAociwiICIpKX0sSW5wdXRWYWx1ZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsdHlwZTpuLGRlZmF1bHRWYWx1ZTppLGRpcmVjdGl2ZXM6cn0pPT5TKCIiLGUsYApgKStwKFt0KyI6ICIrbixTKCI9ICIsaSkscChyLCIgIildLCIgIil9LEludGVyZmFjZVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGludGVyZmFjZXM6bixkaXJlY3RpdmVzOmksZmllbGRzOnJ9KT0+UygiIixlLGAKYCkrcChbImludGVyZmFjZSIsdCxTKCJpbXBsZW1lbnRzICIscChuLCIgJiAiKSkscChpLCIgIiksSyhyKV0sIiAiKX0sVW5pb25UeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm4sdHlwZXM6aX0pPT5TKCIiLGUsYApgKStwKFsidW5pb24iLHQscChuLCIgIiksUygiPSAiLHAoaSwiIHwgIikpXSwiICIpfSxFbnVtVHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpuLHZhbHVlczppfSk9PlMoIiIsZSxgCmApK3AoWyJlbnVtIix0LHAobiwiICIpLEsoaSldLCIgIil9LEVudW1WYWx1ZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpufSk9PlMoIiIsZSxgCmApK3AoW3QscChuLCIgIildLCIgIil9LElucHV0T2JqZWN0VHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpuLGZpZWxkczppfSk9PlMoIiIsZSxgCmApK3AoWyJpbnB1dCIsdCxwKG4sIiAiKSxLKGkpXSwiICIpfSxEaXJlY3RpdmVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHJlcGVhdGFibGU6aSxsb2NhdGlvbnM6cn0pPT5TKCIiLGUsYApgKSsiZGlyZWN0aXZlIEAiK3QrKEx0KG4pP1MoYCgKYCxrZShwKG4sYApgKSksYAopYCk6UygiKCIscChuLCIsICIpLCIpIikpKyhpPyIgcmVwZWF0YWJsZSI6IiIpKyIgb24gIitwKHIsIiB8ICIpfSxTY2hlbWFFeHRlbnNpb246e2xlYXZlOih7ZGlyZWN0aXZlczplLG9wZXJhdGlvblR5cGVzOnR9KT0+cChbImV4dGVuZCBzY2hlbWEiLHAoZSwiICIpLEsodCldLCIgIil9LFNjYWxhclR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dH0pPT5wKFsiZXh0ZW5kIHNjYWxhciIsZSxwKHQsIiAiKV0sIiAiKX0sT2JqZWN0VHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsaW50ZXJmYWNlczp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6aX0pPT5wKFsiZXh0ZW5kIHR5cGUiLGUsUygiaW1wbGVtZW50cyAiLHAodCwiICYgIikpLHAobiwiICIpLEsoaSldLCIgIil9LEludGVyZmFjZVR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGludGVyZmFjZXM6dCxkaXJlY3RpdmVzOm4sZmllbGRzOml9KT0+cChbImV4dGVuZCBpbnRlcmZhY2UiLGUsUygiaW1wbGVtZW50cyAiLHAodCwiICYgIikpLHAobiwiICIpLEsoaSldLCIgIil9LFVuaW9uVHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsZGlyZWN0aXZlczp0LHR5cGVzOm59KT0+cChbImV4dGVuZCB1bmlvbiIsZSxwKHQsIiAiKSxTKCI9ICIscChuLCIgfCAiKSldLCIgIil9LEVudW1UeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnQsdmFsdWVzOm59KT0+cChbImV4dGVuZCBlbnVtIixlLHAodCwiICIpLEsobildLCIgIil9LElucHV0T2JqZWN0VHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsZGlyZWN0aXZlczp0LGZpZWxkczpufSk9PnAoWyJleHRlbmQgaW5wdXQiLGUscCh0LCIgIiksSyhuKV0sIiAiKX19O2Z1bmN0aW9uIHAoZSx0PSIiKXt2YXIgbjtyZXR1cm4obj1lPT1udWxsP3ZvaWQgMDplLmZpbHRlcihpPT5pKS5qb2luKHQpKSE9PW51bGwmJm4hPT12b2lkIDA/bjoiIn1mdW5jdGlvbiBLKGUpe3JldHVybiBTKGB7CmAsa2UocChlLGAKYCkpLGAKfWApfWZ1bmN0aW9uIFMoZSx0LG49IiIpe3JldHVybiB0IT1udWxsJiZ0IT09IiI/ZSt0K246IiJ9ZnVuY3Rpb24ga2UoZSl7cmV0dXJuIFMoIiAgIixlLnJlcGxhY2UoL1xuL2csYAogIGApKX1mdW5jdGlvbiBMdChlKXt2YXIgdDtyZXR1cm4odD1lPT1udWxsP3ZvaWQgMDplLnNvbWUobj0+bi5pbmNsdWRlcyhgCmApKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITF9Y29uc3QgUHQ9ZT0+e3ZhciBpLHI7bGV0IHQ7Y29uc3Qgbj1lLmRlZmluaXRpb25zLmZpbHRlcihzPT5zLmtpbmQ9PT0iT3BlcmF0aW9uRGVmaW5pdGlvbiIpO3JldHVybiBuLmxlbmd0aD09PTEmJih0PShyPShpPW5bMF0pPT1udWxsP3ZvaWQgMDppLm5hbWUpPT1udWxsP3ZvaWQgMDpyLnZhbHVlKSx0fSxLZT1lPT57aWYodHlwZW9mIGU9PSJzdHJpbmciKXtsZXQgbjt0cnl7Y29uc3QgaT1rdChlKTtuPVB0KGkpfWNhdGNoKGkpe31yZXR1cm57cXVlcnk6ZSxvcGVyYXRpb25OYW1lOm59fWNvbnN0IHQ9UHQoZSk7cmV0dXJue3F1ZXJ5OnRyKGUpLG9wZXJhdGlvbk5hbWU6dH19O2NsYXNzIGhlIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxuKXtjb25zdCBpPWAke2hlLmV4dHJhY3RNZXNzYWdlKHQpfTogJHtKU09OLnN0cmluZ2lmeSh7cmVzcG9uc2U6dCxyZXF1ZXN0Om59KX1gO3N1cGVyKGkpLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLGhlLnByb3RvdHlwZSksdGhpcy5yZXNwb25zZT10LHRoaXMucmVxdWVzdD1uLHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT09ImZ1bmN0aW9uIiYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxoZSl9c3RhdGljIGV4dHJhY3RNZXNzYWdlKHQpe3ZhciBuLGkscjtyZXR1cm4ocj0oaT0obj10LmVycm9ycyk9PW51bGw/dm9pZCAwOm5bMF0pPT1udWxsP3ZvaWQgMDppLm1lc3NhZ2UpIT1udWxsP3I6YEdyYXBoUUwgRXJyb3IgKENvZGU6ICR7dC5zdGF0dXN9KWB9fXZhciBpcj10eXBlb2YgZ2xvYmFsVGhpcyE9InVuZGVmaW5lZCI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93IT0idW5kZWZpbmVkIj93aW5kb3c6dHlwZW9mIGdsb2JhbCE9InVuZGVmaW5lZCI/Z2xvYmFsOnR5cGVvZiBzZWxmIT0idW5kZWZpbmVkIj9zZWxmOnt9O2Z1bmN0aW9uIEZ0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCJkZWZhdWx0Iik/ZS5kZWZhdWx0OmV9dmFyIGV0PXtleHBvcnRzOnt9fTsoZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2Ygc2VsZiE9InVuZGVmaW5lZCI/c2VsZjppcixpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcygpe3RoaXMuZmV0Y2g9ITEsdGhpcy5ET01FeGNlcHRpb249bi5ET01FeGNlcHRpb259cmV0dXJuIHMucHJvdG90eXBlPW4sbmV3IHN9KCk7KGZ1bmN0aW9uKHMpeyhmdW5jdGlvbihvKXt2YXIgYz17c2VhcmNoUGFyYW1zOiJVUkxTZWFyY2hQYXJhbXMiaW4gcyxpdGVyYWJsZToiU3ltYm9sImluIHMmJiJpdGVyYXRvciJpbiBTeW1ib2wsYmxvYjoiRmlsZVJlYWRlciJpbiBzJiYiQmxvYiJpbiBzJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEJsb2IsITB9Y2F0Y2goYSl7cmV0dXJuITF9fSgpLGZvcm1EYXRhOiJGb3JtRGF0YSJpbiBzLGFycmF5QnVmZmVyOiJBcnJheUJ1ZmZlciJpbiBzfTtmdW5jdGlvbiBmKGEpe3JldHVybiBhJiZEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKX1pZihjLmFycmF5QnVmZmVyKXZhciBkPVsiW29iamVjdCBJbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OEFycmF5XSIsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIiwiW29iamVjdCBJbnQxNkFycmF5XSIsIltvYmplY3QgVWludDE2QXJyYXldIiwiW29iamVjdCBJbnQzMkFycmF5XSIsIltvYmplY3QgVWludDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDY0QXJyYXldIl0sdT1BcnJheUJ1ZmZlci5pc1ZpZXd8fGZ1bmN0aW9uKGEpe3JldHVybiBhJiZkLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpKT4tMX07ZnVuY3Rpb24geShhKXtpZih0eXBlb2YgYSE9InN0cmluZyImJihhPVN0cmluZyhhKSksL1teYS16MC05XC0jJCUmJyorLl5fYHx+XS9pLnRlc3QoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUiKTtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIHR5cGVvZiBhIT0ic3RyaW5nIiYmKGE9U3RyaW5nKGEpKSxhfWZ1bmN0aW9uIGIoYSl7dmFyIGg9e25leHQ6ZnVuY3Rpb24oKXt2YXIgXz1hLnNoaWZ0KCk7cmV0dXJue2RvbmU6Xz09PXZvaWQgMCx2YWx1ZTpffX19O3JldHVybiBjLml0ZXJhYmxlJiYoaFtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGh9KSxofWZ1bmN0aW9uIG0oYSl7dGhpcy5tYXA9e30sYSBpbnN0YW5jZW9mIG0/YS5mb3JFYWNoKGZ1bmN0aW9uKGgsXyl7dGhpcy5hcHBlbmQoXyxoKX0sdGhpcyk6QXJyYXkuaXNBcnJheShhKT9hLmZvckVhY2goZnVuY3Rpb24oaCl7dGhpcy5hcHBlbmQoaFswXSxoWzFdKX0sdGhpcyk6YSYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYSkuZm9yRWFjaChmdW5jdGlvbihoKXt0aGlzLmFwcGVuZChoLGFbaF0pfSx0aGlzKX1tLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oYSxoKXthPXkoYSksaD1nKGgpO3ZhciBfPXRoaXMubWFwW2FdO3RoaXMubWFwW2FdPV8/XysiLCAiK2g6aH0sbS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLm1hcFt5KGEpXX0sbS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBhPXkoYSksdGhpcy5oYXMoYSk/dGhpcy5tYXBbYV06bnVsbH0sbS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eSh5KGEpKX0sbS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsaCl7dGhpcy5tYXBbeShhKV09ZyhoKX0sbS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihhLGgpe2Zvcih2YXIgXyBpbiB0aGlzLm1hcCl0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShfKSYmYS5jYWxsKGgsdGhpcy5tYXBbX10sXyx0aGlzKX0sbS5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oaCxfKXthLnB1c2goXyl9KSxiKGEpfSxtLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGgpe2EucHVzaChoKX0pLGIoYSl9LG0ucHJvdG90eXBlLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGgsXyl7YS5wdXNoKFtfLGhdKX0pLGIoYSl9LGMuaXRlcmFibGUmJihtLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPW0ucHJvdG90eXBlLmVudHJpZXMpO2Z1bmN0aW9uIE4oYSl7aWYoYS5ib2R5VXNlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcigiQWxyZWFkeSByZWFkIikpO2EuYm9keVVzZWQ9ITB9ZnVuY3Rpb24gdihhKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaCxfKXthLm9ubG9hZD1mdW5jdGlvbigpe2goYS5yZXN1bHQpfSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXtfKGEuZXJyb3IpfX0pfWZ1bmN0aW9uIEUoYSl7dmFyIGg9bmV3IEZpbGVSZWFkZXIsXz12KGgpO3JldHVybiBoLnJlYWRBc0FycmF5QnVmZmVyKGEpLF99ZnVuY3Rpb24gayhhKXt2YXIgaD1uZXcgRmlsZVJlYWRlcixfPXYoaCk7cmV0dXJuIGgucmVhZEFzVGV4dChhKSxffWZ1bmN0aW9uIHcoYSl7Zm9yKHZhciBoPW5ldyBVaW50OEFycmF5KGEpLF89bmV3IEFycmF5KGgubGVuZ3RoKSxBPTA7QTxoLmxlbmd0aDtBKyspX1tBXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGhbQV0pO3JldHVybiBfLmpvaW4oIiIpfWZ1bmN0aW9uIEwoYSl7aWYoYS5zbGljZSlyZXR1cm4gYS5zbGljZSgwKTt2YXIgaD1uZXcgVWludDhBcnJheShhLmJ5dGVMZW5ndGgpO3JldHVybiBoLnNldChuZXcgVWludDhBcnJheShhKSksaC5idWZmZXJ9ZnVuY3Rpb24gJCgpe3JldHVybiB0aGlzLmJvZHlVc2VkPSExLHRoaXMuX2luaXRCb2R5PWZ1bmN0aW9uKGEpe3RoaXMuX2JvZHlJbml0PWEsYT90eXBlb2YgYT09InN0cmluZyI/dGhpcy5fYm9keVRleHQ9YTpjLmJsb2ImJkJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYSk/dGhpcy5fYm9keUJsb2I9YTpjLmZvcm1EYXRhJiZGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKT90aGlzLl9ib2R5Rm9ybURhdGE9YTpjLnNlYXJjaFBhcmFtcyYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGEpP3RoaXMuX2JvZHlUZXh0PWEudG9TdHJpbmcoKTpjLmFycmF5QnVmZmVyJiZjLmJsb2ImJmYoYSk/KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcj1MKGEuYnVmZmVyKSx0aGlzLl9ib2R5SW5pdD1uZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpOmMuYXJyYXlCdWZmZXImJihBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKXx8dShhKSk/dGhpcy5fYm9keUFycmF5QnVmZmVyPUwoYSk6dGhpcy5fYm9keVRleHQ9YT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk6dGhpcy5fYm9keVRleHQ9IiIsdGhpcy5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIil8fCh0eXBlb2YgYT09InN0cmluZyI/dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIiwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Iik6dGhpcy5fYm9keUJsb2ImJnRoaXMuX2JvZHlCbG9iLnR5cGU/dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIix0aGlzLl9ib2R5QmxvYi50eXBlKTpjLnNlYXJjaFBhcmFtcyYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGEpJiZ0aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIpKX0sYy5ibG9iJiYodGhpcy5ibG9iPWZ1bmN0aW9uKCl7dmFyIGE9Tih0aGlzKTtpZihhKXJldHVybiBhO2lmKHRoaXMuX2JvZHlCbG9iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSl9LHRoaXMuYXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keUFycmF5QnVmZmVyP04odGhpcyl8fFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpOnRoaXMuYmxvYigpLnRoZW4oRSl9KSx0aGlzLnRleHQ9ZnVuY3Rpb24oKXt2YXIgYT1OKHRoaXMpO2lmKGEpcmV0dXJuIGE7aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIGsodGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHcodGhpcy5fYm9keUFycmF5QnVmZmVyKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0Iik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dCl9LGMuZm9ybURhdGEmJih0aGlzLmZvcm1EYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oTyl9KSx0aGlzLmpzb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKX0sdGhpc312YXIgcT1bIkRFTEVURSIsIkdFVCIsIkhFQUQiLCJPUFRJT05TIiwiUE9TVCIsIlBVVCJdO2Z1bmN0aW9uIE0oYSl7dmFyIGg9YS50b1VwcGVyQ2FzZSgpO3JldHVybiBxLmluZGV4T2YoaCk+LTE/aDphfWZ1bmN0aW9uIEkoYSxoKXtoPWh8fHt9O3ZhciBfPWguYm9keTtpZihhIGluc3RhbmNlb2YgSSl7aWYoYS5ib2R5VXNlZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKTt0aGlzLnVybD1hLnVybCx0aGlzLmNyZWRlbnRpYWxzPWEuY3JlZGVudGlhbHMsaC5oZWFkZXJzfHwodGhpcy5oZWFkZXJzPW5ldyBtKGEuaGVhZGVycykpLHRoaXMubWV0aG9kPWEubWV0aG9kLHRoaXMubW9kZT1hLm1vZGUsdGhpcy5zaWduYWw9YS5zaWduYWwsIV8mJmEuX2JvZHlJbml0IT1udWxsJiYoXz1hLl9ib2R5SW5pdCxhLmJvZHlVc2VkPSEwKX1lbHNlIHRoaXMudXJsPVN0cmluZyhhKTtpZih0aGlzLmNyZWRlbnRpYWxzPWguY3JlZGVudGlhbHN8fHRoaXMuY3JlZGVudGlhbHN8fCJzYW1lLW9yaWdpbiIsKGguaGVhZGVyc3x8IXRoaXMuaGVhZGVycykmJih0aGlzLmhlYWRlcnM9bmV3IG0oaC5oZWFkZXJzKSksdGhpcy5tZXRob2Q9TShoLm1ldGhvZHx8dGhpcy5tZXRob2R8fCJHRVQiKSx0aGlzLm1vZGU9aC5tb2RlfHx0aGlzLm1vZGV8fG51bGwsdGhpcy5zaWduYWw9aC5zaWduYWx8fHRoaXMuc2lnbmFsLHRoaXMucmVmZXJyZXI9bnVsbCwodGhpcy5tZXRob2Q9PT0iR0VUInx8dGhpcy5tZXRob2Q9PT0iSEVBRCIpJiZfKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzIik7dGhpcy5faW5pdEJvZHkoXyl9SS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEkodGhpcyx7Ym9keTp0aGlzLl9ib2R5SW5pdH0pfTtmdW5jdGlvbiBPKGEpe3ZhciBoPW5ldyBGb3JtRGF0YTtyZXR1cm4gYS50cmltKCkuc3BsaXQoIiYiKS5mb3JFYWNoKGZ1bmN0aW9uKF8pe2lmKF8pe3ZhciBBPV8uc3BsaXQoIj0iKSxSPUEuc2hpZnQoKS5yZXBsYWNlKC9cKy9nLCIgIikseD1BLmpvaW4oIj0iKS5yZXBsYWNlKC9cKy9nLCIgIik7aC5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KFIpLGRlY29kZVVSSUNvbXBvbmVudCh4KSl9fSksaH1mdW5jdGlvbiBqKGEpe3ZhciBoPW5ldyBtLF89YS5yZXBsYWNlKC9ccj9cbltcdCBdKy9nLCIgIik7cmV0dXJuIF8uc3BsaXQoL1xyP1xuLykuZm9yRWFjaChmdW5jdGlvbihBKXt2YXIgUj1BLnNwbGl0KCI6IikseD1SLnNoaWZ0KCkudHJpbSgpO2lmKHgpe3ZhciBzZT1SLmpvaW4oIjoiKS50cmltKCk7aC5hcHBlbmQoeCxzZSl9fSksaH0kLmNhbGwoSS5wcm90b3R5cGUpO2Z1bmN0aW9uIFUoYSxoKXtofHwoaD17fSksdGhpcy50eXBlPSJkZWZhdWx0Iix0aGlzLnN0YXR1cz1oLnN0YXR1cz09PXZvaWQgMD8yMDA6aC5zdGF0dXMsdGhpcy5vaz10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDAsdGhpcy5zdGF0dXNUZXh0PSJzdGF0dXNUZXh0ImluIGg/aC5zdGF0dXNUZXh0OiJPSyIsdGhpcy5oZWFkZXJzPW5ldyBtKGguaGVhZGVycyksdGhpcy51cmw9aC51cmx8fCIiLHRoaXMuX2luaXRCb2R5KGEpfSQuY2FsbChVLnByb3RvdHlwZSksVS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFUodGhpcy5fYm9keUluaXQse3N0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnRoaXMuc3RhdHVzVGV4dCxoZWFkZXJzOm5ldyBtKHRoaXMuaGVhZGVycyksdXJsOnRoaXMudXJsfSl9LFUuZXJyb3I9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVShudWxsLHtzdGF0dXM6MCxzdGF0dXNUZXh0OiIifSk7cmV0dXJuIGEudHlwZT0iZXJyb3IiLGF9O3ZhciBIPVszMDEsMzAyLDMwMywzMDcsMzA4XTtVLnJlZGlyZWN0PWZ1bmN0aW9uKGEsaCl7aWYoSC5pbmRleE9mKGgpPT09LTEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgc3RhdHVzIGNvZGUiKTtyZXR1cm4gbmV3IFUobnVsbCx7c3RhdHVzOmgsaGVhZGVyczp7bG9jYXRpb246YX19KX0sby5ET01FeGNlcHRpb249cy5ET01FeGNlcHRpb247dHJ5e25ldyBvLkRPTUV4Y2VwdGlvbn1jYXRjaChhKXtvLkRPTUV4Y2VwdGlvbj1mdW5jdGlvbihoLF8pe3RoaXMubWVzc2FnZT1oLHRoaXMubmFtZT1fO3ZhciBBPUVycm9yKGgpO3RoaXMuc3RhY2s9QS5zdGFja30sby5ET01FeGNlcHRpb24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxvLkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9by5ET01FeGNlcHRpb259ZnVuY3Rpb24gUShhLGgpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihfLEEpe3ZhciBSPW5ldyBJKGEsaCk7aWYoUi5zaWduYWwmJlIuc2lnbmFsLmFib3J0ZWQpcmV0dXJuIEEobmV3IG8uRE9NRXhjZXB0aW9uKCJBYm9ydGVkIiwiQWJvcnRFcnJvciIpKTt2YXIgeD1uZXcgWE1MSHR0cFJlcXVlc3Q7ZnVuY3Rpb24gc2UoKXt4LmFib3J0KCl9eC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgej17c3RhdHVzOnguc3RhdHVzLHN0YXR1c1RleHQ6eC5zdGF0dXNUZXh0LGhlYWRlcnM6aih4LmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHwiIil9O3oudXJsPSJyZXNwb25zZVVSTCJpbiB4P3gucmVzcG9uc2VVUkw6ei5oZWFkZXJzLmdldCgiWC1SZXF1ZXN0LVVSTCIpO3ZhciByZT0icmVzcG9uc2UiaW4geD94LnJlc3BvbnNlOngucmVzcG9uc2VUZXh0O18obmV3IFUocmUseikpfSx4Lm9uZXJyb3I9ZnVuY3Rpb24oKXtBKG5ldyBUeXBlRXJyb3IoIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQiKSl9LHgub250aW1lb3V0PWZ1bmN0aW9uKCl7QShuZXcgVHlwZUVycm9yKCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIikpfSx4Lm9uYWJvcnQ9ZnVuY3Rpb24oKXtBKG5ldyBvLkRPTUV4Y2VwdGlvbigiQWJvcnRlZCIsIkFib3J0RXJyb3IiKSl9LHgub3BlbihSLm1ldGhvZCxSLnVybCwhMCksUi5jcmVkZW50aWFscz09PSJpbmNsdWRlIj94LndpdGhDcmVkZW50aWFscz0hMDpSLmNyZWRlbnRpYWxzPT09Im9taXQiJiYoeC53aXRoQ3JlZGVudGlhbHM9ITEpLCJyZXNwb25zZVR5cGUiaW4geCYmYy5ibG9iJiYoeC5yZXNwb25zZVR5cGU9ImJsb2IiKSxSLmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih6LHJlKXt4LnNldFJlcXVlc3RIZWFkZXIocmUseil9KSxSLnNpZ25hbCYmKFIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixzZSkseC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt4LnJlYWR5U3RhdGU9PT00JiZSLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsc2UpfSkseC5zZW5kKHR5cGVvZiBSLl9ib2R5SW5pdD09InVuZGVmaW5lZCI/bnVsbDpSLl9ib2R5SW5pdCl9KX1yZXR1cm4gUS5wb2x5ZmlsbD0hMCxzLmZldGNofHwocy5mZXRjaD1RLHMuSGVhZGVycz1tLHMuUmVxdWVzdD1JLHMuUmVzcG9uc2U9VSksby5IZWFkZXJzPW0sby5SZXF1ZXN0PUksby5SZXNwb25zZT1VLG8uZmV0Y2g9USxPYmplY3QuZGVmaW5lUHJvcGVydHkobywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksb30pKHt9KX0pKGkpLGkuZmV0Y2gucG9ueWZpbGw9ITAsZGVsZXRlIGkuZmV0Y2gucG9seWZpbGw7dmFyIHI9aTt0PXIuZmV0Y2gsdC5kZWZhdWx0PXIuZmV0Y2gsdC5mZXRjaD1yLmZldGNoLHQuSGVhZGVycz1yLkhlYWRlcnMsdC5SZXF1ZXN0PXIuUmVxdWVzdCx0LlJlc3BvbnNlPXIuUmVzcG9uc2UsZS5leHBvcnRzPXR9KShldCxldC5leHBvcnRzKTt2YXIgUmU9ZXQuZXhwb3J0cyxMZT1GdChSZSksc3I9Qih7X19wcm90b19fOm51bGwsZGVmYXVsdDpMZX0sW1JlXSk7Y29uc3QgZGU9ZT0+e2xldCB0PXt9O3JldHVybiBlJiYodHlwZW9mIEhlYWRlcnMhPSJ1bmRlZmluZWQiJiZlIGluc3RhbmNlb2YgSGVhZGVyc3x8c3ImJlJlLkhlYWRlcnMmJmUgaW5zdGFuY2VvZiBSZS5IZWFkZXJzP3Q9ZG4oZSk6QXJyYXkuaXNBcnJheShlKT9lLmZvckVhY2goKFtuLGldKT0+e24mJmkhPT12b2lkIDAmJih0W25dPWkpfSk6dD1lKSx0fSxCdD1lPT5lLnJlcGxhY2UoLyhbXHMsXXwjW15cblxyXSspKy9nLCIgIikudHJpbSgpLG9yPWU9PntpZighQXJyYXkuaXNBcnJheShlLnF1ZXJ5KSl7Y29uc3QgaT1lLHI9W2BxdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChCdChpLnF1ZXJ5KSl9YF07cmV0dXJuIGUudmFyaWFibGVzJiZyLnB1c2goYHZhcmlhYmxlcz0ke2VuY29kZVVSSUNvbXBvbmVudChpLmpzb25TZXJpYWxpemVyLnN0cmluZ2lmeShpLnZhcmlhYmxlcykpfWApLGkub3BlcmF0aW9uTmFtZSYmci5wdXNoKGBvcGVyYXRpb25OYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGkub3BlcmF0aW9uTmFtZSl9YCksci5qb2luKCImIil9aWYodHlwZW9mIGUudmFyaWFibGVzIT0idW5kZWZpbmVkIiYmIUFycmF5LmlzQXJyYXkoZS52YXJpYWJsZXMpKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGNyZWF0ZSBxdWVyeSB3aXRoIGdpdmVuIHZhcmlhYmxlIHR5cGUsIGFycmF5IGV4cGVjdGVkIik7Y29uc3QgdD1lLG49ZS5xdWVyeS5yZWR1Y2UoKGkscixzKT0+KGkucHVzaCh7cXVlcnk6QnQociksdmFyaWFibGVzOnQudmFyaWFibGVzP3QuanNvblNlcmlhbGl6ZXIuc3RyaW5naWZ5KHQudmFyaWFibGVzW3NdKTp2b2lkIDB9KSxpKSxbXSk7cmV0dXJuYHF1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHQuanNvblNlcmlhbGl6ZXIuc3RyaW5naWZ5KG4pKX1gfSxhcj1lPT50PT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgTjtjb25zdHt1cmw6bixxdWVyeTppLHZhcmlhYmxlczpyLG9wZXJhdGlvbk5hbWU6cyxmZXRjaDpvLGZldGNoT3B0aW9uczpjLG1pZGRsZXdhcmU6Zn09dCxkPVAoe30sdC5oZWFkZXJzKTtsZXQgdT0iIix5O2U9PT0iUE9TVCI/KHk9dXIoaSxyLHMsYy5qc29uU2VyaWFsaXplciksdHlwZW9mIHk9PSJzdHJpbmciJiYoZFsiQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL2pzb24iKSk6dT1vcih7cXVlcnk6aSx2YXJpYWJsZXM6cixvcGVyYXRpb25OYW1lOnMsanNvblNlcmlhbGl6ZXI6KE49Yy5qc29uU2VyaWFsaXplcikhPW51bGw/Tjp6ZX0pO2NvbnN0IGc9UCh7bWV0aG9kOmUsaGVhZGVyczpkLGJvZHk6eX0sYyk7bGV0IGI9bixtPWc7aWYoZil7Y29uc3Qgdj15aWVsZCBQcm9taXNlLnJlc29sdmUoZihVZShQKHt9LGcpLHt1cmw6bixvcGVyYXRpb25OYW1lOnMsdmFyaWFibGVzOnJ9KSkpLHt1cmw6a309dix3PXZlKHYsWyJ1cmwiXSk7Yj1rLG09d31yZXR1cm4gdSYmKGI9YCR7Yn0/JHt1fWApLHlpZWxkIG8oYixtKX0pO2NsYXNzIGNye2NvbnN0cnVjdG9yKHQsbj17fSl7dGhpcy51cmw9dCx0aGlzLnJlcXVlc3RDb25maWc9bix0aGlzLnJhd1JlcXVlc3Q9KC4uLmkpPT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdFtyLHMsb109aSxjPW1uKHIscyxvKSx2PXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpmLGZldGNoOmQ9TGUsbWV0aG9kOnU9IlBPU1QiLHJlcXVlc3RNaWRkbGV3YXJlOnkscmVzcG9uc2VNaWRkbGV3YXJlOmd9PXYsYj12ZSh2LFsiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJyZXNwb25zZU1pZGRsZXdhcmUiXSkse3VybDptfT10aGlzO2Muc2lnbmFsIT09dm9pZCAwJiYoYi5zaWduYWw9Yy5zaWduYWwpO2NvbnN0e29wZXJhdGlvbk5hbWU6Tn09S2UoYy5xdWVyeSk7cmV0dXJuIHR0KHt1cmw6bSxxdWVyeTpjLnF1ZXJ5LHZhcmlhYmxlczpjLnZhcmlhYmxlcyxoZWFkZXJzOlAoUCh7fSxkZShudChmKSkpLGRlKGMucmVxdWVzdEhlYWRlcnMpKSxvcGVyYXRpb25OYW1lOk4sZmV0Y2g6ZCxtZXRob2Q6dSxmZXRjaE9wdGlvbnM6YixtaWRkbGV3YXJlOnl9KS50aGVuKEU9PihnJiZnKEUpLEUpKS5jYXRjaChFPT57dGhyb3cgZyYmZyhFKSxFfSl9KX1yZXF1ZXN0KHQsLi4ubil7cmV0dXJuIFgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0W2kscl09bixzPXBuKHQsaSxyKSxOPXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpvLGZldGNoOmM9TGUsbWV0aG9kOmY9IlBPU1QiLHJlcXVlc3RNaWRkbGV3YXJlOmQscmVzcG9uc2VNaWRkbGV3YXJlOnV9PU4seT12ZShOLFsiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJyZXNwb25zZU1pZGRsZXdhcmUiXSkse3VybDpnfT10aGlzO3Muc2lnbmFsIT09dm9pZCAwJiYoeS5zaWduYWw9cy5zaWduYWwpO2NvbnN0e3F1ZXJ5OmIsb3BlcmF0aW9uTmFtZTptfT1LZShzLmRvY3VtZW50KTtyZXR1cm4gdHQoe3VybDpnLHF1ZXJ5OmIsdmFyaWFibGVzOnMudmFyaWFibGVzLGhlYWRlcnM6UChQKHt9LGRlKG50KG8pKSksZGUocy5yZXF1ZXN0SGVhZGVycykpLG9wZXJhdGlvbk5hbWU6bSxmZXRjaDpjLG1ldGhvZDpmLGZldGNoT3B0aW9uczp5LG1pZGRsZXdhcmU6ZH0pLnRoZW4odj0+KHUmJnUodiksdi5kYXRhKSkuY2F0Y2godj0+e3Rocm93IHUmJnUodiksdn0pfSl9YmF0Y2hSZXF1ZXN0cyh0LG4pe3ZhciBkO2NvbnN0IGk9eW4odCxuKSxmPXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpyfT1mLHM9dmUoZixbImhlYWRlcnMiXSk7aS5zaWduYWwhPT12b2lkIDAmJihzLnNpZ25hbD1pLnNpZ25hbCk7Y29uc3Qgbz1pLmRvY3VtZW50cy5tYXAoKHtkb2N1bWVudDp1fSk9PktlKHUpLnF1ZXJ5KSxjPWkuZG9jdW1lbnRzLm1hcCgoe3ZhcmlhYmxlczp1fSk9PnUpO3JldHVybiB0dCh7dXJsOnRoaXMudXJsLHF1ZXJ5Om8sdmFyaWFibGVzOmMsaGVhZGVyczpQKFAoe30sZGUobnQocikpKSxkZShpLnJlcXVlc3RIZWFkZXJzKSksb3BlcmF0aW9uTmFtZTp2b2lkIDAsZmV0Y2g6KGQ9dGhpcy5yZXF1ZXN0Q29uZmlnLmZldGNoKSE9bnVsbD9kOkxlLG1ldGhvZDp0aGlzLnJlcXVlc3RDb25maWcubWV0aG9kfHwiUE9TVCIsZmV0Y2hPcHRpb25zOnMsbWlkZGxld2FyZTp0aGlzLnJlcXVlc3RDb25maWcucmVxdWVzdE1pZGRsZXdhcmV9KS50aGVuKHU9Pih0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlJiZ0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlKHUpLHUuZGF0YSkpLmNhdGNoKHU9Pnt0aHJvdyB0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlJiZ0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlKHUpLHV9KX1zZXRIZWFkZXJzKHQpe3JldHVybiB0aGlzLnJlcXVlc3RDb25maWcuaGVhZGVycz10LHRoaXN9c2V0SGVhZGVyKHQsbil7Y29uc3R7aGVhZGVyczppfT10aGlzLnJlcXVlc3RDb25maWc7cmV0dXJuIGk/aVt0XT1uOnRoaXMucmVxdWVzdENvbmZpZy5oZWFkZXJzPXtbdF06bn0sdGhpc31zZXRFbmRwb2ludCh0KXtyZXR1cm4gdGhpcy51cmw9dCx0aGlzfX1jb25zdCB0dD1lPT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgdSx5O2NvbnN0e3F1ZXJ5OnQsdmFyaWFibGVzOm4sZmV0Y2hPcHRpb25zOml9PWUscj1hcihobigodT1lLm1ldGhvZCkhPW51bGw/dToicG9zdCIpKSxzPUFycmF5LmlzQXJyYXkoZS5xdWVyeSksbz15aWVsZCByKGUpLGM9eWllbGQgbHIobywoeT1pLmpzb25TZXJpYWxpemVyKSE9bnVsbD95OnplKSxmPUFycmF5LmlzQXJyYXkoYyk/IWMuc29tZSgoe2RhdGE6Yn0pPT4hYik6ISFjLmRhdGEsZD1BcnJheS5pc0FycmF5KGMpfHwhYy5lcnJvcnN8fEFycmF5LmlzQXJyYXkoYy5lcnJvcnMpJiYhYy5lcnJvcnMubGVuZ3RofHxpLmVycm9yUG9saWN5PT09ImFsbCJ8fGkuZXJyb3JQb2xpY3k9PT0iaWdub3JlIjtpZihvLm9rJiZkJiZmKXtjb25zdCBnPShBcnJheS5pc0FycmF5KGMpLGMpLHtlcnJvcnM6Yn09ZyxtPXZlKGcsWyJlcnJvcnMiXSksTj1pLmVycm9yUG9saWN5PT09Imlnbm9yZSI/bTpjO3JldHVybiBVZShQKHt9LHM/e2RhdGE6Tn06Tikse2hlYWRlcnM6by5oZWFkZXJzLHN0YXR1czpvLnN0YXR1c30pfWVsc2V7Y29uc3QgYj10eXBlb2YgYz09InN0cmluZyI/e2Vycm9yOmN9OmM7dGhyb3cgbmV3IGhlKFVlKFAoe30sYikse3N0YXR1czpvLnN0YXR1cyxoZWFkZXJzOm8uaGVhZGVyc30pLHtxdWVyeTp0LHZhcmlhYmxlczpufSl9fSksdXI9KGUsdCxuLGkpPT57Y29uc3Qgcj1pIT1udWxsP2k6emU7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHIuc3RyaW5naWZ5KHtxdWVyeTplLHZhcmlhYmxlczp0LG9wZXJhdGlvbk5hbWU6bn0pO2lmKHR5cGVvZiB0IT0idW5kZWZpbmVkIiYmIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgY3JlYXRlIHJlcXVlc3QgYm9keSB3aXRoIGdpdmVuIHZhcmlhYmxlIHR5cGUsIGFycmF5IGV4cGVjdGVkIik7Y29uc3Qgcz1lLnJlZHVjZSgobyxjLGYpPT4oby5wdXNoKHtxdWVyeTpjLHZhcmlhYmxlczp0P3RbZl06dm9pZCAwfSksbyksW10pO3JldHVybiByLnN0cmluZ2lmeShzKX0sbHI9KGUsdCk9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBuO3JldHVybiBlLmhlYWRlcnMuZm9yRWFjaCgoaSxyKT0+e3IudG9Mb3dlckNhc2UoKT09PSJjb250ZW50LXR5cGUiJiYobj1pKX0pLG4mJihuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgiYXBwbGljYXRpb24vanNvbiIpfHxuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgiYXBwbGljYXRpb24vZ3JhcGhxbCtqc29uIil8fG4udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCJhcHBsaWNhdGlvbi9ncmFwaHFsLXJlc3BvbnNlK2pzb24iKSk/dC5wYXJzZSh5aWVsZCBlLnRleHQoKSk6ZS50ZXh0KCl9KSxudD1lPT50eXBlb2YgZT09ImZ1bmN0aW9uIj9lKCk6ZTt2YXIgcnQ9e2V4cG9ydHM6e319OyhmdW5jdGlvbihlLHQpe3Q9ZS5leHBvcnRzPW4sdC5nZXRTZXJpYWxpemU9aTtmdW5jdGlvbiBuKHIscyxvLGMpe3JldHVybiBKU09OLnN0cmluZ2lmeShyLGkocyxjKSxvKX1mdW5jdGlvbiBpKHIscyl7dmFyIG89W10sYz1bXTtyZXR1cm4gcz09bnVsbCYmKHM9ZnVuY3Rpb24oZixkKXtyZXR1cm4gb1swXT09PWQ/IltDaXJjdWxhciB+XSI6IltDaXJjdWxhciB+LiIrYy5zbGljZSgwLG8uaW5kZXhPZihkKSkuam9pbigiLiIpKyJdIn0pLGZ1bmN0aW9uKGYsZCl7aWYoby5sZW5ndGg+MCl7dmFyIHU9by5pbmRleE9mKHRoaXMpO351P28uc3BsaWNlKHUrMSk6by5wdXNoKHRoaXMpLH51P2Muc3BsaWNlKHUsMS8wLGYpOmMucHVzaChmKSx+by5pbmRleE9mKGQpJiYoZD1zLmNhbGwodGhpcyxmLGQpKX1lbHNlIG8ucHVzaChkKTtyZXR1cm4gcj09bnVsbD9kOnIuY2FsbCh0aGlzLGYsZCl9fX0pKHJ0LHJ0LmV4cG9ydHMpO3ZhciBmcj1ydC5leHBvcnRzLHBlPUZ0KGZyKTtjb25zdCAkdD0xZTMqMTU7dmFyIFBlPWZ1bmN0aW9uKCl7cmV0dXJuIFBlPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgbixpPTEscj1hcmd1bWVudHMubGVuZ3RoO2k8cjtpKyspe249YXJndW1lbnRzW2ldO2Zvcih2YXIgcyBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHMpJiYodFtzXT1uW3NdKX1yZXR1cm4gdH0sUGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0eXBlb2YgU3VwcHJlc3NlZEVycm9yPT0iZnVuY3Rpb24iJiZTdXBwcmVzc2VkRXJyb3I7dmFyIEZlPW5ldyBNYXAsaXQ9bmV3IE1hcCxNdD0hMCxCZT0hMTtmdW5jdGlvbiBVdChlKXtyZXR1cm4gZS5yZXBsYWNlKC9bXHMsXSsvZywiICIpLnRyaW0oKX1mdW5jdGlvbiBocihlKXtyZXR1cm4gVXQoZS5zb3VyY2UuYm9keS5zdWJzdHJpbmcoZS5zdGFydCxlLmVuZCkpfWZ1bmN0aW9uIGRyKGUpe3ZhciB0PW5ldyBTZXQsbj1bXTtyZXR1cm4gZS5kZWZpbml0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKGkua2luZD09PSJGcmFnbWVudERlZmluaXRpb24iKXt2YXIgcj1pLm5hbWUudmFsdWUscz1ocihpLmxvYyksbz1pdC5nZXQocik7byYmIW8uaGFzKHMpP010JiZjb25zb2xlLndhcm4oIldhcm5pbmc6IGZyYWdtZW50IHdpdGggbmFtZSAiK3IrYCBhbHJlYWR5IGV4aXN0cy4KZ3JhcGhxbC10YWcgZW5mb3JjZXMgYWxsIGZyYWdtZW50IG5hbWVzIGFjcm9zcyB5b3VyIGFwcGxpY2F0aW9uIHRvIGJlIHVuaXF1ZTsgcmVhZCBtb3JlIGFib3V0CnRoaXMgaW4gdGhlIGRvY3M6IGh0dHA6Ly9kZXYuYXBvbGxvZGF0YS5jb20vY29yZS9mcmFnbWVudHMuaHRtbCN1bmlxdWUtbmFtZXNgKTpvfHxpdC5zZXQocixvPW5ldyBTZXQpLG8uYWRkKHMpLHQuaGFzKHMpfHwodC5hZGQocyksbi5wdXNoKGkpKX1lbHNlIG4ucHVzaChpKX0pLFBlKFBlKHt9LGUpLHtkZWZpbml0aW9uczpufSl9ZnVuY3Rpb24gcHIoZSl7dmFyIHQ9bmV3IFNldChlLmRlZmluaXRpb25zKTt0LmZvckVhY2goZnVuY3Rpb24oaSl7aS5sb2MmJmRlbGV0ZSBpLmxvYyxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBzPWlbcl07cyYmdHlwZW9mIHM9PSJvYmplY3QiJiZ0LmFkZChzKX0pfSk7dmFyIG49ZS5sb2M7cmV0dXJuIG4mJihkZWxldGUgbi5zdGFydFRva2VuLGRlbGV0ZSBuLmVuZFRva2VuKSxlfWZ1bmN0aW9uIG1yKGUpe3ZhciB0PVV0KGUpO2lmKCFGZS5oYXModCkpe3ZhciBuPWt0KGUse2V4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzOkJlLGFsbG93TGVnYWN5RnJhZ21lbnRWYXJpYWJsZXM6QmV9KTtpZighbnx8bi5raW5kIT09IkRvY3VtZW50Iil0aHJvdyBuZXcgRXJyb3IoIk5vdCBhIHZhbGlkIEdyYXBoUUwgZG9jdW1lbnQuIik7RmUuc2V0KHQscHIoZHIobikpKX1yZXR1cm4gRmUuZ2V0KHQpfWZ1bmN0aW9uIFcoZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07dHlwZW9mIGU9PSJzdHJpbmciJiYoZT1bZV0pO3ZhciBpPWVbMF07cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihyLHMpe3ImJnIua2luZD09PSJEb2N1bWVudCI/aSs9ci5sb2Muc291cmNlLmJvZHk6aSs9cixpKz1lW3MrMV19KSxtcihpKX1mdW5jdGlvbiB5cigpe0ZlLmNsZWFyKCksaXQuY2xlYXIoKX1mdW5jdGlvbiB2cigpe010PSExfWZ1bmN0aW9uIGdyKCl7QmU9ITB9ZnVuY3Rpb24gRXIoKXtCZT0hMX12YXIgQWU9e2dxbDpXLHJlc2V0Q2FjaGVzOnlyLGRpc2FibGVGcmFnbWVudFdhcm5pbmdzOnZyLGVuYWJsZUV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzOmdyLGRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlczpFcn07KGZ1bmN0aW9uKGUpe2UuZ3FsPUFlLmdxbCxlLnJlc2V0Q2FjaGVzPUFlLnJlc2V0Q2FjaGVzLGUuZGlzYWJsZUZyYWdtZW50V2FybmluZ3M9QWUuZGlzYWJsZUZyYWdtZW50V2FybmluZ3MsZS5lbmFibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcz1BZS5lbmFibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcyxlLmRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcz1BZS5kaXNhYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXN9KShXfHwoVz17fSkpLFcuZGVmYXVsdD1XO3ZhciBWdDsoZnVuY3Rpb24oZSl7ZS5CaWxsaW5nUXVvdGFFeGNlZWRlZD0iQmlsbGluZ1F1b3RhRXhjZWVkZWQifSkoVnR8fChWdD17fSkpO2NvbnN0IF9yPVdgCgltdXRhdGlvbiBQdXNoUGF5bG9hZCgKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkcGF5bG9hZF9pZDogSUQhCgkJJGV2ZW50czogUmVwbGF5RXZlbnRzSW5wdXQhCgkJJG1lc3NhZ2VzOiBTdHJpbmchCgkJJHJlc291cmNlczogU3RyaW5nIQoJCSR3ZWJfc29ja2V0X2V2ZW50czogU3RyaW5nIQoJCSRlcnJvcnM6IFtFcnJvck9iamVjdElucHV0XSEKCQkkaXNfYmVhY29uOiBCb29sZWFuCgkJJGhhc19zZXNzaW9uX3VubG9hZGVkOiBCb29sZWFuCgkJJGhpZ2hsaWdodF9sb2dzOiBTdHJpbmcKCSkgewoJCXB1c2hQYXlsb2FkKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCXBheWxvYWRfaWQ6ICRwYXlsb2FkX2lkCgkJCWV2ZW50czogJGV2ZW50cwoJCQltZXNzYWdlczogJG1lc3NhZ2VzCgkJCXJlc291cmNlczogJHJlc291cmNlcwoJCQl3ZWJfc29ja2V0X2V2ZW50czogJHdlYl9zb2NrZXRfZXZlbnRzCgkJCWVycm9yczogJGVycm9ycwoJCQlpc19iZWFjb246ICRpc19iZWFjb24KCQkJaGFzX3Nlc3Npb25fdW5sb2FkZWQ6ICRoYXNfc2Vzc2lvbl91bmxvYWRlZAoJCQloaWdobGlnaHRfbG9nczogJGhpZ2hsaWdodF9sb2dzCgkJKQoJfQpgLFRyPVdgCgltdXRhdGlvbiBQdXNoUGF5bG9hZENvbXByZXNzZWQoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHBheWxvYWRfaWQ6IElEIQoJCSRkYXRhOiBTdHJpbmchCgkpIHsKCQlwdXNoUGF5bG9hZENvbXByZXNzZWQoCgkJCXNlc3Npb25fc2VjdXJlX2lkOiAkc2Vzc2lvbl9zZWN1cmVfaWQKCQkJcGF5bG9hZF9pZDogJHBheWxvYWRfaWQKCQkJZGF0YTogJGRhdGEKCQkpCgl9CmAsYnI9V2AKCW11dGF0aW9uIGlkZW50aWZ5U2Vzc2lvbigKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkdXNlcl9pZGVudGlmaWVyOiBTdHJpbmchCgkJJHVzZXJfb2JqZWN0OiBBbnkKCSkgewoJCWlkZW50aWZ5U2Vzc2lvbigKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX2lkZW50aWZpZXI6ICR1c2VyX2lkZW50aWZpZXIKCQkJdXNlcl9vYmplY3Q6ICR1c2VyX29iamVjdAoJCSkKCX0KYCxOcj1XYAoJbXV0YXRpb24gYWRkU2Vzc2lvblByb3BlcnRpZXMoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHByb3BlcnRpZXNfb2JqZWN0OiBBbnkKCSkgewoJCWFkZFNlc3Npb25Qcm9wZXJ0aWVzKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCXByb3BlcnRpZXNfb2JqZWN0OiAkcHJvcGVydGllc19vYmplY3QKCQkpCgl9CmAseHI9V2AKCW11dGF0aW9uIHB1c2hNZXRyaWNzKCRtZXRyaWNzOiBbTWV0cmljSW5wdXRdISkgewoJCXB1c2hNZXRyaWNzKG1ldHJpY3M6ICRtZXRyaWNzKQoJfQpgLEFyPVdgCgltdXRhdGlvbiBhZGRTZXNzaW9uRmVlZGJhY2soCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHVzZXJfbmFtZTogU3RyaW5nCgkJJHVzZXJfZW1haWw6IFN0cmluZwoJCSR2ZXJiYXRpbTogU3RyaW5nIQoJCSR0aW1lc3RhbXA6IFRpbWVzdGFtcCEKCSkgewoJCWFkZFNlc3Npb25GZWVkYmFjaygKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX25hbWU6ICR1c2VyX25hbWUKCQkJdXNlcl9lbWFpbDogJHVzZXJfZW1haWwKCQkJdmVyYmF0aW06ICR2ZXJiYXRpbQoJCQl0aW1lc3RhbXA6ICR0aW1lc3RhbXAKCQkpCgl9CmAsSXI9V2AKCW11dGF0aW9uIGluaXRpYWxpemVTZXNzaW9uKAoJCSRzZXNzaW9uX3NlY3VyZV9pZDogU3RyaW5nIQoJCSRvcmdhbml6YXRpb25fdmVyYm9zZV9pZDogU3RyaW5nIQoJCSRlbmFibGVfc3RyaWN0X3ByaXZhY3k6IEJvb2xlYW4hCgkJJHByaXZhY3lfc2V0dGluZzogU3RyaW5nIQoJCSRlbmFibGVfcmVjb3JkaW5nX25ldHdvcmtfY29udGVudHM6IEJvb2xlYW4hCgkJJGNsaWVudFZlcnNpb246IFN0cmluZyEKCQkkZmlyc3Rsb2FkVmVyc2lvbjogU3RyaW5nIQoJCSRjbGllbnRDb25maWc6IFN0cmluZyEKCQkkZW52aXJvbm1lbnQ6IFN0cmluZyEKCQkkaWQ6IFN0cmluZyEKCQkkYXBwVmVyc2lvbjogU3RyaW5nCgkJJHNlcnZpY2VOYW1lOiBTdHJpbmchCgkJJGNsaWVudF9pZDogU3RyaW5nIQoJCSRuZXR3b3JrX3JlY29yZGluZ19kb21haW5zOiBbU3RyaW5nIV0KCQkkZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzogQm9vbGVhbgoJKSB7CgkJaW5pdGlhbGl6ZVNlc3Npb24oCgkJCXNlc3Npb25fc2VjdXJlX2lkOiAkc2Vzc2lvbl9zZWN1cmVfaWQKCQkJb3JnYW5pemF0aW9uX3ZlcmJvc2VfaWQ6ICRvcmdhbml6YXRpb25fdmVyYm9zZV9pZAoJCQllbmFibGVfc3RyaWN0X3ByaXZhY3k6ICRlbmFibGVfc3RyaWN0X3ByaXZhY3kKCQkJZW5hYmxlX3JlY29yZGluZ19uZXR3b3JrX2NvbnRlbnRzOiAkZW5hYmxlX3JlY29yZGluZ19uZXR3b3JrX2NvbnRlbnRzCgkJCWNsaWVudFZlcnNpb246ICRjbGllbnRWZXJzaW9uCgkJCWZpcnN0bG9hZFZlcnNpb246ICRmaXJzdGxvYWRWZXJzaW9uCgkJCWNsaWVudENvbmZpZzogJGNsaWVudENvbmZpZwoJCQllbnZpcm9ubWVudDogJGVudmlyb25tZW50CgkJCWFwcFZlcnNpb246ICRhcHBWZXJzaW9uCgkJCXNlcnZpY2VOYW1lOiAkc2VydmljZU5hbWUKCQkJZmluZ2VycHJpbnQ6ICRpZAoJCQljbGllbnRfaWQ6ICRjbGllbnRfaWQKCQkJbmV0d29ya19yZWNvcmRpbmdfZG9tYWluczogJG5ldHdvcmtfcmVjb3JkaW5nX2RvbWFpbnMKCQkJZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzogJGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmcKCQkJcHJpdmFjeV9zZXR0aW5nOiAkcHJpdmFjeV9zZXR0aW5nCgkJKSB7CgkJCXNlY3VyZV9pZAoJCQlwcm9qZWN0X2lkCgkJfQoJfQpgLE9yPVdgCglxdWVyeSBJZ25vcmUoJGlkOiBJRCEpIHsKCQlpZ25vcmUoaWQ6ICRpZCkKCX0KYCxTcj0oZSx0LG4saSk9PmUoKTtmdW5jdGlvbiB3cihlLHQ9U3Ipe3JldHVybntQdXNoUGF5bG9hZChuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChfcixuLFAoUCh7fSxpKSxyKSksIlB1c2hQYXlsb2FkIiwibXV0YXRpb24iLG4pfSxQdXNoUGF5bG9hZENvbXByZXNzZWQobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoVHIsbixQKFAoe30saSkscikpLCJQdXNoUGF5bG9hZENvbXByZXNzZWQiLCJtdXRhdGlvbiIsbil9LGlkZW50aWZ5U2Vzc2lvbihuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChicixuLFAoUCh7fSxpKSxyKSksImlkZW50aWZ5U2Vzc2lvbiIsIm11dGF0aW9uIixuKX0sYWRkU2Vzc2lvblByb3BlcnRpZXMobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoTnIsbixQKFAoe30saSkscikpLCJhZGRTZXNzaW9uUHJvcGVydGllcyIsIm11dGF0aW9uIixuKX0scHVzaE1ldHJpY3MobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoeHIsbixQKFAoe30saSkscikpLCJwdXNoTWV0cmljcyIsIm11dGF0aW9uIixuKX0sYWRkU2Vzc2lvbkZlZWRiYWNrKG4saSl7cmV0dXJuIHQocj0+ZS5yZXF1ZXN0KEFyLG4sUChQKHt9LGkpLHIpKSwiYWRkU2Vzc2lvbkZlZWRiYWNrIiwibXV0YXRpb24iLG4pfSxpbml0aWFsaXplU2Vzc2lvbihuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChJcixuLFAoUCh7fSxpKSxyKSksImluaXRpYWxpemVTZXNzaW9uIiwibXV0YXRpb24iLG4pfSxJZ25vcmUobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoT3IsbixQKFAoe30saSkscikpLCJJZ25vcmUiLCJxdWVyeSIsbil9fX1jbGFzcyBEcntjb25zdHJ1Y3Rvcih0LG4pe2x0KHRoaXMsImRlYnVnIik7bHQodGhpcywibmFtZSIpO3RoaXMuZGVidWc9dCx0aGlzLm5hbWU9bn1sb2coLi4udCl7aWYodGhpcy5kZWJ1Zyl7bGV0IG49YFske0RhdGUubm93KCl9XWA7dGhpcy5uYW1lJiYobis9YCAtICR7dGhpcy5uYW1lfWApLGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsW24sLi4udF0pfX19dmFyIHN0OyhmdW5jdGlvbihlKXtlLkJpbGxpbmdRdW90YUV4Y2VlZGVkPSJCaWxsaW5nUXVvdGFFeGNlZWRlZCJ9KShzdHx8KHN0PXt9KSk7Y29uc3QgQ3I9MTAsa3I9MWUzLFJyPTUwMCxMcj1bc3QuQmlsbGluZ1F1b3RhRXhjZWVkZWQudG9TdHJpbmcoKV0sUHI9ZT0+e3ZhciBuO3JldHVybigobj1lLnJlc3BvbnNlLmVycm9ycyk9PW51bGw/dm9pZCAwOm4uZmluZChpPT5Mci5pbmNsdWRlcyhpLm1lc3NhZ2UpKSk9PT12b2lkIDB9LEZyPWU9Pntjb25zdCB0PShuLGkscixzLG89MCk9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXtyZXR1cm4geWllbGQgbigpfWNhdGNoKGMpe2lmKGMgaW5zdGFuY2VvZiBoZSYmIVByKGMpKXRocm93IGM7aWYobzxDcilyZXR1cm4geWllbGQgbmV3IFByb21pc2UoZj0+c2V0VGltZW91dChmLGtyK1JyKk1hdGgucG93KDIsbykpKSx5aWVsZCB0KG4saSxyLHMsbysxKTt0aHJvdyBjb25zb2xlLmVycm9yKGBoaWdobGlnaHQuaW86IFske2V8fGV9XSBkYXRhIHJlcXVlc3QgZmFpbGVkIGFmdGVyICR7b30gcmV0cmllc2ApLGN9fSk7cmV0dXJuIHR9LGp0PTUscXQ9MmUzLEJyPVsibnVtYmVyIiwic3RyaW5nIiwiYm9vbGVhbiJdO3ZhciBaOyhmdW5jdGlvbihlKXtlW2UuSW5pdGlhbGl6ZT0wXT0iSW5pdGlhbGl6ZSIsZVtlLkFzeW5jRXZlbnRzPTFdPSJBc3luY0V2ZW50cyIsZVtlLklkZW50aWZ5PTJdPSJJZGVudGlmeSIsZVtlLlByb3BlcnRpZXM9M109IlByb3BlcnRpZXMiLGVbZS5NZXRyaWNzPTRdPSJNZXRyaWNzIixlW2UuRmVlZGJhY2s9NV09IkZlZWRiYWNrIixlW2UuQ3VzdG9tRXZlbnQ9Nl09IkN1c3RvbUV2ZW50IixlW2UuU3RvcD03XT0iU3RvcCJ9KShafHwoWj17fSkpO2Z1bmN0aW9uICRyKGUpe3JldHVybiBYKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCB0PXlpZWxkIG5ldyBQcm9taXNlKG49Pntjb25zdCBpPW5ldyBGaWxlUmVhZGVyO2kub25sb2FkPSgpPT5uKGkucmVzdWx0KSxpLnJlYWRBc0RhdGFVUkwobmV3IEJsb2IoW2VdKSl9KTtyZXR1cm4gdC5zbGljZSh0LmluZGV4T2YoIiwiKSsxKX0pfWNvbnN0ICRlPXNlbGY7ZnVuY3Rpb24gR3QoZSx0KXtjb25zdCBuPXt9LGk9W10scj1bXTtmb3IoY29uc3RbcyxvXW9mIE9iamVjdC5lbnRyaWVzKGUpKXtpZihvPT1udWxsKWNvbnRpbnVlO0JyLmluY2x1ZGVzKHR5cGVvZiBvKXx8aS5wdXNoKHtbc106b30pO2xldCBjO3R5cGVvZiBvPT0ic3RyaW5nIj9jPW86Yz1wZShvKSxjLmxlbmd0aD5xdCYmKHIucHVzaCh7W3NdOm99KSxjPWMuc3Vic3RyaW5nKDAscXQpKSxuW3NdPWN9cmV0dXJuIHQhPT0ic2Vzc2lvbiImJihpLmxlbmd0aD4wJiZjb25zb2xlLndhcm4oYEhpZ2hsaWdodCB3YXMgcGFzc2VkIG9uZSBvciBtb3JlICR7dH0gcHJvcGVydGllcyBub3Qgb2YgdHlwZSBzdHJpbmcsIG51bWJlciwgb3IgYm9vbGVhbi5gLGkpLHIubGVuZ3RoPjAmJmNvbnNvbGUud2FybihgSGlnaGxpZ2h0IHdhcyBwYXNzZWQgb25lIG9yIG1vcmUgJHt0fSBwcm9wZXJ0aWVzIGV4Y2VlZGluZyAyMDAwIGNoYXJhY3RlcnMsIHdoaWNoIHdpbGwgYmUgdHJ1bmNhdGVkLmAscikpLG59e2xldCBlLHQsbixpPTAscj0wLHM9ITEsbz0wLGM9bmV3IERyKCExLCJbd29ya2VyXSIpO2NvbnN0IGY9W10sZD0oKT0+byE9PTAmJmk8anQmJiEhKG4hPW51bGwmJm4ubGVuZ3RoKSx1PSh2LEUpPT57JGUucG9zdE1lc3NhZ2Uoe3Jlc3BvbnNlOnt0eXBlOlouQ3VzdG9tRXZlbnQsdGFnOnYscGF5bG9hZDpFfX0pfSx5PXY9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e2lkOkUsZXZlbnRzOmssbWVzc2FnZXM6dyxlcnJvcnM6TCxyZXNvdXJjZXNTdHJpbmc6JCx3ZWJTb2NrZXRFdmVudHNTdHJpbmc6cSxoYXNTZXNzaW9uVW5sb2FkZWQ6TSxoaWdobGlnaHRMb2dzOkl9PXYsTz1wZSh7bWVzc2FnZXM6d30pO2xldCBqPXtzZXNzaW9uX3NlY3VyZV9pZDpuLHBheWxvYWRfaWQ6RS50b1N0cmluZygpLGV2ZW50czp7ZXZlbnRzOmt9LG1lc3NhZ2VzOk8scmVzb3VyY2VzOiQsd2ViX3NvY2tldF9ldmVudHM6cSxlcnJvcnM6TCxpc19iZWFjb246ITEsaGFzX3Nlc3Npb25fdW5sb2FkZWQ6TX07SSYmKGouaGlnaGxpZ2h0X2xvZ3M9SSk7Y29uc3QgVT1mbihKU09OLnN0cmluZ2lmeShqKSksSD1jbihVKSxRPXlpZWxkICRyKEgpLGE9e3R5cGU6Wi5Bc3luY0V2ZW50cyxpZDpFLGV2ZW50c1NpemU6VS5sZW5ndGgsY29tcHJlc3NlZFNpemU6US5sZW5ndGh9O2MubG9nKGBQdXNoaW5nIHBheWxvYWQ6ICR7SlNPTi5zdHJpbmdpZnkoe3Nlc3Npb25TZWN1cmVJRDpuLGlkOkUsZmlyc3RTSUQ6TWF0aC5taW4oLi4uai5ldmVudHMuZXZlbnRzLm1hcCh4PT54PT1udWxsP3ZvaWQgMDp4Ll9zaWQpLmZpbHRlcih4PT4hIXgpKSxldmVudHNMZW5ndGg6ai5ldmVudHMuZXZlbnRzLmxlbmd0aCxtZXNzYWdlc0xlbmd0aDp3Lmxlbmd0aCxyZXNvdXJjZXNMZW5ndGg6JC5sZW5ndGgsd2ViU29ja2V0TGVuZ3RoOnEubGVuZ3RoLGVycm9yc0xlbmd0aDpMLmxlbmd0aCxidWZMZW5ndGg6VS5sZW5ndGgsY29tcHJlc3NlZExlbmd0aDpILmxlbmd0aCxjb21wcmVzc2VkQmFzZTY0TGVuZ3RoOlEubGVuZ3RofSx2b2lkIDAsMil9YCk7Y29uc3QgaD1lLlB1c2hQYXlsb2FkQ29tcHJlc3NlZCh7c2Vzc2lvbl9zZWN1cmVfaWQ6bixwYXlsb2FkX2lkOkUudG9TdHJpbmcoKSxkYXRhOlF9KTtsZXQgXz1Qcm9taXNlLnJlc29sdmUoKTtmLmxlbmd0aCYmKF89ZS5wdXNoTWV0cmljcyh7bWV0cmljczpmfSksZi5zcGxpY2UoMCkpO2xldCBBPXBlcmZvcm1hbmNlLm5vdygpO2NvbnN0IFI9c2V0SW50ZXJ2YWwoKCk9PntBJiZwZXJmb3JtYW5jZS5ub3coKS1BPiR0JiYoY29uc29sZS53YXJuKGBVcGxvYWRpbmcgcHVzaFBheWxvYWQgdG9vayB0b28gbG9uZywgZmFpbHVyZSBudW1iZXIgIyR7cn0uYCkscis9MSxjbGVhckludGVydmFsKFIpLHI+PWp0JiYoY29uc29sZS53YXJuKCJVcGxvYWRpbmcgcHVzaFBheWxvYWQgdG9vayB0b28gbG9uZywgc3RvcHBpbmcgcmVjb3JkaW5nIHRvIGF2b2lkIE9PTS4iKSwkZS5wb3N0TWVzc2FnZSh7cmVzcG9uc2U6e3R5cGU6Wi5TdG9wLHJlcXVlc3RTdGFydDpBLGFzeW5jRXZlbnRzUmVzcG9uc2U6YX19KSxiKHt0eXBlOlouUHJvcGVydGllcyxwcm9wZXJ0aWVzT2JqZWN0OntzdG9wUmVhc29uOiJQdXNoIFBheWxvYWQgVGltZW91dCJ9LHByb3BlcnR5VHlwZTp7dHlwZToidHJhY2sifX0pKSl9LDEwMCk7dHJ5e3lpZWxkIFByb21pc2UuYWxsKFtoLF9dKSxyJiZwZXJmb3JtYW5jZS5ub3coKS1BPD0kdCYmKGNvbnNvbGUud2FybihgcHVzaFBheWxvYWQgc3VjY2VlZGVkIGFmdGVyICMke3J9IGZhaWx1cmVzLCByZXNldHRpbmcgc3RvcCBzd2l0Y2guYCkscj0wKX1maW5hbGx5e0E9MCxjbGVhckludGVydmFsKFIpfSRlLnBvc3RNZXNzYWdlKHtyZXNwb25zZTphfSl9KSxnPXY9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e3VzZXJPYmplY3Q6RSx1c2VySWRlbnRpZmllcjprLHNvdXJjZTp3fT12O3c9PT0ic2VnbWVudCI/dSgiU2VnbWVudCBJZGVudGlmeSIscGUoUCh7dXNlcklkZW50aWZpZXI6a30sRSkpKTp1KCJJZGVudGlmeSIscGUoUCh7dXNlcklkZW50aWZpZXI6a30sRSkpKSx5aWVsZCBlLmlkZW50aWZ5U2Vzc2lvbih7c2Vzc2lvbl9zZWN1cmVfaWQ6bix1c2VyX2lkZW50aWZpZXI6ayx1c2VyX29iamVjdDpHdChFLCJ1c2VyIil9KTtjb25zdCBMPXc9PT0ic2VnbWVudCI/dzoiZGVmYXVsdCI7Yy5sb2coYElkZW50aWZ5ICgke2t9LCBzb3VyY2U6ICR7TH0pIHcvIG9iajogJHtwZShFKX0gQCAke3R9YCl9KSxiPXY9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e3Byb3BlcnRpZXNPYmplY3Q6RSxwcm9wZXJ0eVR5cGU6a309djtsZXQgdzsoaz09bnVsbD92b2lkIDA6ay50eXBlKT09PSJzZXNzaW9uIj8odz0iU2Vzc2lvbiIseWllbGQgZS5hZGRTZXNzaW9uUHJvcGVydGllcyh7c2Vzc2lvbl9zZWN1cmVfaWQ6bixwcm9wZXJ0aWVzX29iamVjdDpHdChFLCJzZXNzaW9uIil9KSk6KGs9PW51bGw/dm9pZCAwOmsuc291cmNlKT09PSJzZWdtZW50Ij93PSJTZWdtZW50Ijp3PSJUcmFjayIsdyE9PSJTZXNzaW9uIiYmdSh3LHBlKEUpKSxjLmxvZyhgQWRkaW5nICR7d30gUHJvcGVydGllcyB0byBzZXNzaW9uICgke259KSB3LyBvYmo6ICR7SlNPTi5zdHJpbmdpZnkoRSl9IEAgJHt0fWApfSksbT12PT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtmLnB1c2goLi4udi5tZXRyaWNzLm1hcChFPT4oe25hbWU6RS5uYW1lLHZhbHVlOkUudmFsdWUsc2Vzc2lvbl9zZWN1cmVfaWQ6bixjYXRlZ29yeTpFLmNhdGVnb3J5LGdyb3VwOkUuZ3JvdXAsdGltZXN0YW1wOkUudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksdGFnczpFLnRhZ3N9KSkpfSksTj12PT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdHt0aW1lc3RhbXA6RSx2ZXJiYXRpbTprLHVzZXJFbWFpbDp3LHVzZXJOYW1lOkx9PXY7eWllbGQgZS5hZGRTZXNzaW9uRmVlZGJhY2soe3Nlc3Npb25fc2VjdXJlX2lkOm4sdGltZXN0YW1wOkUsdmVyYmF0aW06ayx1c2VyX2VtYWlsOncsdXNlcl9uYW1lOkx9KX0pOyRlLm9ubWVzc2FnZT1mdW5jdGlvbih2KXtyZXR1cm4gWCh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYodi5kYXRhLm1lc3NhZ2UudHlwZT09PVouSW5pdGlhbGl6ZSl7dD12LmRhdGEubWVzc2FnZS5iYWNrZW5kLG49di5kYXRhLm1lc3NhZ2Uuc2Vzc2lvblNlY3VyZUlELHM9di5kYXRhLm1lc3NhZ2UuZGVidWcsbz12LmRhdGEubWVzc2FnZS5yZWNvcmRpbmdTdGFydFRpbWUsYy5kZWJ1Zz1zLGU9d3IobmV3IGNyKHQse2hlYWRlcnM6e319KSxGcihuKSk7cmV0dXJufWlmKGQoKSl0cnl7di5kYXRhLm1lc3NhZ2UudHlwZT09PVouQXN5bmNFdmVudHM/eWllbGQgeSh2LmRhdGEubWVzc2FnZSk6di5kYXRhLm1lc3NhZ2UudHlwZT09PVouSWRlbnRpZnk/eWllbGQgZyh2LmRhdGEubWVzc2FnZSk6di5kYXRhLm1lc3NhZ2UudHlwZT09PVouUHJvcGVydGllcz95aWVsZCBiKHYuZGF0YS5tZXNzYWdlKTp2LmRhdGEubWVzc2FnZS50eXBlPT09Wi5NZXRyaWNzP3lpZWxkIG0odi5kYXRhLm1lc3NhZ2UpOnYuZGF0YS5tZXNzYWdlLnR5cGU9PT1aLkZlZWRiYWNrJiYoeWllbGQgTih2LmRhdGEubWVzc2FnZSkpLGk9MH1jYXRjaChFKXtzJiZjb25zb2xlLmVycm9yKEUpLGkrPTF9fSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWhpZ2hsaWdodC1jbGllbnQtd29ya2VyLUJlTlRnNWxWLmpzLm1hcAo=",Ea=typeof self<"u"&&self.Blob&&new Blob([(e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0)))(Ba)],{type:"text/javascript;charset=utf-8"});function yy(e){let t;try{if(t=Ea&&(self.URL||self.webkitURL).createObjectURL(Ea),!t)throw"";const i=new Worker(t,{name:e?.name});return i.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),i}catch{return new Worker("data:text/javascript;base64,"+Ba,{name:e?.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}var We;!function(e){e[e.Initialize=0]="Initialize",e[e.AsyncEvents=1]="AsyncEvents",e[e.Identify=2]="Identify",e[e.Properties=3]="Properties",e[e.Metrics=4]="Metrics",e[e.Feedback=5]="Feedback",e[e.CustomEvent=6]="CustomEvent",e[e.Stop=7]="Stop"}(We||(We={}));const dt=(e,t)=>{console.warn(`Highlight Warning: (${e}): `,{output:t})};var qs=function(e){return e.CLIENT_ID="highlightClientID",e}(qs||{});class er{constructor(t,i){var n,s,r,l,o;Y(this,"options"),Y(this,"isRunningOnHighlight"),Y(this,"organizationID"),Y(this,"graphqlSDK"),Y(this,"events"),Y(this,"sessionData"),Y(this,"ready"),Y(this,"manualStopped"),Y(this,"state"),Y(this,"logger"),Y(this,"enableSegmentIntegration"),Y(this,"privacySetting"),Y(this,"enableCanvasRecording"),Y(this,"enablePerformanceRecording"),Y(this,"samplingStrategy"),Y(this,"inlineImages"),Y(this,"inlineStylesheet"),Y(this,"debugOptions"),Y(this,"listeners"),Y(this,"firstloadVersion"),Y(this,"environment"),Y(this,"sessionShortcut"),Y(this,"appVersion"),Y(this,"serviceName"),Y(this,"_worker"),Y(this,"_optionsInternal"),Y(this,"_backendUrl"),Y(this,"_recordingStartTime"),Y(this,"_isOnLocalHost"),Y(this,"_onToggleFeedbackFormVisibility"),Y(this,"_firstLoadListeners"),Y(this,"_isCrossOriginIframe"),Y(this,"_eventBytesSinceSnapshot"),Y(this,"_lastSnapshotTime"),Y(this,"_lastVisibilityChangeTime"),Y(this,"pushPayloadTimerId"),Y(this,"hasSessionUnloaded"),Y(this,"hasPushedData"),Y(this,"reloaded"),Y(this,"_hasPreviouslyInitialized"),Y(this,"_recordStop"),t.sessionSecureID||(t.sessionSecureID=(0,f.G)()),this.options=t,this.debugOptions="boolean"==typeof(null==(n=this.options)?void 0:n.debug)?this.options.debug?{clientInteractions:!0}:{}:null!=(r=null==(s=this.options)?void 0:s.debug)?r:{},this.logger=new ny(this.debugOptions.clientInteractions),t.storageMode&&(this.logger.log(`initializing in ${t.storageMode} session mode`),(0,f.v)(t.storageMode)),(0,f.w)(!(null!=t&&t.skipCookieSessionDataLoad)),this._worker=new yy,this._worker.onmessage=c=>{var d,u,m;(null==(d=c.data.response)?void 0:d.type)===We.AsyncEvents?(this._eventBytesSinceSnapshot+=c.data.response.eventsSize,this.logger.log(`Web worker sent payloadID ${c.data.response.id} size ${c.data.response.eventsSize} bytes, compression ratio ${c.data.response.eventsSize/c.data.response.compressedSize}.\n                Total since snapshot: ${(this._eventBytesSinceSnapshot/1e6).toFixed(1)}MB`)):(null==(u=c.data.response)?void 0:u.type)===We.CustomEvent?this.addCustomEvent(c.data.response.tag,c.data.response.payload):(null==(m=c.data.response)?void 0:m.type)===We.Stop&&(dt("Stopping recording due to worker failure",c.data.response),this.stopRecording(!1))};let a=(0,f.f)();if(this.reloaded=!1,null!=(l=this.sessionData)&&l.sessionSecureID||null==a||!a.sessionSecureID){for(const c of Object.values(f.S))(0,f.r)(c);this.sessionData={sessionSecureID:this.options.sessionSecureID,projectID:0,payloadID:1,sessionStartTime:Date.now()}}else this.sessionData=a,this.options.sessionSecureID=a.sessionSecureID,this.reloaded=!0,this.logger.log(`Tab reloaded, continuing previous session: ${this.sessionData.sessionSecureID}`);this._hasPreviouslyInitialized=!1,this._firstLoadListeners=i||new f.F(this.options);try{window.parent.document&&(this._isCrossOriginIframe=!1)}catch{this._isCrossOriginIframe=null==(o=this.options.recordCrossOriginIframe)||o}this._initMembers(this.options)}static create(t){return new er(t)}_reset(t){return te(this,arguments,function*({forceNew:i}){let n,s;if(this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),!i)try{n=(0,f.e)(f.S.USER_IDENTIFIER);const r=(0,f.e)(f.S.USER_OBJECT);r&&(s=JSON.parse(r))}catch{}for(const r of Object.values(f.S))(0,f.r)(r);this.sessionData.sessionSecureID=(0,f.G)(),this.sessionData.sessionStartTime=Date.now(),this.options.sessionSecureID=this.sessionData.sessionSecureID,this.stopRecording(),this._firstLoadListeners=new f.F(this.options),yield this.initialize(),n&&s&&this.identify(n,s)})}_initMembers(t){var i,n,s,r,l,o,a,c,d,u,m;this.sessionShortcut=!1,this._recordingStartTime=0,this._isOnLocalHost="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||""===window.location.hostname,this.ready=!1,this.state="NotRecording",this.manualStopped=!1,this.enableSegmentIntegration=!!t.enableSegmentIntegration,this.privacySetting=null!=(i=t.privacySetting)?i:"default",this.enableCanvasRecording=null!=(n=t.enableCanvasRecording)&&n,this.enablePerformanceRecording=null==(s=t.enablePerformanceRecording)||s,this.inlineImages=null!=(r=t.inlineImages)?r:this._isOnLocalHost,this.inlineStylesheet=null==(l=t.inlineStylesheet)||l,this.samplingStrategy=R({canvasFactor:.5,canvasMaxSnapshotDimension:360,canvasClearWebGLBuffer:!0,dataUrlOptions:(0,f.h)()},null!=(o=t.samplingStrategy)?o:{canvas:2}),this._backendUrl=null!=(a=t?.backendUrl)?a:"https://pub.highlight.io","/"===this._backendUrl[0]&&(this._backendUrl=new URL(this._backendUrl,document.baseURI).href);const p=new Cc(`${this._backendUrl}`,{headers:{}});this.graphqlSDK=function ab(e,t=lb){return{PushPayload:(i,n)=>t(s=>e.request(ca,i,R(R({},n),s)),"PushPayload","mutation",i),PushPayloadCompressed:(i,n)=>t(s=>e.request(eb,i,R(R({},n),s)),"PushPayloadCompressed","mutation",i),identifySession:(i,n)=>t(s=>e.request(tb,i,R(R({},n),s)),"identifySession","mutation",i),addSessionProperties:(i,n)=>t(s=>e.request(ib,i,R(R({},n),s)),"addSessionProperties","mutation",i),pushMetrics:(i,n)=>t(s=>e.request(nb,i,R(R({},n),s)),"pushMetrics","mutation",i),addSessionFeedback:(i,n)=>t(s=>e.request(sb,i,R(R({},n),s)),"addSessionFeedback","mutation",i),initializeSession:(i,n)=>t(s=>e.request(rb,i,R(R({},n),s)),"initializeSession","mutation",i),Ignore:(i,n)=>t(s=>e.request(ob,i,R(R({},n),s)),"Ignore","query",i)}}(p,(e=>{const t=(i,n,s,r,l=0)=>te(void 0,null,function*(){try{return yield i()}catch(o){if(o instanceof Ee&&!(e=>{var t;return void 0===(null==(t=e.response.errors)?void 0:t.find(i=>ly.includes(i.message)))})(o))throw o;if(l<10)return yield new Promise(a=>setTimeout(a,1e3+500*Math.pow(2,l))),yield t(i,n,s,r,l+1);throw console.error(`highlight.io: [${e||e}] data request failed after ${l} retries`),o}});return t})((null==(c=this.sessionData)?void 0:c.sessionSecureID)||(null==(d=this.options)?void 0:d.sessionSecureID))),this.environment=null!=(u=t.environment)?u:"production",this.appVersion=t.appVersion,this.serviceName=null!=(m=t.serviceName)?m:"",this.organizationID="string"==typeof t.organizationID?t.organizationID:t.organizationID.toString(),this.isRunningOnHighlight="1"===this.organizationID||"1jdkoe52"===this.organizationID,this.firstloadVersion=t.firstloadVersion||"unknown",this.sessionShortcut=t.sessionShortcut||!1,this._onToggleFeedbackFormVisibility=()=>{};const S=ge(t,["firstloadVersion"]);this._optionsInternal=S,this.listeners=[],this.events=[],this.hasSessionUnloaded=!1,this.hasPushedData=!1,window.Intercom&&window.Intercom("onShow",()=>{window.Intercom("update",{highlightSessionURL:this.getCurrentSessionURLWithTimestamp()}),this.addProperties({event:"Intercom onShow"})}),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=(new Date).getTime(),this._lastVisibilityChangeTime=(new Date).getTime()}identify(t,i={},n){t&&""!==t?(this.sessionData.userIdentifier=t.toString(),this.sessionData.userObject=i,(0,f.s)(f.S.USER_IDENTIFIER,t.toString()),(0,f.s)(f.S.USER_OBJECT,JSON.stringify(i)),this._worker.postMessage({message:{type:We.Identify,userIdentifier:t,userObject:i,source:n}})):console.warn("Highlight's identify() call was passed an empty identifier.",{user_identifier:t,user_object:i})}pushCustomError(t,i){return this.consumeCustomError(new Error(t),void 0,i)}consumeCustomError(t,i,n){let s={};if(n)try{s=R(R({},JSON.parse(n)),s)}catch{}return this.consumeError(t,{message:i,payload:s})}consumeError(t,{message:i,payload:n,source:s,type:r}){var l,o,a,c;t.cause&&(n=se(R({},n),{"exception.cause":t.cause}));let d=i?i+":"+t.message:t.message;"React.ErrorBoundary"===r&&(d="ErrorBoundary: "+d);const u=f.E.parse(t);this._firstLoadListeners.errors.push({event:d,type:r??"custom",url:window.location.href,source:s??"",lineNumber:null!=(l=u[0])&&l.lineNumber?null==(o=u[0])?void 0:o.lineNumber:0,columnNumber:null!=(a=u[0])&&a.columnNumber?null==(c=u[0])?void 0:c.columnNumber:0,stackTrace:u,timestamp:(new Date).toISOString(),payload:JSON.stringify(n)})}addProperties(t={},i){const n=R({},t);Object.entries(n).forEach(([s,r])=>{try{structuredClone(r)}catch{delete n[s]}}),this._worker.postMessage({message:{type:We.Properties,propertiesObject:n,propertyType:i}})}initialize(t){return te(this,null,function*(){var i,n,s,r,l,o,a,c,d;if(null!=navigator&&navigator.webdriver&&!window.Cypress||null!=(i=navigator?.userAgent)&&i.includes("Googlebot")||null!=(n=navigator?.userAgent)&&n.includes("AdsBot"))null==(s=this._firstLoadListeners)||s.stopListening();else try{if(null!=t&&t.forceNew)return void(yield this._reset(t));this.logger.log("Initializing...",t,this.sessionData,this.options),this.sessionData=null!=(r=(0,f.f)(this.sessionData.sessionSecureID))?r:this.sessionData,null!=(l=this.sessionData)&&l.sessionStartTime?this._recordingStartTime=null==(o=this.sessionData)?void 0:o.sessionStartTime:(this._recordingStartTime=(new Date).getTime(),this.sessionData.sessionStartTime=this._recordingStartTime),(0,f.j)(""),(0,f.k)(this.sessionData);let m,u=(0,f.e)(qs.CLIENT_ID);u||(u=(0,f.G)(),(0,f.s)(qs.CLIENT_ID,u)),m=!this.options.disableSessionRecording&&void 0===this.options.disableNetworkRecording&&"boolean"!=typeof this.options.networkRecording&&((null==(a=this.options.networkRecording)?void 0:a.recordHeadersAndBody)||!1);let p=[];if("object"==typeof this.options.networkRecording&&null!=(c=this.options.networkRecording.destinationDomains)&&c.length&&(p=this.options.networkRecording.destinationDomains),this._isCrossOriginIframe)yield this._setupCrossOriginIframe();else{const X=yield this.graphqlSDK.initializeSession({organization_verbose_id:this.organizationID,enable_strict_privacy:"strict"===this.privacySetting,privacy_setting:this.privacySetting,enable_recording_network_contents:m,clientVersion:this.firstloadVersion,firstloadVersion:this.firstloadVersion,clientConfig:JSON.stringify(this._optionsInternal),environment:this.environment,id:u,appVersion:this.appVersion,serviceName:this.serviceName,session_secure_id:this.sessionData.sessionSecureID,client_id:u,network_recording_domains:p,disable_session_recording:this.options.disableSessionRecording});if(X.initializeSession.secure_id!==this.sessionData.sessionSecureID&&this.logger.log(`Unexpected secure id returned by initializeSession: ${X.initializeSession.secure_id}, expected ${this.sessionData.sessionSecureID}`),this.sessionData.sessionSecureID=X.initializeSession.secure_id,this.sessionData.projectID=parseInt((null==(d=X?.initializeSession)?void 0:d.project_id)||"0"),!this.sessionData.projectID||!this.sessionData.sessionSecureID)return void console.error("Failed to initialize Highlight; an error occurred on our end.",this.sessionData)}if(this.logger.log(`Loaded Highlight\nRemote: ${this._backendUrl}\nProject ID: ${this.sessionData.projectID}\nSessionSecureID: ${this.sessionData.sessionSecureID}`),this.options.sessionSecureID=this.sessionData.sessionSecureID,this._worker.postMessage({message:{type:We.Initialize,sessionSecureID:this.sessionData.sessionSecureID,backend:this._backendUrl,debug:!!this.debugOptions.clientInteractions,recordingStartTime:this._recordingStartTime}}),this.sessionData.userIdentifier&&this.identify(this.sessionData.userIdentifier,this.sessionData.userObject),this._firstLoadListeners.isListening()?this._firstLoadListeners.hasNetworkRecording||f.F.setupNetworkListener(this._firstLoadListeners,this.options):this._firstLoadListeners.startListening(),this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this._isCrossOriginIframe||(this.pushPayloadTimerId=setTimeout(()=>{this._save()},f.l)),this.options.disableSessionRecording)return this.logger.log("Highlight is NOT RECORDING a session replay per H.init setting."),this.ready=!0,this.state="Recording",void(this.manualStopped=!1);const{getDeviceDetails:y}=(()=>{if(!("performance"in window)||!("memory"in performance))return{getDeviceDetails:void 0,getCurrentDeviceDetails:void 0};const e=window.performance;return{getDeviceDetails:()=>({deviceMemory:my(navigator.deviceMemory||0)}),getCurrentDeviceDetails:()=>({jsHeapSizeLimit:$s(e.memory.jsHeapSizeLimit),totalJSHeapSize:$s(e.memory.totalJSHeapSize),usedJSHeapSize:$s(e.memory.usedJSHeapSize)})}})();y&&this.recordMetric([{name:f.M.DeviceMemory,value:y().deviceMemory,category:f.n.Device,group:window.location.href}]);const h=(X,G)=>{G&&this.logger.log("received isCheckout emit",{event:X}),this.events.push(X)};h.bind(this);const S=!!this._recordStop;this._recordStop&&(this._recordStop(),this._recordStop=void 0);const[g,W]=(e=>{switch(this.privacySetting){case"strict":case"default":return[!0,void 0];case"none":return[!1,{password:!0}]}})();this._recordStop=Le({ignoreClass:"highlight-ignore",blockClass:"highlight-block",emit:h,recordCrossOriginIframes:this.options.recordCrossOriginIframe,privacySetting:this.privacySetting,maskAllInputs:g,maskInputOptions:W,recordCanvas:this.enableCanvasRecording,sampling:{canvas:{fps:this.samplingStrategy.canvas,fpsManual:this.samplingStrategy.canvasManualSnapshot,resizeFactor:this.samplingStrategy.canvasFactor,clearWebGLBuffer:this.samplingStrategy.canvasClearWebGLBuffer,initialSnapshotDelay:this.samplingStrategy.canvasInitialSnapshotDelay,dataURLOptions:this.samplingStrategy.dataUrlOptions,maxSnapshotDimension:this.samplingStrategy.canvasMaxSnapshotDimension}},keepIframeSrcFn:X=>!this.options.recordCrossOriginIframe,inlineImages:this.inlineImages,collectFonts:this.inlineImages,inlineStylesheet:this.inlineStylesheet,plugins:[Zc()],logger:"boolean"==typeof this.options.debug&&this.options.debug||"object"==typeof this.options.debug&&this.options.debug.domRecording?{debug:this.logger.log,warn:dt}:void 0}),S||this.options.recordCrossOriginIframe&&this._setupCrossOriginIframeParent(),document.referrer&&(window&&document.referrer.includes(window.location.origin)||(this.addCustomEvent("Referrer",document.referrer),this.addProperties({referrer:document.referrer},{type:"session"}))),this._setupWindowListeners(),this.ready=!0,this.state="Recording",this.manualStopped=!1}catch(u){this._isOnLocalHost&&(console.error(u),dt("initializeSession",u))}})}_visibilityHandler(t){return te(this,null,function*(){this.manualStopped?this.logger.log("Ignoring visibility event due to manual stop."):(new Date).getTime()-this._lastVisibilityChangeTime<f.V||(this._lastVisibilityChangeTime=(new Date).getTime(),this.logger.log(`Detected window ${t?"hidden":"visible"}.`),t?(this.addCustomEvent("TabHidden",!0),this.options.disableBackgroundRecording&&this.stopRecording()):(this.options.disableBackgroundRecording&&(yield this.initialize()),this.addCustomEvent("TabHidden",!1)))})}_setupCrossOriginIframe(){return te(this,null,function*(){this.logger.log("highlight in cross-origin iframe is waiting "),yield new Promise(t=>{const i=n=>{if(n.data.highlight===za){const s=n.data;this.logger.log("highlight got window message ",s),this.sessionData.projectID=s.projectID,this.sessionData.sessionSecureID=s.sessionSecureID,window.parent.postMessage({highlight:Oa},"*"),window.removeEventListener("message",i),t()}};window.addEventListener("message",i)})})}_setupCrossOriginIframeParent(){this.logger.log("highlight setting up cross origin iframe parent notification"),setInterval(()=>{window.document.querySelectorAll("iframe").forEach(t=>{var i;null==(i=t.contentWindow)||i.postMessage({highlight:za,projectID:this.sessionData.projectID,sessionSecureID:this.sessionData.sessionSecureID},"*")})},f.l),window.addEventListener("message",t=>{t.data.highlight===Oa&&this.logger.log("highlight got response from initialized iframe")})}_setupWindowListeners(){var t;try{const n=this;this.enableSegmentIntegration&&this.listeners.push(Jb(r=>{if("track"===r.type){const l={};l["segment-event"]=r.event,n.addProperties(l,{type:"track",source:"segment"})}else if("identify"===r.type){const l=r.userId.replace(/^"(.*)"$/,"$1");n.identify(l,r.traits,"segment")}})),this.listeners.push(cb(r=>{this.reloaded?(this.addCustomEvent("Reload",r),this.reloaded=!1,n.addProperties({reload:!0},{type:"session"})):this.addCustomEvent("Navigate",r)})),this.listeners.push((e=>{let t;const i=()=>{clearTimeout(t),t=setTimeout(()=>{var n,s;e({height:window.innerHeight,width:window.innerWidth,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth,orientation:null!=(s=null==(n=window.screen.orientation)?void 0:n.angle)?s:0})},500)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)})(r=>{this.addCustomEvent("Viewport",r),this.submitViewportMetrics(r)})),this.listeners.push((e=>{const t=i=>{if(i.target){const s=da(i.target);e(s,i)}};return window.addEventListener("click",t),()=>window.removeEventListener("click",t)})((r,l)=>{let o=null,a=null;if(l&&l.target){const c=l.target;o=ua(c),a=c.textContent,a&&a.length>2e3&&(a=a.substring(0,2e3))}this.addCustomEvent("Click",{clickTarget:r,clickTextContent:a,clickSelector:o})})),this.listeners.push((e=>{const t=i=>{if(i.target){const n=da(i.target);e(n)}};return window.addEventListener("focusin",t),()=>window.removeEventListener("focusin",t)})(r=>{r&&this.addCustomEvent("Focus",r)})),this.listeners.push(iy(r=>{const{name:l,value:o}=r;this.recordMetric([{name:l,value:o,group:window.location.href,category:f.n.WebVital}])})),this.sessionShortcut&&((e,t)=>{const i=function Ub(e){"string"!=typeof e&&(e="");const t=(e=e.replace(/\s/g,"")).split(",");let i=t.lastIndexOf("");for(;i>=0;)t[i-1]+=",",t.splice(i,1),i=t.lastIndexOf("");return t}(e);let n=[];for(let l=0;l<i.length;l++){let o=i[l].split("+");n=[],o.length>1&&(n=Mb(Va,o)),o=o[o.length-1],o="*"===o?"*":Kb(o),o in we||(we[o]=[]),we[o].push({mods:n,shortcut:i[l],key:i[l],method:t,keyup:!1,keydown:!0,scope:"all",splitKey:"+"})}!function Hb(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent(`on${t}`,()=>{i(window.event)})}(document,"keydown",l=>{!function Ob(e){const t=we["*"];let i=e.keyCode||e.which||e.charCode;if((93===i||224===i)&&(i=91),-1===ce.indexOf(i)&&229!==i&&ce.push(i),["ctrlKey","altKey","shiftKey","metaKey"].forEach(n=>{const s=Ga[n];e[n]&&-1===ce.indexOf(s)?ce.push(s):!e[n]&&ce.indexOf(s)>-1?ce.splice(ce.indexOf(s),1):"metaKey"===n&&e[n]&&3===ce.length&&(e.ctrlKey||e.shiftKey||e.altKey||(ce=ce.slice(ce.indexOf(s))))}),!(i in de)||(de[i]=!0,t)){for(const n in de)Object.prototype.hasOwnProperty.call(de,n)&&(de[n]=e[Ga[n]]);if(e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===ce.indexOf(17)&&ce.push(17),-1===ce.indexOf(18)&&ce.push(18),de[17]=!0,de[18]=!0),i in we)for(let n=0;n<we[i].length;n++)("keydown"===e.type&&we[i][n].keydown||"keyup"===e.type&&we[i][n].keyup)&&we[i][n].key&&zb(e,we[i][n],"all")}}(l)})})(this.sessionShortcut,()=>{window.open(this.getCurrentSessionURLWithTimestamp(),"_blank")}),this.enablePerformanceRecording&&(this.listeners.push(((e,t)=>{let i=0,n=0;const s=()=>{e({jsHeapSizeLimit:Za.memory.jsHeapSizeLimit||0,usedJSHeapSize:Za.memory.usedJSHeapSize||0,relativeTimestamp:((new Date).getTime()-t)/1e3,fps:i})};let r;s(),r=setInterval(()=>{s()},5e3);let l=0,o=Date.now();const a=function(){var c=Date.now();l++,c>1e3+o&&(i=Math.round(1e3*l/(c-o)),l=0,o=c),n=requestAnimationFrame(a)};return a(),()=>{clearInterval(r),cancelAnimationFrame(n)}})(r=>{this.addCustomEvent("Performance",(0,f.t)(r)),this.recordMetric(Object.entries(r).map(([l,o])=>o?{name:l,value:o,category:f.n.Performance,group:window.location.href}:void 0).filter(l=>l))},this._recordingStartTime)),this.listeners.push(((e,t)=>{let i={},n=16.666666666666668;te(void 0,null,function*(){const e=[];for(let t=0;t<30;t++)e.push(yield new Promise(e=>requestAnimationFrame(t=>requestAnimationFrame(i=>e(i-t)))));return e.reduce((t,i)=>t+i,0)/e.length}).then(a=>n=a);const s=a=>{var c;null!=i&&i.event||(i={event:a,location:window.location.href,timerStart:null==(c=window.performance)?void 0:c.now()},window.requestAnimationFrame(r))},r=()=>{if(null==i||!i.timerStart)return;const a=window.performance.now()-i.timerStart-n;l(a),i={}},l=a=>{e({relativeTimestamp:((new Date).getTime()-t)/1e3,jankAmount:a,querySelector:o(),newLocation:window.location.href!=i.location?window.location.href:void 0})},o=()=>{var a;return null!=(a=i?.event)&&a.target?ua(i.event.target):""};return window.addEventListener("click",s,!0),window.addEventListener("keydown",s,!0),()=>{window.removeEventListener("keydown",s,!0),window.removeEventListener("click",s,!0)}})(r=>{this.addCustomEvent("Jank",(0,f.t)(r)),this.recordMetric([{name:"Jank",value:r.jankAmount,category:f.n.WebVital,group:r.querySelector}])},this._recordingStartTime))),this._hasPreviouslyInitialized||(null!=(t=window.electron)&&t.ipcRenderer?(window.electron.ipcRenderer.on("highlight.run",({visible:r})=>{this._visibilityHandler(!r)}),this.logger.log("Set up Electron highlight.run events.")):((e=>{let t,i;if(typeof document.hidden<"u"?(t="hidden",i="visibilitychange"):typeof document.msHidden<"u"?(t="msHidden",i="msvisibilitychange"):typeof document.webkitHidden<"u"&&(t="webkitHidden",i="webkitvisibilitychange"),void 0===i)return()=>{};if(void 0===t)return()=>{};const n=t;document.addEventListener(i,()=>{const l=document[n];e(!!l)})})(r=>this._visibilityHandler(r)),this.logger.log("Set up document visibility listener.")),this._hasPreviouslyInitialized=!0);const s=()=>{this.hasSessionUnloaded=!0,this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0)};window.addEventListener("beforeunload",s),this.listeners.push(()=>window.removeEventListener("beforeunload",s))}catch(n){this._isOnLocalHost&&(console.error(n),dt("initializeSession _setupWindowListeners",n))}const i=()=>{this.addCustomEvent("Page Unload",""),(0,f.j)(this.sessionData.sessionSecureID),(0,f.k)(this.sessionData)};if(window.addEventListener("beforeunload",i),this.listeners.push(()=>window.removeEventListener("beforeunload",i)),navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)){const n=()=>{this.addCustomEvent("Page Unload",""),(0,f.j)(this.sessionData.sessionSecureID),(0,f.k)(this.sessionData)};window.addEventListener("pagehide",n),this.listeners.push(()=>window.removeEventListener("beforeunload",n))}}submitViewportMetrics({height:t,width:i,availHeight:n,availWidth:s}){this.recordMetric([{name:f.M.ViewportHeight,value:t,category:f.n.Device,group:window.location.href},{name:f.M.ViewportWidth,value:i,category:f.n.Device,group:window.location.href},{name:f.M.ScreenHeight,value:n,category:f.n.Device,group:window.location.href},{name:f.M.ScreenWidth,value:s,category:f.n.Device,group:window.location.href},{name:f.M.ViewportArea,value:t*i,category:f.n.Device,group:window.location.href}])}recordMetric(t){this._worker.postMessage({message:{type:We.Metrics,metrics:t.map(i=>se(R({},i),{tags:i.tags||[],group:i.group||window.location.href,category:i.category||f.n.Frontend,timestamp:new Date}))}})}stopRecording(t){this.manualStopped=!!t,this.manualStopped&&this.addCustomEvent("Stop","H.stop() was called which stops Highlight from recording."),this.state="NotRecording",t&&this._recordStop&&(this._recordStop(),this._recordStop=void 0),this.listeners.forEach(i=>i()),this.listeners=[]}getCurrentSessionTimestamp(){return this._recordingStartTime}getCurrentSessionURLWithTimestamp(){const t=(new Date).getTime(),{projectID:i,sessionSecureID:n}=this.sessionData;return`https://${f.H}/${i}/sessions/${n}?ts=${(t-this._recordingStartTime)/1e3}`}getCurrentSessionURL(){const t=this.sessionData.projectID,i=this.sessionData.sessionSecureID;return t&&i?`https://${f.H}/${t}/sessions/${i}`:null}snapshot(t){return te(this,null,function*(){yield Le.snapshotCanvas(t)})}addSessionFeedback({timestamp:t,verbatim:i,user_email:n,user_name:s}){var r;this._worker.postMessage({message:{type:We.Feedback,verbatim:i,timestamp:t,userName:s||this.sessionData.userIdentifier,userEmail:n||(null==(r=this.sessionData.userObject)?void 0:r.name)}})}_save(){return te(this,null,function*(){var t;try{let i;"Recording"===this.state&&this.listeners&&this.sessionData.sessionStartTime&&Date.now()-this.sessionData.sessionStartTime>f.o&&(this.logger.log("Resetting session",{start:this.sessionData.sessionStartTime}),yield this._reset({})),"local"===(null==(t=this.options)?void 0:t.sendMode)&&(i=n=>te(this,null,function*(){let s=new Blob([JSON.stringify({query:dr(ca),variables:n})],{type:"application/json"});return yield window.fetch(`${this._backendUrl}`,{method:"POST",body:s}),0})),yield this._sendPayload({sendFn:i}),this.hasPushedData=!0,this.sessionData.lastPushTime=Date.now(),(0,f.k)(this.sessionData)}catch(i){this._isOnLocalHost&&(console.error(i),dt("_save",i))}"Recording"===this.state&&(this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this.pushPayloadTimerId=setTimeout(()=>{this._save()},f.q))})}addCustomEvent(t,i){if("NotRecording"===this.state){let n;const s=()=>{clearInterval(n),"Recording"===this.state&&this.events.length>0?oa(t,i):n=setTimeout(s,500)};n=setTimeout(s,500)}else"Recording"===this.state&&(this.events.length>0||this.hasPushedData)&&oa(t,i)}_sendPayload(t){return te(this,arguments,function*({sendFn:i}){const n=f.F.getRecordedNetworkResources(this._firstLoadListeners,this._recordingStartTime),s=f.F.getRecordedWebSocketEvents(this._firstLoadListeners),r=[...this.events],l=[...this._firstLoadListeners.messages],o=[...this._firstLoadListeners.errors],{bytes:a,time:c}=this.enableCanvasRecording?f.u.canvas:f.u.normal;this._eventBytesSinceSnapshot>=a&&(new Date).getTime()-this._lastSnapshotTime>=c&&this.takeFullSnapshot(),this.logger.log(`Sending: ${r.length} events, ${l.length} messages, ${n.length} network resources, ${o.length} errors \nTo: ${this._backendUrl}\nOrg: ${this.organizationID}\nSessionSecureID: ${this.sessionData.sessionSecureID}`);const d=(0,f.e)(Mt)||"";i?yield i({session_secure_id:this.sessionData.sessionSecureID,payload_id:this.sessionData.payloadID.toString(),events:{events:r},messages:(0,f.t)({messages:l}),resources:JSON.stringify({resources:n}),web_socket_events:JSON.stringify({webSocketEvents:s}),errors:o,is_beacon:!1,has_session_unloaded:this.hasSessionUnloaded}):this._worker.postMessage({message:{type:We.AsyncEvents,id:this.sessionData.payloadID++,events:r,messages:l,errors:o,resourcesString:JSON.stringify({resources:n}),webSocketEventsString:JSON.stringify({webSocketEvents:s}),hasSessionUnloaded:this.hasSessionUnloaded,highlightLogs:d}}),(0,f.k)(this.sessionData),f.F.clearRecordedNetworkResources(this._firstLoadListeners),this.events=this.events.slice(r.length),this._firstLoadListeners.messages=this._firstLoadListeners.messages.slice(l.length),this._firstLoadListeners.errors=this._firstLoadListeners.errors.slice(o.length),(e=>{if(!e)return;let t=(0,f.e)(Mt)||"";t&&(t.startsWith(e)?(t=t.slice(e.length),(0,f.s)(Mt,t)):(e=>{let t=(0,f.e)(Mt)||"";t=t+"["+(new Date).getTime()+"] "+e+"\n",(0,f.s)(Mt,t)})("Unable to clear logs "+e.replace("\n"," ")+" from "+t.replace("\n"," ")))})(d)})}takeFullSnapshot(){this._recordStop?(this.logger.log("taking full snapshot",{bytesSinceSnapshot:this._eventBytesSinceSnapshot,lastSnapshotTime:this._lastSnapshotTime}),Le.takeFullSnapshot(),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=(new Date).getTime()):this.logger.log("skipping full snapshot as rrweb is not running")}}}}]);
//# sourceMappingURL=77.a58321652939b197.js.map